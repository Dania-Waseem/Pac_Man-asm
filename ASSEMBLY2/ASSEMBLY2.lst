Microsoft (R) Macro Assembler Version 14.42.34436.0	    05/12/25 06:46:54
CODE.asm						     Page 1 - 1


				; 23i-2622
				; DS A
				; COAL SEMESTER PROJECT 



				include irvine32.inc
			      C ; Include file for Irvine32.lib             (Irvine32.inc)
			      C 
			      C ;OPTION CASEMAP:NONE		; optional: make identifiers case-sensitive
			      C 
			      C INCLUDE SmallWin.inc		; MS-Windows prototypes, structures, and constants
			      C .NOLIST
			      C .LIST
			      C 
			      C INCLUDE VirtualKeys.inc
			      C ; VirtualKeys.inc
			      C .NOLIST
			      C .LIST
			      C 
			      C 
			      C .NOLIST
			      C .LIST
			      C 
				includelib winmm.lib  ; Windows multimedia library

				; the below are variables for sound (took help from internet to load sounds)

 = 00020000			SND_FILENAME      EQU 00020000h
 = 00000001			SND_ASYNC         EQU 00000001h
 = 00000000			SND_SYNC          EQU 00000000h
 = 00000000			NULL              EQU 0


				PlaySound PROTO STDCALL, 
				    pszSound:DWORD, 
				    hmod:DWORD, 
				    fdwSound:DWORD

 = 00000050			GAME_WIDTH = 80 
 = 0000005A			INFO_START = 90

 00000000			.data

 00000000 43 3A 5C 55 73	    midSound db "C:\Users\DELL\OneDrive\Desktop\game.wav",0
	   65 72 73 5C 44
	   45 4C 4C 5C 4F
	   6E 65 44 72 69
	   76 65 5C 44 65
	   73 6B 74 6F 70
	   5C 67 61 6D 65
	   2E 77 61 76 00
 00000028 43 3A 5C 55 73	    PacmanIntro db "C:\Users\DELL\OneDrive\Desktop\pacman_beginning.wav",0
	   65 72 73 5C 44
	   45 4C 4C 5C 4F
	   6E 65 44 72 69
	   76 65 5C 44 65
	   73 6B 74 6F 70
	   5C 70 61 63 6D
	   61 6E 5F 62 65
	   67 69 6E 6E 69
	   6E 67 2E 77 61
	   76 00

 0000005C 53 6F 75 6E 64	    SoundError db "Sound file not found or couldn't be played!",0
	   20 66 69 6C 65
	   20 6E 6F 74 20
	   66 6F 75 6E 64
	   20 6F 72 20 63
	   6F 75 6C 64 6E
	   27 74 20 62 65
	   20 70 6C 61 79
	   65 64 21 00
				    
 00000088 45 6E 74 65 72		inputName db "Enter your name ... ",0
	   20 79 6F 75 72
	   20 6E 61 6D 65
	   20 2E 2E 2E 20
	   00
 0000009D  00000032 [		    username  db 50 dup(0)
	    00
	   ]

 000000CF 50 72 65 73 73	    returnMsg db 'Press 1 to return to main menu...', 0
	   20 31 20 74 6F
	   20 72 65 74 75
	   72 6E 20 74 6F
	   20 6D 61 69 6E
	   20 6D 65 6E 75
	   2E 2E 2E 00



 000000F1 23 23 23 23 23	    pmtitle1 db "#################################################################################",0
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 00
 00000143 23 20 20 20 20	    pmtitle2 db "#                                                                               #",0
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   23 00
 00000195 23 20 20 20 20	    pmtitle3 db "#      %%%%%%%%  %%%%%%%  %%%%%%%%     %%%%%   %%%%%  %%%%%%%%   %%      %      #",0
	   20 20 25 25 25
	   25 25 25 25 25
	   20 20 25 25 25
	   25 25 25 25 20
	   20 25 25 25 25
	   25 25 25 25 20
	   20 20 20 20 25
	   25 25 25 25 20
	   20 20 25 25 25
	   25 25 20 20 25
	   25 25 25 25 25
	   25 25 20 20 20
	   25 25 20 20 20
	   20 20 20 25 20
	   20 20 20 20 20
	   23 00
 000001E7 23 20 20 20 20		pmtitle4 db "#      %%     %  %     %  %            %   %   %   %  %      %   % %     %      #",0
	   20 20 25 25 20
	   20 20 20 20 25
	   20 20 25 20 20
	   20 20 20 25 20
	   20 25 20 20 20
	   20 20 20 20 20
	   20 20 20 20 25
	   20 20 20 25 20
	   20 20 25 20 20
	   20 25 20 20 25
	   20 20 20 20 20
	   20 25 20 20 20
	   25 20 25 20 20
	   20 20 20 25 20
	   20 20 20 20 20
	   23 00
 00000239 23 20 20 20 20		pmtitle5 db "#      %%     %  %     %  %            %   %   %   %  %      %   %  %    %      #",0
	   20 20 25 25 20
	   20 20 20 20 25
	   20 20 25 20 20
	   20 20 20 25 20
	   20 25 20 20 20
	   20 20 20 20 20
	   20 20 20 20 25
	   20 20 20 25 20
	   20 20 25 20 20
	   20 25 20 20 25
	   20 20 20 20 20
	   20 25 20 20 20
	   25 20 20 25 20
	   20 20 20 25 20
	   20 20 20 20 20
	   23 00
 0000028B 23 20 20 20 20		pmtitle6 db "#      %%%%%%%%  %%%%%%%  %       %%%  %   %%%%%   %  %%%%%%%%   %   %   %      #",0
	   20 20 25 25 25
	   25 25 25 25 25
	   20 20 25 25 25
	   25 25 25 25 20
	   20 25 20 20 20
	   20 20 20 20 25
	   25 25 20 20 25
	   20 20 20 25 25
	   25 25 25 20 20
	   20 25 20 20 25
	   25 25 25 25 25
	   25 25 20 20 20
	   25 20 20 20 25
	   20 20 20 25 20
	   20 20 20 20 20
	   23 00
 000002DD 23 20 20 20 20		pmtitle7 db "#      %%        %     %  %            %           %  %      %   %    %  %      #",0
	   20 20 25 25 20
	   20 20 20 20 20
	   20 20 25 20 20
	   20 20 20 25 20
	   20 25 20 20 20
	   20 20 20 20 20
	   20 20 20 20 25
	   20 20 20 20 20
	   20 20 20 20 20
	   20 25 20 20 25
	   20 20 20 20 20
	   20 25 20 20 20
	   25 20 20 20 20
	   25 20 20 25 20
	   20 20 20 20 20
	   23 00
 0000032F 23 20 20 20 20		pmtitle8 db "#      %%        %     %  %            %           %  %      %   %     % %      #",0
	   20 20 25 25 20
	   20 20 20 20 20
	   20 20 25 20 20
	   20 20 20 25 20
	   20 25 20 20 20
	   20 20 20 20 20
	   20 20 20 20 25
	   20 20 20 20 20
	   20 20 20 20 20
	   20 25 20 20 25
	   20 20 20 20 20
	   20 25 20 20 20
	   25 20 20 20 20
	   20 25 20 25 20
	   20 20 20 20 20
	   23 00
 00000381 23 20 20 20 20		pmtitle9 db "#      %%        %     %  %%%%%%%%     %           %  %      %   %      %%      #",0
	   20 20 25 25 20
	   20 20 20 20 20
	   20 20 25 20 20
	   20 20 20 25 20
	   20 25 25 25 25
	   25 25 25 25 20
	   20 20 20 20 25
	   20 20 20 20 20
	   20 20 20 20 20
	   20 25 20 20 25
	   20 20 20 20 20
	   20 25 20 20 20
	   25 20 20 20 20
	   20 20 25 25 20
	   20 20 20 20 20
	   23 00
 000003D3 23 20 20 20 20		pmtitle10 db"#                                                                               #",0
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   23 00
 00000425 23 23 23 23 23		pmtitle11 db"#################################################################################",0
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 00

 00000477 20 5F 5F 5F 20	    menutitle0 db " ___     ___ _________  ___     ___ ___   ___ ",0
	   20 20 20 20 5F
	   5F 5F 20 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 20 20 5F
	   5F 5F 20 20 20
	   20 20 5F 5F 5F
	   20 5F 5F 5F 20
	   20 20 5F 5F 5F
	   20 00
 000004A6 20 7C 20 20 5C	    menutitle1 db " |  \   /  | |  ______| |  \    | | | |   | | ",0
	   20 20 20 2F 20
	   20 7C 20 7C 20
	   20 5F 5F 5F 5F
	   5F 5F 7C 20 7C
	   20 20 5C 20 20
	   20 20 7C 20 7C
	   20 7C 20 7C 20
	   20 20 7C 20 7C
	   20 00
 000004D5 20 7C 20 7C 5C	    menutitle2 db " | |\\_//| | | |______  | |\\   | | | |   | |",0
	   5C 5F 2F 2F 7C
	   20 7C 20 7C 20
	   7C 5F 5F 5F 5F
	   5F 5F 20 20 7C
	   20 7C 5C 5C 20
	   20 20 7C 20 7C
	   20 7C 20 7C 20
	   20 20 7C 20 7C
	   00
 00000503 20 7C 20 7C 20	    menutitle3 db " | | \_/ | | | _______| | | \\  | | | |   | | ",0
	   5C 5F 2F 20 7C
	   20 7C 20 7C 20
	   5F 5F 5F 5F 5F
	   5F 5F 7C 20 7C
	   20 7C 20 5C 5C
	   20 20 7C 20 7C
	   20 7C 20 7C 20
	   20 20 7C 20 7C
	   20 00
 00000532 20 7C 20 7C 20	    menutitle4 db " | |     | | | |______  | |  \\ | | | |___| |",0
	   20 20 20 20 7C
	   20 7C 20 7C 20
	   7C 5F 5F 5F 5F
	   5F 5F 20 20 7C
	   20 7C 20 20 5C
	   5C 20 7C 20 7C
	   20 7C 20 7C 5F
	   5F 5F 7C 20 7C
	   00
 00000560 20 7C 5F 7C 20	    menutitle5 db " |_|     |_| |________| |_|   \\|_| |_______| ",0
	   20 20 20 20 7C
	   5F 7C 20 7C 5F
	   5F 5F 5F 5F 5F
	   5F 5F 7C 20 7C
	   5F 7C 20 20 20
	   5C 5C 7C 5F 7C
	   20 7C 5F 5F 5F
	   5F 5F 5F 5F 7C
	   20 00

 0000058F 2D 2D 2D 2D 2D	    menuopt0 db "---------------------------------",0
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 00
 000005B1 7C 20 20 31 2E	    menuopt1 db "|  1. Start Game ( 3 levels)    |",0
	   20 53 74 61 72
	   74 20 47 61 6D
	   65 20 28 20 33
	   20 6C 65 76 65
	   6C 73 29 20 20
	   20 20 7C 00
 000005D3 7C 20 20 32 2E	    menuopt2 db "|  2. Display Game Instructions |",0
	   20 44 69 73 70
	   6C 61 79 20 47
	   61 6D 65 20 49
	   6E 73 74 72 75
	   63 74 69 6F 6E
	   73 20 7C 00
 000005F5 7C 20 20 33 2E	    menuopt3 db "|  3. View Highscores /scores   |",0
	   20 56 69 65 77
	   20 48 69 67 68
	   73 63 6F 72 65
	   73 20 2F 73 63
	   6F 72 65 73 20
	   20 20 7C 00
 00000617 7C 20 20 34 2E	    menuopt4 db "|  4. Exit Game                 |",0
	   20 45 78 69 74
	   20 47 61 6D 65
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 7C 00
 00000639 7C 5F 5F 5F 5F	    menuopt5 db "|_______________________________|",0
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 7C 00

 0000065B 45 6E 74 65 72	    menuoptchoose db "Enter your choice:  ",0
	   20 79 6F 75 72
	   20 63 68 6F 69
	   63 65 3A 20 20
	   00

 00000670 2A 20 20 20 20	    level1opt0 db "*     ***** *       * *****  *          **    ",0
	   20 2A 2A 2A 2A
	   2A 20 2A 20 20
	   20 20 20 20 20
	   2A 20 2A 2A 2A
	   2A 2A 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   2A 2A 20 20 20
	   20 00
 0000069F 2A 20 20 20 20	    level1opt1 db "*     *      *     *  *      *          **    ",0
	   20 2A 20 20 20
	   20 20 20 2A 20
	   20 20 20 20 2A
	   20 20 2A 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   2A 2A 20 20 20
	   20 00
 000006CE 2A 20 20 20 20	    level1opt2 db "*     *****   *   *   *****  *          **    ",0
	   20 2A 2A 2A 2A
	   2A 20 20 20 2A
	   20 20 20 2A 20
	   20 20 2A 2A 2A
	   2A 2A 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   2A 2A 20 20 20
	   20 00
 000006FD 2A 20 20 20 20	    level1opt3 db "*     *        * *    *      *          **    ",0
	   20 2A 20 20 20
	   20 20 20 20 20
	   2A 20 2A 20 20
	   20 20 2A 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   2A 2A 20 20 20
	   20 00
 0000072C 2A 2A 2A 2A 2A	    level1opt4 db "***** *****     *     *****  *****      **    ",0
	   20 2A 2A 2A 2A
	   2A 20 20 20 20
	   20 2A 20 20 20
	   20 20 2A 2A 2A
	   2A 2A 20 20 2A
	   2A 2A 2A 2A 20
	   20 20 20 20 20
	   2A 2A 20 20 20
	   20 00

 0000075B 2A 20 20 20 20	    level2opt0 db "*     ***** *       * *****  *         *****  ",0
	   20 2A 2A 2A 2A
	   2A 20 2A 20 20
	   20 20 20 20 20
	   2A 20 2A 2A 2A
	   2A 2A 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 2A
	   2A 2A 2A 2A 20
	   20 00
 0000078A 2A 20 20 20 20	    level2opt1 db "*     *      *     *  *      *             *  ",0
	   20 2A 20 20 20
	   20 20 20 2A 20
	   20 20 20 20 2A
	   20 20 2A 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 2A 20
	   20 00
 000007B9 2A 20 20 20 20	    level2opt2 db "*     *****   *   *   *****  *         *****  ",0
	   20 2A 2A 2A 2A
	   2A 20 20 20 2A
	   20 20 20 2A 20
	   20 20 2A 2A 2A
	   2A 2A 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 2A
	   2A 2A 2A 2A 20
	   20 00
 000007E8 2A 20 20 20 20	    level2opt3 db "*     *        * *    *      *         *      ",0
	   20 2A 20 20 20
	   20 20 20 20 20
	   2A 20 2A 20 20
	   20 20 2A 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 00
 00000817 2A 2A 2A 2A 2A	    level2opt4 db "***** *****     *     *****  *****     *****  ",0
	   20 2A 2A 2A 2A
	   2A 20 20 20 20
	   20 2A 20 20 20
	   20 20 2A 2A 2A
	   2A 2A 20 20 2A
	   2A 2A 2A 2A 20
	   20 20 20 20 2A
	   2A 2A 2A 2A 20
	   20 00

 00000846 2A 20 20 20 20	    level3opt0 db "*     ***** *       * *****  *         *****  ",0
	   20 2A 2A 2A 2A
	   2A 20 2A 20 20
	   20 20 20 20 20
	   2A 20 2A 2A 2A
	   2A 2A 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 2A
	   2A 2A 2A 2A 20
	   20 00
 00000875 2A 20 20 20 20	    level3opt1 db "*     *      *     *  *      *             *  ",0
	   20 2A 20 20 20
	   20 20 20 2A 20
	   20 20 20 20 2A
	   20 20 2A 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 2A 20
	   20 00
 000008A4 2A 20 20 20 20	    level3opt2 db "*     *****   *   *   *****  *         *****  ",0
	   20 2A 2A 2A 2A
	   2A 20 20 20 2A
	   20 20 20 2A 20
	   20 20 2A 2A 2A
	   2A 2A 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 2A
	   2A 2A 2A 2A 20
	   20 00
 000008D3 2A 20 20 20 20	    level3opt3 db "*     *        * *    *      *             *  ",0
	   20 2A 20 20 20
	   20 20 20 20 20
	   2A 20 2A 20 20
	   20 20 2A 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 2A 20
	   20 00
 00000902 2A 2A 2A 2A 2A	    level3opt4 db "***** *****     *     *****  *****     *****  ",0
	   20 2A 2A 2A 2A
	   2A 20 20 20 20
	   20 2A 20 20 20
	   20 20 2A 2A 2A
	   2A 2A 20 20 2A
	   2A 2A 2A 2A 20
	   20 20 20 20 2A
	   2A 2A 2A 2A 20
	   20 00

 00000931 20 45 6E 74 65	    leveloptchoose1 db " Enter you choice (1: Level 1, 2: Level 2 , 3: Level 3) ",0
	   72 20 79 6F 75
	   20 63 68 6F 69
	   63 65 20 28 31
	   3A 20 4C 65 76
	   65 6C 20 31 2C
	   20 32 3A 20 4C
	   65 76 65 6C 20
	   32 20 2C 20 33
	   3A 20 4C 65 76
	   65 6C 20 33 29
	   20 00
 0000096A 20 52 65 74 75	    leveloptchoose2 db " Return to Main Menu (press 4), Exit Game (press 5) ",0
	   72 6E 20 74 6F
	   20 4D 61 69 6E
	   20 4D 65 6E 75
	   20 28 70 72 65
	   73 73 20 34 29
	   2C 20 45 78 69
	   74 20 47 61 6D
	   65 20 28 70 72
	   65 73 73 20 35
	   29 20 00


 0000099F 20 20 20 20 20	    instruc1 db "                          INSTRUCTIONS                             ",0
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 49 4E 53 54
	   52 55 43 54 49
	   4F 4E 53 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 00
 000009E3 5F 5F 5F 5F 5F	    instruc2 db "_______________________________________________________________________",0
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 00
 00000A2B 2D 2D 2D 2D 2D	    instruc3 db "-----------------------------------------------------------------------",0
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 00
 00000A73 20 31 2E 20 54	    instruc4 db " 1. To earn points eat the pellets.",0
	   6F 20 65 61 72
	   6E 20 70 6F 69
	   6E 74 73 20 65
	   61 74 20 74 68
	   65 20 70 65 6C
	   6C 65 74 73 2E
	   00
 00000A97 20 32 2E 20 45	    instruc5 db " 2. Each pellet is worth one point.",0
	   61 63 68 20 70
	   65 6C 6C 65 74
	   20 69 73 20 77
	   6F 72 74 68 20
	   6F 6E 65 20 70
	   6F 69 6E 74 2E
	   00
 00000ABB 20 33 20 20 53	    instruc6 db " 3  Stay away from the ghosts, if one catches you, You lose a life.",0
	   74 61 79 20 61
	   77 61 79 20 66
	   72 6F 6D 20 74
	   68 65 20 67 68
	   6F 73 74 73 2C
	   20 69 66 20 6F
	   6E 65 20 63 61
	   74 63 68 65 73
	   20 79 6F 75 2C
	   20 59 6F 75 20
	   6C 6F 73 65 20
	   61 20 6C 69 66
	   65 2E 00
 00000AFF 20 34 2E 20 55	    instruc7 db " 4. Use W,A,S,D keys move up,down,left and right respectively.",0
	   73 65 20 57 2C
	   41 2C 53 2C 44
	   20 6B 65 79 73
	   20 6D 6F 76 65
	   20 75 70 2C 64
	   6F 77 6E 2C 6C
	   65 66 74 20 61
	   6E 64 20 72 69
	   67 68 74 20 72
	   65 73 70 65 63
	   74 69 76 65 6C
	   79 2E 00
 00000B3E 5F 5F 5F 5F 5F	    instruc8 db "________________________________________________________________________",0
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 00
 00000B87 2D 2D 2D 2D 2D	    instruc9 db "------------------------------------------------------------------------",0
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 00

 00000BD0 50 72 65 73 73	    instrucChoose db "Press 1 to return to menu, Press 2 to Exit Game: ",0
	   20 31 20 74 6F
	   20 72 65 74 75
	   72 6E 20 74 6F
	   20 6D 65 6E 75
	   2C 20 50 72 65
	   73 73 20 32 20
	   74 6F 20 45 78
	   69 74 20 47 61
	   6D 65 3A 20 00

 00000C02 20 20 20 20 20	    hsTitle0 db "        ______        _____  _____ ______ _____ _____ _____  ",0
	   20 20 20 5F 5F
	   5F 5F 5F 5F 20
	   20 20 20 20 20
	   20 20 5F 5F 5F
	   5F 5F 20 20 5F
	   5F 5F 5F 5F 20
	   5F 5F 5F 5F 5F
	   5F 20 5F 5F 5F
	   5F 5F 20 5F 5F
	   5F 5F 5F 20 5F
	   5F 5F 5F 5F 20
	   20 00
 00000C40 7C 20 20 20 7C	    hsTitle1 db "|   | | |      |   |  |      |     |    | |   | |     |      ",0
	   20 7C 20 7C 20
	   20 20 20 20 20
	   7C 20 20 20 7C
	   20 20 7C 20 20
	   20 20 20 20 7C
	   20 20 20 20 20
	   7C 20 20 20 20
	   7C 20 7C 20 20
	   20 7C 20 7C 20
	   20 20 20 20 7C
	   20 20 20 20 20
	   20 00
 00000C7E 7C 5F 5F 5F 7C	    hsTitle2 db "|___| | |  ___ |___|  |____  |     |    | |___| |____ |____  ",0
	   20 7C 20 7C 20
	   20 5F 5F 5F 20
	   7C 5F 5F 5F 7C
	   20 20 7C 5F 5F
	   5F 5F 20 20 7C
	   20 20 20 20 20
	   7C 20 20 20 20
	   7C 20 7C 5F 5F
	   5F 7C 20 7C 5F
	   5F 5F 5F 20 7C
	   5F 5F 5F 5F 20
	   20 00
 00000CBC 7C 20 20 20 7C	    hsTitle3 db "|   | | |    | |   |       | |     |    | | \   |          | ",0
	   20 7C 20 7C 20
	   20 20 20 7C 20
	   7C 20 20 20 7C
	   20 20 20 20 20
	   20 20 7C 20 7C
	   20 20 20 20 20
	   7C 20 20 20 20
	   7C 20 7C 20 5C
	   20 20 20 7C 20
	   20 20 20 20 20
	   20 20 20 20 7C
	   20 00
 00000CFA 7C 20 20 20 7C	    hsTitle4 db "|   | | |____| |   |  _____| |____ |____| |  \  |____  ____| ",0
	   20 7C 20 7C 5F
	   5F 5F 5F 7C 20
	   7C 20 20 20 7C
	   20 20 5F 5F 5F
	   5F 5F 7C 20 7C
	   5F 5F 5F 5F 20
	   7C 5F 5F 5F 5F
	   7C 20 7C 20 20
	   5C 20 20 7C 5F
	   5F 5F 5F 20 20
	   5F 5F 5F 5F 7C
	   20 00

 00000D38 2E 2E 2E 47 41	    gamePause1 db "...GAME PAUSED...",0
	   4D 45 20 50 41
	   55 53 45 44 2E
	   2E 2E 00
 00000D4A 50 72 65 73 73	    gamePause2 db "Press 1: Resume Game",0
	   20 31 3A 20 52
	   65 73 75 6D 65
	   20 47 61 6D 65
	   00
 00000D5F 50 72 65 73 73	    gamePause3 db "Press 2: Go to Menu",0
	   20 32 3A 20 47
	   6F 20 74 6F 20
	   4D 65 6E 75 00
 00000D73 50 72 65 73 73	    gamePause4 db "Press 3: Exit Game",0
	   20 33 3A 20 45
	   78 69 74 20 47
	   61 6D 65 00


 00000D86 20 20 5F 5F 5F	    gameOverMsg1 db "  ____                         ___                 ",0
	   5F 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 5F 5F 5F 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 00
 00000DBA 20 2F 20 5F 5F	    gameOverMsg2 db " / ___| __ _ _ __ ___   ___   / _ \__   _____ _ __",0
	   5F 7C 20 5F 5F
	   20 5F 20 5F 20
	   5F 5F 20 5F 5F
	   5F 20 20 20 5F
	   5F 5F 20 20 20
	   2F 20 5F 20 5C
	   5F 5F 20 20 20
	   5F 5F 5F 5F 5F
	   20 5F 20 5F 5F
	   00
 00000DED 7C 20 7C 20 20	    gameOverMsg3 db "| |  _ / _` | '_ ` _ \ / _ \ | | | \ \ / / _ \ '__|",0
	   5F 20 2F 20 5F
	   60 20 7C 20 27
	   5F 20 60 20 5F
	   20 5C 20 2F 20
	   5F 20 5C 20 7C
	   20 7C 20 7C 20
	   5C 20 5C 20 2F
	   20 2F 20 5F 20
	   5C 20 27 5F 5F
	   7C 00
 00000E21 7C 20 7C 5F 7C	    gameOverMsg4 db "| |_| | (_| | | | | | |  __/ | |_| |\ V /  __/ |   ",0
	   20 7C 20 28 5F
	   7C 20 7C 20 7C
	   20 7C 20 7C 20
	   7C 20 7C 20 20
	   5F 5F 2F 20 7C
	   20 7C 5F 7C 20
	   7C 5C 20 56 20
	   2F 20 20 5F 5F
	   2F 20 7C 20 20
	   20 00
 00000E55 20 5C 5F 5F 5F	    gameOverMsg5 db " \____|\__,_|_| |_| |_|\___|  \___/  \_/ \___|_|   ",0
	   5F 7C 5C 5F 5F
	   2C 5F 7C 5F 7C
	   20 7C 5F 7C 20
	   7C 5F 7C 5C 5F
	   5F 5F 7C 20 20
	   5C 5F 5F 5F 2F
	   20 20 5C 5F 2F
	   20 5C 5F 5F 5F
	   7C 5F 7C 20 20
	   20 00
 00000E89 59 4F 55 52 20	    scoreDisplay db "YOUR FINAL SCORE: ",0
	   46 49 4E 41 4C
	   20 53 43 4F 52
	   45 3A 20 00
 00000E9C 50 52 45 53 53	    returnOption db "PRESS 1 TO RETURN TO MENU",0
	   20 31 20 54 4F
	   20 52 45 54 55
	   52 4E 20 54 4F
	   20 4D 45 4E 55
	   00


 00000EB6 20 2A 20 20 20	    levelCompleteMsg1 db " *       *   *****   *     * ",0
	   20 20 20 20 2A
	   20 20 20 2A 2A
	   2A 2A 2A 20 20
	   20 2A 20 20 20
	   20 20 2A 20 00
 00000ED4 20 2A 20 20 20	    levelCompleteMsg2 db " *       *   *   *   **    * ",0
	   20 20 20 20 2A
	   20 20 20 2A 20
	   20 20 2A 20 20
	   20 2A 2A 20 20
	   20 20 2A 20 00
 00000EF2 20 2A 20 20 20	    levelCompleteMsg3 db " *   *   *   *   *   * *   * ",0
	   2A 20 20 20 2A
	   20 20 20 2A 20
	   20 20 2A 20 20
	   20 2A 20 2A 20
	   20 20 2A 20 00
 00000F10 20 2A 20 20 2A	    levelCompleteMsg4 db " *  * *  *   *   *   *  *  * ",0
	   20 2A 20 20 2A
	   20 20 20 2A 20
	   20 20 2A 20 20
	   20 2A 20 20 2A
	   20 20 2A 20 00
 00000F2E 20 2A 20 2A 20	    levelCompleteMsg5 db " * *   * *   *   *   *   * * ",0
	   20 20 2A 20 2A
	   20 20 20 2A 20
	   20 20 2A 20 20
	   20 2A 20 20 20
	   2A 20 2A 20 00
 00000F4C 20 2A 20 20 20	    levelCompleteMsg6 db " *       *   *****   *    ** ",0
	   20 20 20 20 2A
	   20 20 20 2A 2A
	   2A 2A 2A 20 20
	   20 2A 20 20 20
	   20 2A 2A 20 00




				    ;yeh colors hain 
 = 00000004			    redTxt = red+(black*16);
 = 0000000E			    yellowTxt =yellow+(black*16);
 = 00000002			    greenTxt =green+ (black*16);
 = 00000001			    blueTxt =blue+ (black*16);
 = 0000000F			    whiteTxt =white+ (black *16);
 = 00000005			    purpleTxt = magenta + (black*16)
 = 00000000			    blackTxt= black +(black*16)



				; Add these procedures to your code section

 00000F6A 00			    userChoice db ?
 00000F6B 00			    temp db ?
 00000F6C 00			    currentLevel db ?

				;-----------------------------------------
				;level 1 vars for drawing
 00000F6D 50 6C 61 79 65	    playerName  BYTE "Player 1", 0
	   72 20 31 00
 00000F76 53 63 6F 72 65	    scoreMsg    BYTE "Score: ", 0
	   3A 20 00
 00000F7E 4C 69 76 65 73	    livesMsg    BYTE "Lives: ", 0
	   3A 20 00
 00000F86 4C 65 76 65 6C	    levelMsg    BYTE "Level: ", 0
	   3A 20 00


 00000F8E 23			wallChar    BYTE '#'
 00000F8F 20			emptyChar   BYTE ' '

				;---------------------------------------
				;other level 1 vars 

 00000F90 6F 00			pelletChar db 'o',0
 00000F92 58 00			pacmanChar db 'X',0
 00000F94 47 00			ghostChar db 'G',0
 00000F96 14			pelletCount db 20
 00000F97  00000014 [		pelletPositions db 20 dup(0,0) ; Array of x,y positions
	    00 00
	   ]
 00000FBF 0A			pacmanX db 10
 00000FC0 0F			pacmanY db 15
 00000FC1 32			ghostX db 50
 00000FC2 0F			ghostY db 15
 00000FC3 00000000		score dd 0
 00000FC7 00000003		lives dd 3
 00000FCB 00000001		level dd 1
 00000FCF 00			oldPacmanX db ?
 00000FD0 00			oldPacmanY db ?

				;.................................................
				;level 1 ghost vars
 00000FD1 01			    ghostDir db 1  ; 1=right, 2=left, 3=up, 4=down
 00000FD2 00			    oldGhostX db ?
 00000FD3 00			    oldGhostY db ?

				;.................................
				;pause variables
 00000FD4 50 52 45 53 53	    pauseMsg db "PRESS Q TO PAUSE GAME",0
	   20 51 20 54 4F
	   20 50 41 55 53
	   45 20 47 41 4D
	   45 00
 00000FEA 47 41 4D 45 20	    pausedMsg db "GAME PAUSED - PRESS Q TO RESUME ",0
	   50 41 55 53 45
	   44 20 2D 20 50
	   52 45 53 53 20
	   51 20 54 4F 20
	   52 45 53 55 4D
	   45 20 00
 0000100B 00			    gamePaused db 0
 0000100C 00			    prevPauseState db 0  ; To track state changes
				; ==================== FILE HANDLING DATA ====================

				; File handling constants
 = 00000400			BUFFER_SIZE = 1024
 = 0000000A			MAX_SCORES = 10
 = 00000010			MAX_NAME_LEN = 16

				; File operations
 0000100D 73 63 6F 72 65	filename    BYTE "scores.txt",0
	   73 2E 74 78 74
	   00
 00001018 00000000		fileHandle  DWORD ?
 0000101C 00000000		bytesRead   DWORD ?

				; Buffers
 00001020  00000400 [		fileBuffer  BYTE BUFFER_SIZE DUP(?)
	    00
	   ]
 00001420  00000400 [		tempBuffer  BYTE BUFFER_SIZE DUP(?)
	    00
	   ]

				; Formatting
 00001820 2C 00			comma       BYTE ",",0
 00001822 0D 0A 00		newline     BYTE 0Dh,0Ah,0

				; Score storage
 00001825  0000000A [		scores      DWORD MAX_SCORES DUP(0)
	    00000000
	   ]
 0000184D  000000A0 [		names       BYTE MAX_SCORES * MAX_NAME_LEN DUP(0)
	    00
	   ]
 000018ED  0000000A [		levels      BYTE MAX_SCORES DUP(0)
	    00
	   ]
 000018F7 00000000		scoreCount  DWORD 0

				; Score processing
 000018FB  0000000A [		arr_score   BYTE 10 DUP(0)
	    00
	   ]
 00001905  00000010 [		arr_name    BYTE MAX_NAME_LEN DUP(0)
	    00
	   ]
 00001915 00			score_size  BYTE 0
 00001916 00			name_size   BYTE 0
 00001917 00000000		score1      DWORD 0
 0000191B 00000000		userCount   DWORD 0

				; ============================================================

				; Display strings
 0000191F 52 61 6E 6B 20	hsHeader1 db "Rank  Name            Score  Level", 0
	   20 4E 61 6D 65
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 53 63 6F
	   72 65 20 20 4C
	   65 76 65 6C 00
 00001942 2D 2D 2D 2D 2D	hsHeader2 db "-------------------------------", 0
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 00
 00001962 4E 6F 20 68 69	noScoresMsg db "No high scores yet!", 0
	   67 68 20 73 63
	   6F 72 65 73 20
	   79 65 74 21 00


				; ==================== LEVEL 2 VARIABLES ====================
				; Ghost variables for level 2
 00001976 46			ghost2X db 70
 00001977 0F			ghost2Y db 15
 00001978 00			oldGhost2X db ?
 00001979 00			oldGhost2Y db ?
 0000197A 03			ghost2Dir db 3  ; Different initial direction for variety
 = 00000005			ghost2Color = magenta + (black*16)

				; Fruit variables
 0000197B 4F 00			fruitChar db 'O',0
 0000197D 00			fruit1X db ?
 0000197E 00			fruit1Y db ?
 0000197F 00			fruit2X db ?
 00001980 00			fruit2Y db ?
 00001981 00 00			fruitActive db 0, 0  ; Track if fruits are active
 00001983 00000000		fruitTimer dd 0
 = 00001770			FRUIT_SPAWN_TIME = 6000  ; 6 seconds
 = 00000005			FRUIT_POINTS = 5

				;=============================================================================================
				;============================================================================================
 00000000			.code
 00000000			main proc
 00000000  E8 00000000 E	    call Clrscr
 00000005  E8 00000059		    call WelcomeScreen
 0000000A  E8 0000018D		    call MenuScreen
 0000000F  E8 00000739		    call Level1Screen
				    
				    exit
 00000014  6A 00	   *	    push   +000000000h
 00000016  E8 00000000 E   *	    call   ExitProcess
 0000001B			main endp

				;-----------------------------------------------------
 0000001B			introSound PROC
 0000001B  50			    push eax
 0000001C  52			    push edx

				    INVOKE PlaySound, OFFSET PacmanIntro, NULL, SND_FILENAME OR SND_ASYNC
 0000001D  68 00020001	   *	    push   +000020001h
 00000022  6A 00	   *	    push   +000000000h
 00000024  68 00000028 R   *	    push   dword  ptr OFFSET FLAT: PacmanIntro
 00000029  E8 00000000 E   *	    call   PlaySound
				    
 0000002E  85 C0		    test eax, eax
 00000030  75 0A		    jnz no_error1
 00000032  BA 0000005C R	    mov edx, OFFSET SoundError
 00000037  E8 00000000 E	    call WriteString
 0000003C			no_error1:
 0000003C  5A			    pop edx
 0000003D  58			    pop eax
 0000003E  C3			    ret
 0000003F			introSound ENDP

				;-----------------------------------------------------
 0000003F			levelSound PROC
 0000003F  50			    push eax
 00000040  52			    push edx
				    INVOKE PlaySound, OFFSET midSound, NULL, SND_FILENAME OR SND_ASYNC
 00000041  68 00020001	   *	    push   +000020001h
 00000046  6A 00	   *	    push   +000000000h
 00000048  68 00000000 R   *	    push   dword  ptr OFFSET FLAT: midSound
 0000004D  E8 00000000 E   *	    call   PlaySound
 00000052  85 C0		    test eax, eax
 00000054  75 0A		    jnz no_error2
 00000056  BA 0000005C R	    mov edx, OFFSET SoundError
 0000005B  E8 00000000 E	    call WriteString
 00000060			no_error2:
 00000060  5A			    pop edx
 00000061  58			    pop eax
 00000062  C3			    ret
 00000063			levelSound ENDP

				;-----------------------------------------------------
 00000063			WelcomeScreen proc

 00000063  E8 FFFFFFB3		    call introSound

				    ; Red Color
 00000068  B8 00000004		    mov eax, redTxt
 0000006D  E8 00000000 E	    call SetTextColor

 00000072  B6 05		    mov dh,5
 00000074  B2 0C		    mov dl,12
 00000076  E8 00000000 E	    call Gotoxy
 0000007B  BA 000000F1 R	    mov edx, offset pmtitle1
 00000080  E8 00000000 E	    call WriteString

 00000085  B6 06		    mov dh, 6
 00000087  B2 0C		    mov dl, 12
 00000089  E8 00000000 E	    call Gotoxy
 0000008E  BA 00000143 R	    mov edx, offset pmtitle2
 00000093  E8 00000000 E	    call WriteString

 00000098  B6 07		    mov dh, 7
 0000009A  B2 0C		    mov dl, 12
 0000009C  E8 00000000 E	    call Gotoxy
 000000A1  BA 00000195 R	    mov edx, offset pmtitle3
 000000A6  E8 00000000 E	    call WriteString

				    ; Blue Color
 000000AB  B8 00000001		    mov eax, blueTxt
 000000B0  E8 00000000 E	    call SetTextColor

 000000B5  B6 08		    mov dh, 8
 000000B7  B2 0C		    mov dl, 12
 000000B9  E8 00000000 E	    call Gotoxy
 000000BE  BA 000001E7 R	    mov edx, offset pmtitle4
 000000C3  E8 00000000 E	    call WriteString

 000000C8  B6 09		    mov dh, 9
 000000CA  B2 0C		    mov dl, 12
 000000CC  E8 00000000 E	    call Gotoxy
 000000D1  BA 00000239 R	    mov edx, offset pmtitle5
 000000D6  E8 00000000 E	    call WriteString

 000000DB  B6 0A		    mov dh, 10
 000000DD  B2 0C		    mov dl, 12
 000000DF  E8 00000000 E	    call Gotoxy
 000000E4  BA 0000028B R	    mov edx, offset pmtitle6
 000000E9  E8 00000000 E	    call WriteString

 000000EE  B6 0B		    mov dh, 11
 000000F0  B2 0C		    mov dl, 12
 000000F2  E8 00000000 E	    call Gotoxy
 000000F7  BA 000002DD R	    mov edx, offset pmtitle7
 000000FC  E8 00000000 E	    call WriteString

				    ; Green Color 
 00000101  B8 00000002		    mov eax, greenTxt
 00000106  E8 00000000 E	    call SetTextColor

 0000010B  B6 0C		    mov dh, 12
 0000010D  B2 0C		    mov dl, 12
 0000010F  E8 00000000 E	    call Gotoxy
 00000114  BA 0000032F R	    mov edx, offset pmtitle8
 00000119  E8 00000000 E	    call WriteString

 0000011E  B6 0D		    mov dh,13
 00000120  B2 0C		    mov dl,12
 00000122  E8 00000000 E	    call Gotoxy
 00000127  BA 00000381 R	    mov edx, offset pmtitle9
 0000012C  E8 00000000 E	    call WriteString

 00000131  B6 0E		    mov dh, 14
 00000133  B2 0C		    mov dl, 12
 00000135  E8 00000000 E	    call Gotoxy
 0000013A  BA 000003D3 R	    mov edx, offset pmtitle10
 0000013F  E8 00000000 E	    call WriteString

 00000144  B6 0F		    mov dh, 15
 00000146  B2 0C		    mov dl, 12
 00000148  E8 00000000 E	    call Gotoxy
 0000014D  BA 00000425 R	    mov edx, offset pmtitle11
 00000152  E8 00000000 E	    call WriteString

				    
 00000157  B8 0000000E		    mov eax, yellowTxt
 0000015C  E8 00000000 E	    call SetTextColor

 00000161  B6 13		    mov dh, 19
 00000163  B2 0C		    mov dl, 12
 00000165  E8 00000000 E	    call Gotoxy
 0000016A  BA 00000088 R	    mov edx, offset inputName
 0000016F  E8 00000000 E	    call WriteString

				    ; asking for user input
 00000174  BA 0000009D R	    mov edx, offset userName
 00000179  B9 00000032		    mov ecx, lengthof userName
 0000017E  E8 00000000 E	    call ReadString

 00000183  B6 16		    mov dh, 22
 00000185  B2 0B		    mov dl,11
 00000187  E8 00000000 E	    call Gotoxy
 0000018C  BA 00000F6B R	    mov edx, offset temp
 00000191  E8 00000000 E	    call WaitMsg
 00000196  E8 00000000 E	    call Clrscr
 0000019B  C3			    ret
 0000019C			WelcomeScreen endp


				;-----------------------------------------------------
 0000019C			MenuScreen proc

 0000019C  E8 FFFFFE7A		    call introSound

 000001A1  E8 00000000 E	    call Clrscr
				    
 000001A6  B8 00000001		    mov eax, blueTxt
 000001AB  E8 00000000 E	    call SetTextColor
				    
 000001B0  B6 05		    mov dh, 5
 000001B2  B2 1E		    mov dl, 30
 000001B4  E8 00000000 E	    call Gotoxy
 000001B9  BA 00000477 R	    mov edx, offset menutitle0
 000001BE  E8 00000000 E	    call WriteString
				    
 000001C3  B6 06		    mov dh, 6
 000001C5  B2 1E		    mov dl, 30
 000001C7  E8 00000000 E	    call Gotoxy
 000001CC  BA 000004A6 R	    mov edx, offset menutitle1
 000001D1  E8 00000000 E	    call WriteString
				    
 000001D6  B6 07		    mov dh, 7
 000001D8  B2 1E		    mov dl, 30
 000001DA  E8 00000000 E    call Gotoxy
 000001DF  BA 000004D5 R	    mov edx, offset menutitle2
 000001E4  E8 00000000 E	    call WriteString
				    
 000001E9  B6 08		    mov dh, 8
 000001EB  B2 1E		    mov dl, 30
 000001ED  E8 00000000 E	    call Gotoxy
 000001F2  BA 00000503 R	    mov edx, offset menutitle3
 000001F7  E8 00000000 E	    call WriteString
				    
 000001FC  B6 09		    mov dh, 9
 000001FE  B2 1E		    mov dl, 30
 00000200  E8 00000000 E	    call Gotoxy
 00000205  BA 00000532 R	    mov edx, offset menutitle4
 0000020A  E8 00000000 E	    call WriteString
				    
 0000020F  B6 0A		    mov dh, 10
 00000211  B2 1E		    mov dl, 30
 00000213  E8 00000000 E	    call Gotoxy
 00000218  BA 00000560 R	    mov edx, offset menutitle5
 0000021D  E8 00000000 E	    call WriteString
				    
				    ;menu options in green
 00000222  B8 00000002		    mov eax, greenTxt
 00000227  E8 00000000 E	    call SetTextColor
				    
 0000022C  B6 0D		    mov dh, 13
 0000022E  B2 23		    mov dl, 35
 00000230  E8 00000000 E	    call Gotoxy
 00000235  BA 0000058F R	    mov edx, offset menuopt0
 0000023A  E8 00000000 E	    call WriteString
				    
 0000023F  B6 0E		    mov dh, 14
 00000241  B2 23		    mov dl, 35
 00000243  E8 00000000 E	    call Gotoxy
 00000248  BA 000005B1 R	    mov edx, offset menuopt1
 0000024D  E8 00000000 E	    call WriteString
				    
 00000252  B6 0F		    mov dh, 15
 00000254  B2 23		    mov dl, 35
 00000256  E8 00000000 E	    call Gotoxy
 0000025B  BA 000005D3 R	    mov edx, offset menuopt2
 00000260  E8 00000000 E	    call WriteString
				    
 00000265  B6 10		    mov dh, 16
 00000267  B2 23		    mov dl, 35
 00000269  E8 00000000 E	    call Gotoxy
 0000026E  BA 000005F5 R	    mov edx, offset menuopt3
 00000273  E8 00000000 E	    call WriteString
				    
 00000278  B6 11		    mov dh, 17
 0000027A  B2 23		    mov dl, 35
 0000027C  E8 00000000 E	    call Gotoxy
 00000281  BA 00000617 R	    mov edx, offset menuopt4
 00000286  E8 00000000 E	    call WriteString
				    
 0000028B  B6 12		    mov dh, 18
 0000028D  B2 23		    mov dl, 35
 0000028F  E8 00000000 E	    call Gotoxy
 00000294  BA 00000639 R	    mov edx, offset menuopt5
 00000299  E8 00000000 E	    call WriteString
				    
				    ; user choice
 0000029E  B8 0000000F		    mov eax, whiteTxt
 000002A3  E8 00000000 E	    call SetTextColor
				    
 000002A8  B6 14		    mov dh, 20
 000002AA  B2 23		    mov dl, 35
 000002AC  E8 00000000 E	    call Gotoxy
 000002B1  BA 0000065B R	    mov edx, offset menuoptchoose
 000002B6  E8 00000000 E	    call WriteString
				    
 000002BB  E8 00000000 E	    call ReadInt
 000002C0  A2 00000F6A R	    mov userChoice, al
				    
				  
 000002C5  80 3D 00000F6A R	    cmp userChoice, 1
	   01
 000002CC  74 20		    je LevelSelection
 000002CE  80 3D 00000F6A R	    cmp userChoice, 2
	   02
 000002D5  74 21		    je ShowInstructions
 000002D7  80 3D 00000F6A R	    cmp userChoice, 3
	   03
 000002DE  74 22		    je ShowHighscores
 000002E0  80 3D 00000F6A R	    cmp userChoice, 4
	   04
 000002E7  74 23		    je ExitGame
				    
				    ;if user ghalat option then go to menu (already udhr he)
 000002E9  E9 FFFFFEAE		    jmp MenuScreen
				    
 000002EE			LevelSelection:
 000002EE  E8 00000025		    call LevelSelectScreen
 000002F3  E9 FFFFFEA4		    jmp MenuScreen
				    
 000002F8			ShowInstructions:
 000002F8  E8 000001E1		    call InstructionsScreen
 000002FD  E9 FFFFFE9A		    jmp MenuScreen
				    
 00000302			ShowHighscores:
 00000302  E8 000002B1		    call HighscoresScreen
 00000307  E9 FFFFFE90		    jmp MenuScreen
				    
 0000030C			ExitGame:
 0000030C  E8 00000000 E	    call Clrscr
				    exit
 00000311  6A 00	   *	    push   +000000000h
 00000313  E8 00000000 E   *	    call   ExitProcess
 00000318			MenuScreen endp

				;-----------------------------------------------------
 00000318			LevelSelectScreen proc

 00000318  E8 FFFFFCFE		    call introSound

 0000031D  E8 00000000 E	    call Clrscr
				    
				    ; Display level selection title
 00000322  B8 00000001		    mov eax, blueTxt
 00000327  E8 00000000 E	    call SetTextColor
				    
				    
				    ; level options
 0000032C  B8 00000004		    mov eax, redTxt
 00000331  E8 00000000 E	    call SetTextColor
				    
				    ; Level 1
 00000336  B6 03		    mov dh, 3
 00000338  B2 1E		    mov dl, 30
 0000033A  E8 00000000 E	    call Gotoxy
 0000033F  BA 00000670 R	    mov edx, offset level1opt0
 00000344  E8 00000000 E	    call WriteString
				    
 00000349  B6 04		    mov dh, 4
 0000034B  B2 1E		    mov dl, 30
 0000034D  E8 00000000 E	    call Gotoxy
 00000352  BA 0000069F R	    mov edx, offset level1opt1
 00000357  E8 00000000 E	    call WriteString
				    
 0000035C  B6 05		    mov dh, 5
 0000035E  B2 1E		    mov dl, 30
 00000360  E8 00000000 E	    call Gotoxy
 00000365  BA 000006CE R	    mov edx, offset level1opt2
 0000036A  E8 00000000 E	    call WriteString
				    
 0000036F  B6 06		    mov dh, 6
 00000371  B2 1E		    mov dl, 30
 00000373  E8 00000000 E	    call Gotoxy
 00000378  BA 000006FD R	    mov edx, offset level1opt3
 0000037D  E8 00000000 E	    call WriteString
				    
 00000382  B6 07		    mov dh, 7
 00000384  B2 1E		    mov dl, 30
 00000386  E8 00000000 E	    call Gotoxy
 0000038B  BA 0000072C R	    mov edx, offset level1opt4
 00000390  E8 00000000 E	    call WriteString
				    
				    ; Level 2
 00000395  B6 0A		    mov dh, 10
 00000397  B2 1E		    mov dl, 30
 00000399  E8 00000000 E	    call Gotoxy
 0000039E  BA 0000075B R	    mov edx, offset level2opt0
 000003A3  E8 00000000 E	    call WriteString
				    
 000003A8  B6 0B		    mov dh, 11
 000003AA  B2 1E		    mov dl, 30
 000003AC  E8 00000000 E	    call Gotoxy
 000003B1  BA 0000078A R	    mov edx, offset level2opt1
 000003B6  E8 00000000 E	    call WriteString
				    
 000003BB  B6 0C		    mov dh, 12
 000003BD  B2 1E		    mov dl, 30
 000003BF  E8 00000000 E	    call Gotoxy
 000003C4  BA 000007B9 R	    mov edx, offset level2opt2
 000003C9  E8 00000000 E	    call WriteString
				    
 000003CE  B6 0D		    mov dh, 13
 000003D0  B2 1E		    mov dl, 30
 000003D2  E8 00000000 E	    call Gotoxy
 000003D7  BA 000007E8 R	    mov edx, offset level2opt3
 000003DC  E8 00000000 E	    call WriteString
				    
 000003E1  B6 0E		    mov dh, 14
 000003E3  B2 1E		    mov dl, 30
 000003E5  E8 00000000 E	    call Gotoxy
 000003EA  BA 00000817 R	    mov edx, offset level2opt4
 000003EF  E8 00000000 E	    call WriteString
				    
				    ; Level 3
 000003F4  B6 11		    mov dh, 17
 000003F6  B2 1E		    mov dl, 30
 000003F8  E8 00000000 E	    call Gotoxy
 000003FD  BA 00000846 R	    mov edx, offset level3opt0
 00000402  E8 00000000 E	    call WriteString
				    
 00000407  B6 12		    mov dh, 18
 00000409  B2 1E		    mov dl, 30
 0000040B  E8 00000000 E	    call Gotoxy
 00000410  BA 00000875 R	    mov edx, offset level3opt1
 00000415  E8 00000000 E	    call WriteString
				    
 0000041A  B6 13		    mov dh, 19
 0000041C  B2 1E		    mov dl, 30
 0000041E  E8 00000000 E	    call Gotoxy
 00000423  BA 000008A4 R	    mov edx, offset level3opt2
 00000428  E8 00000000 E	    call WriteString
				    
 0000042D  B6 14		    mov dh, 20
 0000042F  B2 1E		    mov dl, 30
 00000431  E8 00000000 E	    call Gotoxy
 00000436  BA 000008D3 R	    mov edx, offset level3opt3
 0000043B  E8 00000000 E	    call WriteString
				    
 00000440  B6 15		    mov dh, 21
 00000442  B2 1E		    mov dl, 30
 00000444  E8 00000000 E	    call Gotoxy
 00000449  BA 00000902 R	    mov edx, offset level3opt4
 0000044E  E8 00000000 E	    call WriteString
				    
				    ;user choice
 00000453  B8 0000000F		    mov eax, whiteTxt
 00000458  E8 00000000 E	    call SetTextColor
				    
 0000045D  B6 17		    mov dh, 23
 0000045F  B2 14		    mov dl, 20
 00000461  E8 00000000 E	    call Gotoxy
 00000466  BA 00000931 R	    mov edx, offset leveloptchoose1
 0000046B  E8 00000000 E	    call WriteString
				    
 00000470  B6 18		    mov dh, 24
 00000472  B2 14		    mov dl, 20
 00000474  E8 00000000 E	    call Gotoxy
 00000479  BA 0000096A R	    mov edx, offset leveloptchoose2
 0000047E  E8 00000000 E	    call WriteString
				    
 00000483  B6 19		    mov dh, 25
 00000485  B2 14		    mov dl, 20
 00000487  E8 00000000 E	    call Gotoxy
 0000048C  E8 00000000 E	    call ReadInt
				    
				    ; Processing choice made
 00000491  3C 01		    cmp al, 1
 00000493  74 15		    je StartLevel1
 00000495  3C 02		    cmp al, 2
 00000497  74 1E		    je StartLevel2
 00000499  3C 03		    cmp al, 3
 0000049B  74 27		    je StartLevel3
 0000049D  3C 04		    cmp al, 4
 0000049F  74 30		    je ReturnToMenu
 000004A1  3C 05		    cmp al, 5
 000004A3  74 2D		    je ExitGame
				    
				    ; Invalid choice - show menu again
 000004A5  E9 FFFFFE6E		    jmp LevelSelectScreen

 000004AA			StartLevel1:
 000004AA  C6 05 00000F6C R	    mov currentLevel, 1
	   01
 000004B1  E8 00000297		    call Level1Screen
 000004B6  C3			    ret

 000004B7			StartLevel2:
 000004B7  C6 05 00000F6C R	    mov currentLevel, 2
	   02
 000004BE  E8 00000DFE		    call Level2Screen  
 000004C3  C3			    ret
 000004C4			StartLevel3:
 000004C4  C6 05 00000F6C R	    mov currentLevel, 3
	   03
 000004CB  E8 00001996		    call Level3Screen  
 000004D0  C3			    ret
 000004D1			ReturnToMenu:
 000004D1  C3			    ret
				    
 000004D2			ExitGame:
 000004D2  E8 00000000 E	    call Clrscr
				    exit
 000004D7  6A 00	   *	    push   +000000000h
 000004D9  E8 00000000 E   *	    call   ExitProcess
 000004DE			LevelSelectScreen endp

				;-----------------------------------------------------
 000004DE			InstructionsScreen proc

 000004DE  E8 FFFFFB38		    call introSound

 000004E3  E8 00000000 E	    call Clrscr
				    
				    ; Display instructions title
 000004E8  B8 00000001		    mov eax, blueTxt
 000004ED  E8 00000000 E	    call SetTextColor
				    
 000004F2  B6 05		    mov dh, 5
 000004F4  B2 0F		    mov dl, 15
 000004F6  E8 00000000 E	    call Gotoxy
 000004FB  BA 0000099F R	    mov edx, offset instruc1
 00000500  E8 00000000 E	    call WriteString
				    
 00000505  B6 06		    mov dh, 6
 00000507  B2 0F		    mov dl, 15
 00000509  E8 00000000 E	    call Gotoxy
 0000050E  BA 000009E3 R	    mov edx, offset instruc2
 00000513  E8 00000000 E	    call WriteString
				    
				    ; Display instructions text
 00000518  B8 00000002		    mov eax, greenTxt
 0000051D  E8 00000000 E	    call SetTextColor
				    
 00000522  B6 08		    mov dh, 8
 00000524  B2 0F		    mov dl, 15
 00000526  E8 00000000 E	    call Gotoxy
 0000052B  BA 00000A73 R	    mov edx, offset instruc4
 00000530  E8 00000000 E	    call WriteString
				    
 00000535  B6 09		    mov dh, 9
 00000537  B2 0F		    mov dl, 15
 00000539  E8 00000000 E	    call Gotoxy
 0000053E  BA 00000A97 R	    mov edx, offset instruc5
 00000543  E8 00000000 E	    call WriteString
				    
 00000548  B6 0A		    mov dh, 10
 0000054A  B2 0F		    mov dl, 15
 0000054C  E8 00000000 E	    call Gotoxy
 00000551  BA 00000ABB R	    mov edx, offset instruc6
 00000556  E8 00000000 E	    call WriteString
				    
 0000055B  B6 0B		    mov dh, 11
 0000055D  B2 0F		    mov dl, 15
 0000055F  E8 00000000 E	    call Gotoxy
 00000564  BA 00000AFF R	    mov edx, offset instruc7
 00000569  E8 00000000 E	    call WriteString
				    
 0000056E  B6 0C		    mov dh, 12
 00000570  B2 0F		    mov dl, 15
 00000572  E8 00000000 E	    call Gotoxy
 00000577  BA 00000B3E R	    mov edx, offset instruc8
 0000057C  E8 00000000 E	    call WriteString
				    
				    ; Get user choice
 00000581  B8 0000000F		    mov eax, whiteTxt
 00000586  E8 00000000 E	    call SetTextColor
				    
 0000058B  B6 0E		    mov dh, 14
 0000058D  B2 0F		    mov dl, 15
 0000058F  E8 00000000 E	    call Gotoxy
 00000594  BA 00000BD0 R	    mov edx, offset instrucChoose
 00000599  E8 00000000 E	    call WriteString
				    
 0000059E  E8 00000000 E	    call ReadInt
				    
				    ; Process choice
 000005A3  3C 01		    cmp al, 1
 000005A5  74 04		    je ReturnToMenu
 000005A7  3C 02		    cmp al, 2
 000005A9  74 01		    je ExitGame
				    
 000005AB			ReturnToMenu:
 000005AB  C3			    ret
				    
 000005AC			ExitGame:
 000005AC  E8 00000000 E	    call Clrscr
				    exit
 000005B1  6A 00	   *	    push   +000000000h
 000005B3  E8 00000000 E   *	    call   ExitProcess
 000005B8			InstructionsScreen endp

				;-----------------------------------------------------
 000005B8			HighscoresScreen proc


 000005B8  E8 FFFFFA5E		    call introSound

 000005BD  E8 00000000 E	    call Clrscr
				  ;  call LoadScores
				  ;  call SortScores

 000005C2  B8 0000000E		    mov eax, yellowTxt
 000005C7  E8 00000000 E	    call SetTextColor
				    
 000005CC  B6 05		    mov dh, 5
 000005CE  B2 14		    mov dl, 20
 000005D0  E8 00000000 E	    call Gotoxy
 000005D5  BA 00000C02 R	    mov edx, offset hsTitle0
 000005DA  E8 00000000 E	    call WriteString
				    
 000005DF  B6 06		    mov dh, 6
 000005E1  B2 14		    mov dl, 20
 000005E3  E8 00000000 E	    call Gotoxy
 000005E8  BA 00000C40 R	    mov edx, offset hsTitle1
 000005ED  E8 00000000 E	    call WriteString
				    
 000005F2  B6 07		    mov dh, 7
 000005F4  B2 14		    mov dl, 20
 000005F6  E8 00000000 E	    call Gotoxy
 000005FB  BA 00000C7E R	    mov edx, offset hsTitle2
 00000600  E8 00000000 E	    call WriteString
				    
 00000605  B6 08		    mov dh, 8
 00000607  B2 14		    mov dl, 20
 00000609  E8 00000000 E	    call Gotoxy
 0000060E  BA 00000CBC R	    mov edx, offset hsTitle3
 00000613  E8 00000000 E	    call WriteString
				    
 00000618  B6 09		    mov dh, 9
 0000061A  B2 14		    mov dl, 20
 0000061C  E8 00000000 E	    call Gotoxy
 00000621  BA 00000CFA R	    mov edx, offset hsTitle4
 00000626  E8 00000000 E	    call WriteString
				    
				    ; Here you would normally display the actual high scores
				    ; For now, just display a message
 0000062B  B8 0000000F		    mov eax, whiteTxt
 00000630  E8 00000000 E	    call SetTextColor
				    
 00000635  B6 0C		    mov dh, 12
 00000637  B2 1E		    mov dl, 30
 00000639  E8 00000000 E	    call Gotoxy
 0000063E  BA 00000BD0 R	    mov edx, offset instrucChoose
 00000643  E8 00000000 E	    call WriteString
				    
 00000648  E8 00000000 E	    call ReadInt
 0000064D  83 3D 0000191B R	        cmp userCount, 0
	   00
 00000654  0F 84 000000B3	    je NoScores
				    
				    ; Display headers
 0000065A  B8 0000000F		    mov eax, whiteTxt
 0000065F  E8 00000000 E	    call SetTextColor
				    
 00000664  B6 0A		    mov dh, 10
 00000666  B2 14		    mov dl, 20
 00000668  E8 00000000 E	    call Gotoxy
 0000066D  BA 0000191F R	    mov edx, OFFSET hsHeader1
 00000672  E8 00000000 E	    call WriteString
				    
 00000677  B6 0B		    mov dh, 11
 00000679  B2 14		    mov dl, 20
 0000067B  E8 00000000 E	    call Gotoxy
 00000680  BA 00001942 R	    mov edx, OFFSET hsHeader2
 00000685  E8 00000000 E	    call WriteString
				    
				    ; Display each score (top 10)
 0000068A  8B 0D 0000191B R	    mov ecx, userCount
 00000690  83 F9 0A		    cmp ecx, 10
 00000693  76 05		    jbe DisplayLoop
 00000695  B9 0000000A		    mov ecx, 10
				    
 0000069A			DisplayLoop:
 0000069A  51			    push ecx
 0000069B  B8 0000000A		    mov eax, 10
 000006A0  2B C1		    sub eax, ecx    ; Calculate rank (10,9,...1)
 000006A2  40			    inc eax
				    
				    ; Position cursor
 000006A3  8A F0		    mov dh, al
 000006A5  80 C6 0B		    add dh, 11      ; Start at row 12
 000006A8  B2 14		    mov dl, 20
 000006AA  E8 00000000 E	    call Gotoxy
				    
				    ; Display rank
 000006AF  E8 00000000 E	    call WriteDec
 000006B4  80 C2 06		    add dl, 6
 000006B7  E8 00000000 E	    call Gotoxy
				    
				    ; Display name
 000006BC  B8 0000000A		    mov eax, 10
 000006C1  2B C1		    sub eax, ecx
 000006C3  6B C0 10		    imul eax, MAX_NAME_LEN
 000006C6  05 0000184D R	    add eax, OFFSET names
 000006CB  8B D0		    mov edx, eax
 000006CD  E8 00000000 E	    call WriteString
				    
				    ; Display score
 000006D2  80 C2 10		    add dl, 16
 000006D5  E8 00000000 E	    call Gotoxy
 000006DA  B8 0000000A		    mov eax, 10
 000006DF  2B C1		    sub eax, ecx
 000006E1  8B 04 85		    mov eax, scores[eax*4]
	   00001825 R
 000006E8  E8 00000000 E	    call WriteDec
				    
				    ; Display level
 000006ED  80 C2 08		    add dl, 8
 000006F0  E8 00000000 E	    call Gotoxy
 000006F5  B8 0000000A		    mov eax, 10
 000006FA  2B C1		    sub eax, ecx
 000006FC  0F B6 80		    movzx eax, levels[eax]
	   000018ED R
 00000703  E8 00000000 E	    call WriteDec
				    
 00000708  59			    pop ecx
 00000709  E2 8F		    loop DisplayLoop
				    
 0000070B  EB 1D		    jmp DisplayReturn
				    
 0000070D			NoScores:
 0000070D  B8 00000004		    mov eax, redTxt
 00000712  E8 00000000 E	    call SetTextColor
 00000717  B6 0C		    mov dh, 12
 00000719  B2 1E		    mov dl, 30
 0000071B  E8 00000000 E	    call Gotoxy
 00000720  BA 00001962 R	    mov edx, OFFSET noScoresMsg
 00000725  E8 00000000 E	    call WriteString
				    
 0000072A			DisplayReturn:
				    ; Display return message
 0000072A  B8 0000000F		    mov eax, whiteTxt
 0000072F  E8 00000000 E	    call SetTextColor
 00000734  B6 17		    mov dh, 23
 00000736  B2 19		    mov dl, 25
 00000738  E8 00000000 E	    call Gotoxy
 0000073D  BA 00000E9C R	    mov edx, OFFSET returnOption
 00000742  E8 00000000 E	    call WriteString
				    
				    ; Wait for key press
 00000747  E8 00000000 E	    call ReadChar
 0000074C  C3			    ret

 0000074D			HighscoresScreen endp

				;***********************************************************
				;***********************************************************
 0000074D			Level1Screen PROC
 0000074D  E8 00000000 E	    call Clrscr
 00000752  E8 FFFFF8E8		    call levelSound

				    ; Initialize game state
 00000757  C6 05 00000FBF R	    mov pacmanX, 10
	   0A
 0000075E  C6 05 00000FC0 R	    mov pacmanY, 15
	   0F
 00000765  C6 05 00000FCF R	    mov oldPacmanX, 10     
	   0A
 0000076C  C6 05 00000FD0 R	    mov oldPacmanY, 15
	   0F
 00000773  C6 05 00000FC1 R	    mov ghostX, 50
	   32
 0000077A  C6 05 00000FC2 R	    mov ghostY, 15
	   0F
 00000781  C6 05 00000FD2 R	    mov oldGhostX, 50
	   32
 00000788  C6 05 00000FD3 R	    mov oldGhostY, 15
	   0F
 0000078F  C7 05 00000FC3 R	    mov score, 0
	   00000000
 00000799  C6 05 00000F96 R	    mov pelletCount, 20
	   14
 000007A0  C6 05 0000100B R	    mov gamePaused, 0    
	   00
 000007A7  C6 05 00000F6C R	    mov currentLevel,1
	   01
 000007AE  E8 00000462		    call InitializePellets
 000007B3  E8 00000307		    call DrawStaticElements

 000007B8			GameLoop:
 000007B8  E8 00000000 E	    call ReadKey
 000007BD  0F 84 000000F6	    jz NoPlayerInput     ; No key pressed

				    ; Check for pause input
 000007C3  3C 71		    cmp al, 'q'
 000007C5  0F 84 0000014D	    je TogglePause
 000007CB  3C 51		    cmp al, 'Q'
 000007CD  0F 84 00000145	    je TogglePause

				    ; Handle movement and menu keys
 000007D3  3C 77		    cmp al, 'w'
 000007D5  74 1D		    je MoveUp
 000007D7  3C 61		    cmp al, 'a'
 000007D9  74 4A		    je MoveLeft
 000007DB  3C 73		    cmp al, 's'
 000007DD  74 71		    je MoveDown
 000007DF  3C 64		    cmp al, 'd'
 000007E1  0F 84 00000094	    je MoveRight
 000007E7  3C 31		    cmp al, '1'    ; Return to menu
 000007E9  0F 84 00000156	    je ExitLevel
 000007EF  E9 000000C5		    jmp NoPlayerInput

 000007F4			MoveUp:
 000007F4  A0 00000FBF R	    mov al, pacmanX
 000007F9  A2 00000FCF R	    mov oldPacmanX, al
 000007FE  A0 00000FC0 R	    mov al, pacmanY
 00000803  A2 00000FD0 R	    mov oldPacmanY, al
 00000808  FE 0D 00000FC0 R	    dec pacmanY
 0000080E  E8 00000505		    call CheckWallCollision
 00000813  72 05		    jc CancelMoveUp
 00000815  E9 0000008C		    jmp AfterMove
 0000081A			CancelMoveUp:
 0000081A  FE 05 00000FC0 R	    inc pacmanY
 00000820  E9 00000081		    jmp AfterMove

 00000825			MoveLeft:
 00000825  A0 00000FBF R	    mov al, pacmanX
 0000082A  A2 00000FCF R	    mov oldPacmanX, al
 0000082F  A0 00000FC0 R	    mov al, pacmanY
 00000834  A2 00000FD0 R	    mov oldPacmanY, al
 00000839  FE 0D 00000FBF R	    dec pacmanX
 0000083F  E8 000004D4		    call CheckWallCollision
 00000844  72 02		    jc CancelMoveLeft
 00000846  EB 5E		    jmp AfterMove
 00000848			CancelMoveLeft:
 00000848  FE 05 00000FBF R	    inc pacmanX
 0000084E  EB 56		    jmp AfterMove

 00000850			MoveDown:
 00000850  A0 00000FBF R	    mov al, pacmanX
 00000855  A2 00000FCF R	    mov oldPacmanX, al
 0000085A  A0 00000FC0 R	    mov al, pacmanY
 0000085F  A2 00000FD0 R	    mov oldPacmanY, al
 00000864  FE 05 00000FC0 R	    inc pacmanY
 0000086A  E8 000004A9		    call CheckWallCollision
 0000086F  72 02		    jc CancelMoveDown
 00000871  EB 33		    jmp AfterMove
 00000873			CancelMoveDown:
 00000873  FE 0D 00000FC0 R	    dec pacmanY
 00000879  EB 2B		    jmp AfterMove

 0000087B			MoveRight:
 0000087B  A0 00000FBF R	    mov al, pacmanX
 00000880  A2 00000FCF R	    mov oldPacmanX, al
 00000885  A0 00000FC0 R	    mov al, pacmanY
 0000088A  A2 00000FD0 R	    mov oldPacmanY, al
 0000088F  FE 05 00000FBF R	    inc pacmanX
 00000895  E8 0000047E		    call CheckWallCollision
 0000089A  72 02		    jc CancelMoveRight
 0000089C  EB 08		    jmp AfterMove
 0000089E			CancelMoveRight:
 0000089E  FE 0D 00000FBF R	    dec pacmanX
 000008A4  EB 00		    jmp AfterMove

 000008A6			AfterMove:
 000008A6  E8 0000047F		    call CheckPelletCollision
 000008AB  E8 000006A6		    call CheckGhostCollision
 000008B0  83 F8 01		    cmp eax, 1
 000008B3  0F 84 00000098	    je GameLost

 000008B9			NoPlayerInput:
				    ; Skip ghost and game logic if paused
 000008B9  80 3D 0000100B R	    cmp gamePaused, 1
	   01
 000008C0  74 28		    je PausedLoop

 000008C2  E8 0000054A		    call ClearOldPositions
 000008C7  E8 00000586		    call GhostMovement
 000008CC  E8 000002D1		    call DrawGameElements

				    ; Small delay
 000008D1  B8 00000064		    mov eax, 100
 000008D6  E8 00000000 E	    call Delay

				    ; Check win condition
 000008DB  80 3D 00000F96 R	    cmp pelletCount, 0
	   00
 000008E2  0F 85 FFFFFED0	    jne GameLoop
 000008E8  74 5C		    je LevelWon

 000008EA			PausedLoop:
				    ; Show pause message once
 000008EA  B8 0000000E		    mov eax, yellowTxt
 000008EF  E8 00000000 E	    call SetTextColor
 000008F4  B6 0C		    mov dh, 12
 000008F6  B2 14		    mov dl, 20
 000008F8  E8 00000000 E	    call Gotoxy
 000008FD  BA 00000FEA R	    mov edx, OFFSET pausedMsg
 00000902  E8 00000000 E	    call WriteString

 00000907			WaitWhilePaused:
 00000907  E8 00000000 E	    call ReadKey
 0000090C  74 F9		    jz WaitWhilePaused

 0000090E  3C 71		    cmp al, 'q'
 00000910  74 06		    je TogglePause
 00000912  3C 51		    cmp al, 'Q'
 00000914  74 02		    je TogglePause
 00000916  EB EF		    jmp WaitWhilePaused

 00000918			TogglePause:
 00000918  80 35 0000100B R	    xor gamePaused, 1
	   01

				    ; Clear pause message
 0000091F  B8 00000000		    mov eax, blackTxt
 00000924  E8 00000000 E	    call SetTextColor
 00000929  B6 0C		    mov dh, 12
 0000092B  B2 14		    mov dl, 20
 0000092D  E8 00000000 E	    call Gotoxy
 00000932  B9 00000028		    mov ecx, 40
 00000937			ClearPauseText:
 00000937  B0 20		    mov al, ' '
 00000939  E8 00000000 E	    call WriteChar
 0000093E  E2 F7		    loop ClearPauseText

 00000940  E9 FFFFFE73		    jmp GameLoop

 00000945			ExitLevel:
 00000945  C3			    ret

 00000946			LevelWon:
 00000946  E8 000006AD		    call SaveScore
 0000094B  E8 000000B4		    call LevelCompleteScreen
 00000950  C3			    ret

 00000951			GameLost:
 00000951  E8 000006A2		    call SaveScore
 00000956  E8 00000001		    call GameOverScreen
 0000095B  C3			    ret

 0000095C			GameOverScreen:
 0000095C  E8 00000000 E	    call Clrscr
 00000961  B8 00000004		    mov eax, redTxt
 00000966  E8 00000000 E	    call SetTextColor

				    ; Draw game over message
 0000096B  B6 05		    mov dh, 5
 0000096D  B2 14		    mov dl, 20
 0000096F  E8 00000000 E	    call Gotoxy
 00000974  BA 00000D86 R	    mov edx, OFFSET gameOverMsg1
 00000979  E8 00000000 E	    call WriteString

 0000097E  B6 06		    mov dh, 6
 00000980  B2 14		    mov dl, 20
 00000982  E8 00000000 E	    call Gotoxy
 00000987  BA 00000DBA R	    mov edx, OFFSET gameOverMsg2
 0000098C  E8 00000000 E	    call WriteString

 00000991  B6 06		    mov dh, 6
 00000993  B2 14		    mov dl, 20
 00000995  E8 00000000 E	    call Gotoxy
 0000099A  BA 00000DED R	    mov edx, OFFSET gameOverMsg3
 0000099F  E8 00000000 E	    call WriteString

 000009A4  B6 07		    mov dh, 7
 000009A6  B2 14		    mov dl, 20
 000009A8  E8 00000000 E	    call Gotoxy
 000009AD  BA 00000E21 R	    mov edx, OFFSET gameOverMsg4
 000009B2  E8 00000000 E	    call WriteString

 000009B7  B6 08		    mov dh, 8
 000009B9  B2 14		    mov dl, 20
 000009BB  E8 00000000 E	    call Gotoxy
 000009C0  BA 00000E55 R	    mov edx, OFFSET gameOverMsg5
 000009C5  E8 00000000 E	    call WriteString

				    ; Display score
 000009CA  B6 0C		    mov dh, 12
 000009CC  B2 14		    mov dl, 20
 000009CE  E8 00000000 E	    call Gotoxy
 000009D3  BA 00000E89 R	    mov edx, OFFSET scoreDisplay
 000009D8  E8 00000000 E	    call WriteString
 000009DD  A1 00000FC3 R	    mov eax, score
 000009E2  E8 00000000 E	    call WriteDec

				    ; Display return option
 000009E7  B6 0E		    mov dh, 14
 000009E9  B2 14		    mov dl, 20
 000009EB  E8 00000000 E	    call Gotoxy
 000009F0  BA 00000E9C R	    mov edx, OFFSET returnOption
 000009F5  E8 00000000 E	    call WriteString

 000009FA			WaitForInput:
 000009FA  E8 00000000 E	    call ReadChar
 000009FF  3C 31		    cmp al, '1'
 00000A01  75 F7		    jne WaitForInput
 00000A03  C3			    ret


 00000A04			LevelCompleteScreen:
 00000A04  E8 00000000 E	    call Clrscr
 00000A09  B8 00000002		    mov eax, greenTxt
 00000A0E  E8 00000000 E	    call SetTextColor

				    ; Draw level complete message
 00000A13  B6 05		    mov dh, 5
 00000A15  B2 14		    mov dl, 20
 00000A17  E8 00000000 E	    call Gotoxy
 00000A1C  BA 00000EB6 R	    mov edx, OFFSET levelCompleteMsg1
 00000A21  E8 00000000 E	    call WriteString

 00000A26  B6 06		    mov dh, 6
 00000A28  B2 14		    mov dl, 20
 00000A2A  E8 00000000 E	    call Gotoxy
 00000A2F  BA 00000ED4 R	    mov edx, OFFSET levelCompleteMsg2
 00000A34  E8 00000000 E	    call WriteString

 00000A39  B6 07		    mov dh, 7
 00000A3B  B2 14		    mov dl, 20
 00000A3D  E8 00000000 E	    call Gotoxy
 00000A42  BA 00000EF2 R	    mov edx, OFFSET levelCompleteMsg3
 00000A47  E8 00000000 E	    call WriteString

 00000A4C  B6 08		    mov dh, 8
 00000A4E  B2 14		    mov dl, 20
 00000A50  E8 00000000 E	    call Gotoxy
 00000A55  BA 00000F10 R	    mov edx, OFFSET levelCompleteMsg4
 00000A5A  E8 00000000 E	    call WriteString

 00000A5F  B6 09		    mov dh, 9
 00000A61  B2 14		    mov dl, 20
 00000A63  E8 00000000 E	    call Gotoxy
 00000A68  BA 00000F2E R	    mov edx, OFFSET levelCompleteMsg5
 00000A6D  E8 00000000 E	    call WriteString

 00000A72  B6 0A		    mov dh, 10
 00000A74  B2 14		    mov dl, 20
 00000A76  E8 00000000 E	    call Gotoxy
 00000A7B  BA 00000F4C R	    mov edx, OFFSET levelCompleteMsg6
 00000A80  E8 00000000 E	    call WriteString

				    
				    ; Display score
 00000A85  B6 0C		    mov dh, 12
 00000A87  B2 14		    mov dl, 20
 00000A89  E8 00000000 E	    call Gotoxy
 00000A8E  BA 00000E89 R	    mov edx, OFFSET scoreDisplay
 00000A93  E8 00000000 E	    call WriteString
 00000A98  A1 00000FC3 R	    mov eax, score
 00000A9D  E8 00000000 E	    call WriteDec

				    ; Display return option
 00000AA2  B6 0E		    mov dh, 14
 00000AA4  B2 14		    mov dl, 20
 00000AA6  E8 00000000 E	    call Gotoxy
 00000AAB  BA 00000E9C R	    mov edx, OFFSET returnOption
 00000AB0  E8 00000000 E	    call WriteString

 00000AB5			WaitForInput2:
 00000AB5  E8 00000000 E	    call ReadChar
 00000ABA  3C 31		    cmp al, '1'
 00000ABC  75 F7		    jne WaitForInput2
 00000ABE  C3			    ret

 00000ABF			Level1Screen ENDP

				;***********************************************************

 00000ABF			DrawStaticElements PROC
				    ; Draw info bar
 00000ABF  B8 0000000F		    mov eax, whiteTxt
 00000AC4  E8 00000000 E	    call SetTextColor
				    
 00000AC9  B6 00		    mov dh, 0
 00000ACB  B2 00		    mov dl, 0
 00000ACD  E8 00000000 E	    call Gotoxy
 00000AD2  BA 00000F7E R	    mov edx, OFFSET livesMsg
 00000AD7  E8 00000000 E	    call WriteString
 00000ADC  A1 00000FC7 R	    mov eax, lives
 00000AE1  E8 00000000 E	    call WriteDec

 00000AE6  B6 01		    mov dh, 1
 00000AE8  B2 00		    mov dl, 0
 00000AEA  E8 00000000 E	    call Gotoxy
 00000AEF  BA 0000009D R	    mov edx, OFFSET userName
 00000AF4  E8 00000000 E	    call WriteString

 00000AF9  B6 02		    mov dh,2
 00000AFB  B2 4B		    mov dl, 75
 00000AFD  E8 00000000 E	    call Gotoxy
 00000B02  BA 00000F86 R	    mov edx, OFFSET levelMsg
 00000B07  E8 00000000 E	    call WriteString
 00000B0C  A1 00000FCB R	    mov eax, level
 00000B11  E8 00000000 E	    call WriteDec

 00000B16  B6 04		    mov dh, 4       
 00000B18  B2 01		    mov dl, 1
 00000B1A  E8 00000000 E	    call Gotoxy
 00000B1F  BA 00000FD4 R	    mov edx, OFFSET pauseMsg
 00000B24  E8 00000000 E	    call WriteString

				    ; Draw borders and walls (your existing code)
				    ; Top border
 00000B29  B6 05		    mov dh, 5
 00000B2B  B2 00		    mov dl, 0
 00000B2D  B9 00000073		    mov ecx, 115
 00000B32  A0 00000F8E R	    mov al, wallChar
 00000B37			topBorder:
 00000B37  E8 00000000 E	    call Gotoxy
 00000B3C  E8 00000000 E	    call WriteChar
 00000B41  FE C2		    inc dl
 00000B43  E2 F2		    loop topBorder

				    ; Bottom border
 00000B45  B6 1D		    mov dh, 29
 00000B47  B2 00		    mov dl, 0
 00000B49  B9 00000073		    mov ecx, 115
 00000B4E			bottomBorder:
 00000B4E  E8 00000000 E	    call Gotoxy
 00000B53  E8 00000000 E	    call WriteChar
 00000B58  FE C2		    inc dl
 00000B5A  E2 F2		    loop bottomBorder

				    ; Left and right borders 
 00000B5C  B6 05		    mov dh, 5
 00000B5E  B9 0000001B		    mov ecx, 27        ; Height
 00000B63			sideBorders:
				    ; Left border
 00000B63  B2 00		    mov dl, 0
 00000B65  E8 00000000 E	    call Gotoxy
 00000B6A  A0 00000F8E R	    mov al, wallChar
 00000B6F  E8 00000000 E	    call WriteChar
				    ; Right border
 00000B74  B2 72		    mov dl, 114
 00000B76  E8 00000000 E	    call Gotoxy
 00000B7B  A0 00000F8E R	    mov al, wallChar
 00000B80  E8 00000000 E	    call WriteChar
 00000B85  FE C6		    inc dh
 00000B87  E2 DA		    loop sideBorders

				    ; Inner walls (your existing code)
 00000B89  E8 000001FE		    call DrawInnerWalls

				    ; Return message
 00000B8E  B6 03		    mov dh, 3
 00000B90  B2 02		    mov dl, 2
 00000B92  E8 00000000 E	    call Gotoxy
 00000B97  BA 000000CF R	    mov edx, offset returnMsg
 00000B9C  E8 00000000 E	    call WriteString
				    
 00000BA1  C3			    ret
 00000BA2			DrawStaticElements ENDP
				;...........................................
 00000BA2			DrawGameElements PROC
				    ; Draw pellets
 00000BA2  B8 00000005		    mov eax, purpleTxt
 00000BA7  E8 00000000 E	    call SetTextColor
 00000BAC  BE 00000F97 R	    mov esi, OFFSET pelletPositions
 00000BB1  B9 00000014		    mov ecx, 20

 00000BB6			DrawPellets:
 00000BB6  80 3E 00		    cmp byte ptr [esi], 0  ; Skip if pellet collected
 00000BB9  74 14		    je SkipPellet
				    
 00000BBB  8A 16		    mov dl, [esi]    ; X
 00000BBD  8A 76 01		    mov dh, [esi+1]  ; Y
 00000BC0  E8 00000000 E	    call Gotoxy
 00000BC5  A0 00000F90 R	    mov al, pelletChar
 00000BCA  E8 00000000 E	    call WriteChar

 00000BCF			SkipPellet:
 00000BCF  83 C6 02		    add esi, 2
 00000BD2  E2 E2		    loop DrawPellets

				    ; Draw Pac-Man
 00000BD4  B8 0000000F		    mov eax, whiteTxt
 00000BD9  E8 00000000 E	    call SetTextColor
 00000BDE  8A 15 00000FBF R	    mov dl, pacmanX
 00000BE4  8A 35 00000FC0 R	    mov dh, pacmanY
 00000BEA  E8 00000000 E	    call Gotoxy
 00000BEF  A0 00000F92 R	    mov al, pacmanChar
 00000BF4  E8 00000000 E	    call WriteChar

				    ; Draw Ghost
 00000BF9  8A 15 00000FC1 R	    mov dl, ghostX
 00000BFF  8A 35 00000FC2 R	    mov dh, ghostY
 00000C05  E8 00000000 E	    call Gotoxy
 00000C0A  A0 00000F94 R	    mov al, ghostChar
 00000C0F  E8 00000000 E	    call WriteChar

 00000C14  C3			    ret
 00000C15			DrawGameElements ENDP
				;...........................................
 00000C15			InitializePellets PROC
 00000C15  60			    pushad
 00000C16  B9 00000014		    mov ecx, 20
 00000C1B  BE 00000F97 R	    mov esi, OFFSET pelletPositions

 00000C20			PlacePellet:
				    ; Generate random position within play area
 00000C20  B8 00000071		    mov eax, 113    
 00000C25  E8 00000000 E	    call RandomRange
 00000C2A  40			    inc eax          ; X = 1-114
 00000C2B  88 06		    mov [esi], al    ; Store X
				    
 00000C2D  B8 00000017		    mov eax, 23      ; Max Y (29-6)
 00000C32  E8 00000000 E	    call RandomRange
 00000C37  83 C0 06		    add eax, 6       ; Y = 6-29
 00000C3A  88 46 01		    mov [esi+1], al  ; Store Y

				    ; Check if position is valid (not on wall)
 00000C3D  8A 16		    mov dl, [esi]
 00000C3F  8A 76 01		    mov dh, [esi+1]
 00000C42  E8 00000009		    call CheckWallPosition
 00000C47  72 D7		    jc PlacePellet  ; If invalid, try again

 00000C49  83 C6 02		    add esi, 2
 00000C4C  E2 D2		    loop PlacePellet

 00000C4E  61			    popad
 00000C4F  C3			    ret
 00000C50			InitializePellets ENDP
				;..........................................
 00000C50			CheckWallPosition PROC
				    ; Checks if position (dl=X, dh=Y) is a wall
				    ; Returns CF=1 if wall, CF=0 if empty
				    
				    ; Check borders
 00000C50  80 FA 00		    cmp dl, 0
 00000C53  0F 84 000000BD	    je IsWall
 00000C59  80 FA 72		    cmp dl, 114
 00000C5C  0F 84 000000B4	    je IsWall
 00000C62  80 FE 05		    cmp dh, 5
 00000C65  0F 84 000000AB	    je IsWall
 00000C6B  80 FE 1D		    cmp dh, 29
 00000C6E  0F 84 000000A2	    je IsWall

				    ; Check inner walls (based on your DrawInnerWalls)
				    
				    ; Horizontal wall at Y=10, X=20-34
 00000C74  80 FE 0A		    cmp dh, 10
 00000C77  75 0F		    jne NotWall1
 00000C79  80 FA 14		    cmp dl, 20
 00000C7C  72 0A		    jb NotWall1
 00000C7E  80 FA 22		    cmp dl, 34
 00000C81  77 05		    ja NotWall1
 00000C83  E9 0000008E		    jmp IsWall

 00000C88			NotWall1:
				    ; Horizontal wall at Y=10, X=70-84
 00000C88  80 FE 0A		    cmp dh, 10
 00000C8B  75 0C		    jne NotWall2
 00000C8D  80 FA 46		    cmp dl, 70
 00000C90  72 07		    jb NotWall2
 00000C92  80 FA 54		    cmp dl, 84
 00000C95  77 02		    ja NotWall2
 00000C97  EB 7D		    jmp IsWall

 00000C99			NotWall2:
				    ; Horizontal walls at Y=14
 00000C99  80 FE 0E		    cmp dh, 14
 00000C9C  75 3C		    jne NotWall3
				    ; X=15-22
 00000C9E  80 FA 0F		    cmp dl, 15
 00000CA1  72 07		    jb NotWall3a
 00000CA3  80 FA 16		    cmp dl, 22
 00000CA6  77 02		    ja NotWall3a
 00000CA8  EB 6C		    jmp IsWall
 00000CAA			NotWall3a:
				    ; X=35-42
 00000CAA  80 FA 23		    cmp dl, 35
 00000CAD  72 07		    jb NotWall3b
 00000CAF  80 FA 2A		    cmp dl, 42
 00000CB2  77 02		    ja NotWall3b
 00000CB4  EB 60		    jmp IsWall
 00000CB6			NotWall3b:
				    ; X=55-62
 00000CB6  80 FA 37		    cmp dl, 55
 00000CB9  72 07		    jb NotWall3c
 00000CBB  80 FA 3E		    cmp dl, 62
 00000CBE  77 02		    ja NotWall3c
 00000CC0  EB 54		    jmp IsWall
 00000CC2			NotWall3c:
				    ; X=75-82
 00000CC2  80 FA 4B		    cmp dl, 75
 00000CC5  72 07		    jb NotWall3d
 00000CC7  80 FA 52		    cmp dl, 82
 00000CCA  77 02		    ja NotWall3d
 00000CCC  EB 48		    jmp IsWall
 00000CCE			NotWall3d:
				    ; X=95-102
 00000CCE  80 FA 5F		    cmp dl, 95
 00000CD1  72 07		    jb NotWall3
 00000CD3  80 FA 66		    cmp dl, 102
 00000CD6  77 02		    ja NotWall3
 00000CD8  EB 3C		    jmp IsWall

 00000CDA			NotWall3:
				    ; Horizontal walls at Y=17
 00000CDA  80 FE 11		    cmp dh, 17
 00000CDD  75 18		    jne NotWall4
				    ; X=30-39
 00000CDF  80 FA 1E		    cmp dl, 30
 00000CE2  72 07		    jb NotWall4a
 00000CE4  80 FA 27		    cmp dl, 39
 00000CE7  77 02		    ja NotWall4a
 00000CE9  EB 2B		    jmp IsWall
 00000CEB			NotWall4a:
				    ; X=80-89
 00000CEB  80 FA 50		    cmp dl, 80
 00000CEE  72 07		    jb NotWall4
 00000CF0  80 FA 59		    cmp dl, 89
 00000CF3  77 02		    ja NotWall4
 00000CF5  EB 1F		    jmp IsWall

 00000CF7			NotWall4:
				    ; Horizontal walls at Y=22
 00000CF7  80 FE 16		    cmp dh, 22
 00000CFA  75 18		    jne NotWall
				    ; X=25-44
 00000CFC  80 FA 19		    cmp dl, 25
 00000CFF  72 07		    jb NotWall5a
 00000D01  80 FA 2C		    cmp dl, 44
 00000D04  77 02		    ja NotWall5a
 00000D06  EB 0E		    jmp IsWall
 00000D08			NotWall5a:
				    ; X=85-104
 00000D08  80 FA 55		    cmp dl, 85
 00000D0B  72 07		    jb NotWall
 00000D0D  80 FA 68		    cmp dl, 104
 00000D10  77 02		    ja NotWall
 00000D12  EB 02		    jmp IsWall

 00000D14			NotWall:
 00000D14  F8			    clc
 00000D15  C3			    ret
 00000D16			IsWall:
 00000D16  F9			    stc
 00000D17  C3			    ret
 00000D18			CheckWallPosition ENDP
				;...........................................
 00000D18			CheckWallCollision PROC
				    ; Checks if Pac-Man's current position is a wall
				    ; Returns CF=1 if collision
 00000D18  8A 15 00000FBF R	    mov dl, pacmanX
 00000D1E  8A 35 00000FC0 R	    mov dh, pacmanY
 00000D24  E8 FFFFFF27		    call CheckWallPosition
 00000D29  C3			    ret
 00000D2A			CheckWallCollision ENDP
				;.........................................
 00000D2A			CheckPelletCollision PROC
 00000D2A  60			    pushad
 00000D2B  BE 00000F97 R	    mov esi, OFFSET pelletPositions
 00000D30  B9 00000014		    mov ecx, 20

 00000D35			CheckPellets:
 00000D35  80 3E 00		    cmp byte ptr [esi], 0  ; Skip if pellet already collected
 00000D38  74 4B		    je NextPellet
				    
 00000D3A  8A 06		    mov al, [esi]    ; Pellet X
 00000D3C  3A 05 00000FBF R	    cmp al, pacmanX
 00000D42  75 41		    jne NextPellet
				    
 00000D44  8A 46 01		    mov al, [esi+1]  ; Pellet Y
 00000D47  3A 05 00000FC0 R	    cmp al, pacmanY
 00000D4D  75 36		    jne NextPellet

				    ; Pac-Man is on this pellet!
 00000D4F  C6 06 00		    mov byte ptr [esi], 0  ; Remove pellet
 00000D52  FF 05 00000FC3 R	    inc score
 00000D58  FE 0D 00000F96 R	    dec pelletCount

				    ; Update score display
 00000D5E  B8 0000000F		    mov eax, whiteTxt
 00000D63  E8 00000000 E	    call SetTextColor
 00000D68  B6 01		    mov dh, 1
 00000D6A  B2 37		    mov dl, 55
 00000D6C  E8 00000000 E	    call Gotoxy
 00000D71  BA 00000F76 R	    mov edx, OFFSET scoreMsg
 00000D76  E8 00000000 E	    call WriteString
 00000D7B  A1 00000FC3 R	    mov eax, score
 00000D80  E8 00000000 E	    call WriteDec

 00000D85			NextPellet:
 00000D85  83 C6 02		    add esi, 2
 00000D88  E2 AB		    loop CheckPellets

 00000D8A  61			    popad
 00000D8B  C3			    ret
 00000D8C			CheckPelletCollision ENDP

				;.....................................
 00000D8C			DrawInnerWalls PROC
 00000D8C  B6 0A		    mov dh, 10
 00000D8E  B2 14		    mov dl, 20
 00000D90  B9 0000000F		    mov ecx, 15
 00000D95  E8 00000061		    call DrawWall
 00000D9A  B2 46		    mov dl, 70
 00000D9C  B9 0000000F		    mov ecx, 15
 00000DA1  E8 00000055		    call DrawWall

 00000DA6  B6 0E		    mov dh, 14
 00000DA8  B2 0F		    mov dl, 15
 00000DAA  B9 00000008		    mov ecx, 8
 00000DAF  E8 00000047		    call DrawWall
 00000DB4  B2 23		    mov dl, 35
 00000DB6  E8 00000040		    call DrawWall
 00000DBB  B2 37		    mov dl, 55
 00000DBD  E8 00000039		    call DrawWall
 00000DC2  B2 4B		    mov dl, 75
 00000DC4  E8 00000032		    call DrawWall
 00000DC9  B2 5F		    mov dl, 95
 00000DCB  E8 0000002B		    call DrawWall

 00000DD0  B6 11		    mov dh, 17
 00000DD2  B2 1E		    mov dl, 30
 00000DD4  B9 0000000A		    mov ecx, 10
 00000DD9  E8 0000001D		    call DrawWall
 00000DDE  B2 50		    mov dl, 80
 00000DE0  E8 00000016		    call DrawWall

 00000DE5  B6 16		    mov dh, 22
 00000DE7  B2 19		    mov dl, 25
 00000DE9  B9 00000014		    mov ecx, 20
 00000DEE  E8 00000008		    call DrawWall
 00000DF3  B2 55		    mov dl, 85
 00000DF5  E8 00000001		    call DrawWall
 00000DFA  C3			    ret
 00000DFB			DrawInnerWalls ENDP
				;.................................................
 00000DFB			DrawWall PROC
 00000DFB  51			    push ecx
 00000DFC			wallLoop:
 00000DFC  E8 00000000 E	    call Gotoxy
 00000E01  A0 00000F8E R	    mov al, wallChar
 00000E06  E8 00000000 E	    call WriteChar
 00000E0B  FE C2		    inc dl
 00000E0D  E2 ED		    loop wallLoop
 00000E0F  59			    pop ecx
 00000E10  C3			    ret
 00000E11			DrawWall ENDP
				;....................................................
 00000E11			ClearOldPositions PROC
				    ; Clear old Pac-Man position
 00000E11  B8 00000000		    mov eax, blackTxt
 00000E16  E8 00000000 E	    call SetTextColor
 00000E1B  8A 15 00000FCF R	    mov dl, oldPacmanX
 00000E21  8A 35 00000FD0 R	    mov dh, oldPacmanY
 00000E27  E8 00000000 E	    call Gotoxy
 00000E2C  A0 00000F8F R	    mov al, emptyChar
 00000E31  E8 00000000 E	    call WriteChar
				    
				    ; Clear old ghost position
 00000E36  8A 15 00000FD2 R	    mov dl, oldGhostX
 00000E3C  8A 35 00000FD3 R	    mov dh, oldGhostY
 00000E42  E8 00000000 E	    call Gotoxy
 00000E47  A0 00000F8F R	    mov al, emptyChar
 00000E4C  E8 00000000 E	    call WriteChar
 00000E51  C3			    ret
 00000E52			ClearOldPositions ENDP
				;.................................................
 00000E52			GhostMovement PROC
 00000E52  A0 00000FC1 R	    mov al, ghostX
 00000E57  A2 00000FD2 R	    mov oldGhostX, al
 00000E5C  A0 00000FC2 R	    mov al, ghostY
 00000E61  A2 00000FD3 R	    mov oldGhostY, al
				    
				    ; 70% chance to move toward Pac-Man, 30% random
 00000E66  E8 00000000 E	    call Randomize
 00000E6B  B8 0000000A		    mov eax, 10
 00000E70  E8 00000000 E	    call RandomRange
 00000E75  83 F8 07		    cmp eax, 7  ; 0-2 = random (30%), 3-9 = toward (70%)
 00000E78  72 5E		    jb RandomMove
				    
				    ; Move toward Pac-Man
 00000E7A  8A 1D 00000FBF R	    mov bl, pacmanX
 00000E80  8A 3D 00000FC0 R	    mov bh, pacmanY
				    
 00000E86  38 1D 00000FC1 R	    cmp ghostX, bl
 00000E8C  7C 0E		    jl MoveGhostRight
 00000E8E  7F 1E		    jg MoveGhostLeft
 00000E90  38 3D 00000FC2 R	    cmp ghostY, bh
 00000E96  7C 32		    jl MoveGhostDown
 00000E98  7F 22		    jg MoveGhostUp
 00000E9A  EB 3C		    jmp RandomMove

 00000E9C			MoveGhostRight:
 00000E9C  FE 05 00000FC1 R	    inc ghostX
 00000EA2  E8 0000009D		    call CheckGhostWallCollision
 00000EA7  0F 82 00000082	    jc UndoGhostMove
 00000EAD  C3			    ret
 00000EAE			MoveGhostLeft:
 00000EAE  FE 0D 00000FC1 R	    dec ghostX
 00000EB4  E8 0000008B		    call CheckGhostWallCollision
 00000EB9  72 74		    jc UndoGhostMove
 00000EBB  C3			    ret
 00000EBC			MoveGhostUp:
 00000EBC  FE 0D 00000FC2 R	    dec ghostY
 00000EC2  E8 0000007D		    call CheckGhostWallCollision
 00000EC7  72 66		    jc UndoGhostMove
 00000EC9  C3			    ret
 00000ECA			MoveGhostDown:
 00000ECA  FE 05 00000FC2 R	    inc ghostY
 00000ED0  E8 0000006F		    call CheckGhostWallCollision
 00000ED5  72 58		    jc UndoGhostMove
 00000ED7  C3			    ret

 00000ED8			RandomMove:
				    ; Random direction (1-4)
 00000ED8  B8 00000004		    mov eax, 4
 00000EDD  E8 00000000 E	    call RandomRange
 00000EE2  40			    inc eax
				    
 00000EE3  83 F8 01		    cmp eax, 1
 00000EE6  74 0F		    je TryRight
 00000EE8  83 F8 02		    cmp eax, 2
 00000EEB  74 18		    je TryLeft
 00000EED  83 F8 03		    cmp eax, 3
 00000EF0  74 21		    je TryUp
 00000EF2  83 F8 04		    cmp eax, 4
 00000EF5  74 2A		    je TryDown

 00000EF7			TryRight:
 00000EF7  FE 05 00000FC1 R	    inc ghostX
 00000EFD  E8 00000042		    call CheckGhostWallCollision
 00000F02  72 2B		    jc UndoGhostMove
 00000F04  C3			    ret
 00000F05			TryLeft:
 00000F05  FE 0D 00000FC1 R	    dec ghostX
 00000F0B  E8 00000034		    call CheckGhostWallCollision
 00000F10  72 1D		    jc UndoGhostMove
 00000F12  C3			    ret
 00000F13			TryUp:
 00000F13  FE 0D 00000FC2 R	    dec ghostY
 00000F19  E8 00000026		    call CheckGhostWallCollision
 00000F1E  72 0F		    jc UndoGhostMove
 00000F20  C3			    ret
 00000F21			TryDown:
 00000F21  FE 05 00000FC2 R	    inc ghostY
 00000F27  E8 00000018		    call CheckGhostWallCollision
 00000F2C  72 01		    jc UndoGhostMove
 00000F2E  C3			    ret

 00000F2F			UndoGhostMove:
 00000F2F  A0 00000FD2 R	    mov al, oldGhostX
 00000F34  A2 00000FC1 R	    mov ghostX, al
 00000F39  A0 00000FD3 R	    mov al, oldGhostY
 00000F3E  A2 00000FC2 R	    mov ghostY, al
 00000F43  C3			    ret
 00000F44			GhostMovement ENDP
				;.......................................
 00000F44			CheckGhostWallCollision PROC
 00000F44  8A 15 00000FC1 R	    mov dl, ghostX
 00000F4A  8A 35 00000FC2 R	    mov dh, ghostY
 00000F50  E8 FFFFFCFB		    call CheckWallPosition
 00000F55  C3			    ret
 00000F56			CheckGhostWallCollision ENDP
				;............................................
 00000F56			CheckGhostCollision PROC
				    ; Check X proximity (pacmanX - ghostX <= 1)
 00000F56  A0 00000FBF R	    mov al, pacmanX
 00000F5B  2A 05 00000FC1 R	    sub al, ghostX
 00000F61  3C FF		    cmp al, -1
 00000F63  0F 8C 00000083	    jl NoCollisionX
 00000F69  3C 01		    cmp al, 1
 00000F6B  7F 7F		    jg NoCollisionX

				    ; Check Y proximity
 00000F6D  A0 00000FC0 R	    mov al, pacmanY
 00000F72  2A 05 00000FC2 R	    sub al, ghostY
 00000F78  3C FF		    cmp al, -1
 00000F7A  7C 70		    jl NoCollision
 00000F7C  3C 01		    cmp al, 1
 00000F7E  7F 6C		    jg NoCollision

				    ; Close enough in both X and Y  COLLISION
 00000F80  FF 0D 00000FC7 R	    dec lives

				    ; Update lives display
 00000F86  B8 0000000F		    mov eax, whiteTxt
 00000F8B  E8 00000000 E	    call SetTextColor
 00000F90  B6 00		    mov dh, 0
 00000F92  B2 07		    mov dl, 7
 00000F94  E8 00000000 E	    call Gotoxy
 00000F99  A1 00000FC7 R	    mov eax, lives
 00000F9E  0F B6 C0		    movzx eax, al
 00000FA1  E8 00000000 E	    call WriteDec

				    ; Clear ghost from screen
 00000FA6  8A 15 00000FC1 R	    mov dl, ghostX
 00000FAC  8A 35 00000FC2 R	    mov dh, ghostY
 00000FB2  E8 00000000 E	    call Gotoxy
 00000FB7  A0 00000F8F R	    mov al, emptyChar
 00000FBC  E8 00000000 E	    call WriteChar

				    ; Reset positions
 00000FC1  C6 05 00000FBF R	    mov pacmanX, 10
	   0A
 00000FC8  C6 05 00000FC0 R	    mov pacmanY, 15
	   0F
 00000FCF  C6 05 00000FC1 R	    mov ghostX, 50
	   32
 00000FD6  C6 05 00000FC2 R	    mov ghostY, 15
	   0F

 00000FDD  83 3D 00000FC7 R	    cmp lives, 0
	   00
 00000FE4  7E 0C		    jle GameOver

 00000FE6  B8 00000000		    mov eax, 0
 00000FEB  C3			    ret

 00000FEC			NoCollisionX:
 00000FEC			NoCollision:
 00000FEC  B8 00000000		    mov eax, 0
 00000FF1  C3			    ret

 00000FF2			GameOver:
 00000FF2  B8 00000001		    mov eax, 1
 00000FF7  C3			    ret
 00000FF8			CheckGhostCollision ENDP

				; ==================== FILE HANDLING PROCEDURES ====================


				; Save current score to file
 00000FF8			saveScore PROC
 00000FF8  60			    pushad
				    
				    ; Prepare data for writing
 00000FF9  BE 0000009D R	    mov esi, OFFSET userName
 00000FFE  BF 00001420 R	    mov edi, OFFSET tempBuffer
 00001003  E8 00000153		    call CopyStringToBuffer
				    
				    ; Add comma
 00001008  B0 2C		    mov al, ','
 0000100A  88 07		    mov [edi], al
 0000100C  47			    inc edi
				    
				    ; Convert score to string
 0000100D  A1 00000FC3 R	    mov eax, score
 00001012  E8 0000011F		    call ConvertNumberToString
				    
				    ; Add comma
 00001017  B0 2C		    mov al, ','
 00001019  88 07		    mov [edi], al
 0000101B  47			    inc edi
				    
				    ; Convert level to string
 0000101C  0F B6 05		    movzx eax, currentLevel
	   00000F6C R
 00001023  E8 0000010E		    call ConvertNumberToString
				    
				    ; Add newline
 00001028  B0 0D		    mov al, 0Dh
 0000102A  88 07		    mov [edi], al
 0000102C  47			    inc edi
 0000102D  B0 0A		    mov al, 0Ah
 0000102F  88 07		    mov [edi], al
 00001031  47			    inc edi
				    
				    ; Open/Create file
 00001032  BA 0000100D R	    mov edx, OFFSET filename
 00001037  E8 00000000 E	    call OpenInputFile
 0000103C  83 F8 FF		    cmp eax, INVALID_HANDLE_VALUE
 0000103F  74 16		    je CreateNew
				    
				    ; File exists - close and reopen for append
 00001041  A3 00001018 R	    mov fileHandle, eax
 00001046  E8 00000000 E	    call CloseFile
 0000104B  BA 0000100D R	    mov edx, OFFSET filename
 00001050  E8 00000000 E	    call CreateOutputFile
 00001055  EB 0A		    jmp FileReady
				    
 00001057			CreateNew:
 00001057  BA 0000100D R	    mov edx, OFFSET filename
 0000105C  E8 00000000 E	    call CreateOutputFile
				    
 00001061			FileReady:
 00001061  A3 00001018 R	    mov fileHandle, eax
 00001066  83 F8 FF		    cmp eax, INVALID_HANDLE_VALUE
 00001069  74 0E		    je ErrorExit
				    
				    ; Write the prepared buffer
 0000106B  BA 00001420 R	    mov edx, OFFSET tempBuffer
 00001070  8B CF		    mov ecx, edi
 00001072  2B CA		    sub ecx, edx
 00001074  E8 00000000 E	    call WriteToFile
				    
 00001079			ErrorExit:
 00001079  A1 00001018 R	    mov eax, fileHandle
 0000107E  E8 00000000 E	    call CloseFile
 00001083  61			    popad
 00001084  C3			    ret
 00001085			saveScore ENDP

				; Read scores from file
 00001085			readScoresFromFile PROC
 00001085  60			    pushad

 00001086  BA 0000100D R	    mov edx, OFFSET filename
 0000108B  E8 00000000 E	    call OpenInputFile
 00001090  83 F8 FF		    cmp eax, INVALID_HANDLE_VALUE
 00001093  74 28		    je Done

 00001095  A3 00001018 R	    mov fileHandle, eax
 0000109A  BA 00001020 R	    mov edx, OFFSET fileBuffer
 0000109F  B9 00000400		    mov ecx, BUFFER_SIZE
 000010A4  E8 00000000 E	    call ReadFromFile
 000010A9  A3 0000101C R	    mov bytesRead, eax

				    ; Parse the file buffer
 000010AE  BE 00001020 R	    mov esi, OFFSET fileBuffer
 000010B3  BF 00000000		    mov edi, 0
 000010B8  E8 0000000C		    call ParseScoreData

 000010BD			Done:
 000010BD  A1 00001018 R	    mov eax, fileHandle
 000010C2  E8 00000000 E	    call CloseFile
 000010C7  61			    popad
 000010C8  C3			    ret
 000010C9			readScoresFromFile ENDP

				; Helper procedure to parse score data
 000010C9			ParseScoreData PROC
 000010C9			ParseLoop:
 000010C9  83 FF 0A		    cmp edi, MAX_SCORES
 000010CC  7D 24		    jge DoneReading

				    ; Read name
 000010CE  8B DF		    mov ebx, edi
 000010D0  6B DB 10		    imul ebx, MAX_NAME_LEN
 000010D3  E8 00000021		    call ReadName

				    ; Read score
 000010D8  E8 00000038		    call ReadNumber
 000010DD  89 04 BD		    mov scores[edi*4], eax
	   00001825 R

				    ; Read level
 000010E4  E8 0000002C		    call ReadNumber
 000010E9  88 87 000018ED R	    mov levels[edi], al

 000010EF  47			    inc edi
 000010F0  EB D7		    jmp ParseLoop

 000010F2			DoneReading:
 000010F2  89 3D 000018F7 R	    mov scoreCount, edi
 000010F8  C3			    ret
 000010F9			ParseScoreData ENDP

				; Helper to read a name from buffer
 000010F9			ReadName PROC
 000010F9  33 C9		    xor ecx, ecx
 000010FB			ReadNameChar:
 000010FB  8A 06		    mov al, [esi]
 000010FD  3C 2C		    cmp al, ','
 000010FF  74 0B		    je StoreName
 00001101  88 83 0000184D R	    mov names[ebx], al
 00001107  43			    inc ebx
 00001108  41			    inc ecx
 00001109  46			    inc esi
 0000110A  EB EF		    jmp ReadNameChar
 0000110C			StoreName:
 0000110C  C6 83 0000184D R	    mov names[ebx], 0
	   00
 00001113  46			    inc esi
 00001114  C3			    ret
 00001115			ReadName ENDP

				; Helper to read a number from buffer
 00001115			ReadNumber PROC
 00001115  33 C0		    xor eax, eax
 00001117			ReadDigit:
 00001117  8A 1E		    mov bl, [esi]
 00001119  80 FB 2C		    cmp bl, ','
 0000111C  74 10		    je NumberDone
 0000111E  80 FB 0D		    cmp bl, 0Dh
 00001121  74 0B		    je NumberDone
 00001123  80 EB 30		    sub bl, '0'
 00001126  6B C0 0A		    imul eax, 10
 00001129  03 C3		    add eax, ebx
 0000112B  46			    inc esi
 0000112C  EB E9		    jmp ReadDigit
 0000112E			NumberDone:
 0000112E  46			    inc esi
 0000112F  80 FB 0D		    cmp bl, 0Dh
 00001132  75 01		    jne Return
 00001134  46			    inc esi  ; Skip LF
 00001135			Return:
 00001135  C3			    ret
 00001136			ReadNumber ENDP

				; Helper to convert number to string
 00001136			ConvertNumberToString PROC
 00001136  53			    push ebx
 00001137  52			    push edx
 00001138  51			    push ecx
				    
 00001139  BB 0000000A		    mov ebx, 10
 0000113E  33 C9		    xor ecx, ecx
				    
 00001140			DivLoop:
 00001140  33 D2		    xor edx, edx
 00001142  F7 F3		    div ebx
 00001144  66| 52		    push dx
 00001146  66| 41		    inc cx
 00001148  85 C0		    test eax, eax
 0000114A  75 F4		    jnz DivLoop
				    
 0000114C			WriteDigits:
 0000114C  66| 58		    pop ax
 0000114E  04 30		    add al, '0'
 00001150  88 07		    mov [edi], al
 00001152  47			    inc edi
 00001153  66| 49		    dec cx
 00001155  75 F5		    jnz WriteDigits
				    
 00001157  59			    pop ecx
 00001158  5A			    pop edx
 00001159  5B			    pop ebx
 0000115A  C3			    ret
 0000115B			ConvertNumberToString ENDP

				; Helper to copy string to buffer
 0000115B			CopyStringToBuffer PROC
 0000115B			CopyChar:
 0000115B  8A 06		    mov al, [esi]
 0000115D  88 07		    mov [edi], al
 0000115F  46			    inc esi
 00001160  47			    inc edi
 00001161  84 C0		    test al, al
 00001163  75 F6		    jnz CopyChar
 00001165  4F			    dec edi  ; Back up over null terminator
 00001166  C3			    ret
 00001167			CopyStringToBuffer ENDP

				; Add new score to arrays
 00001167			addNewScore PROC
 00001167  60			    pushad
 00001168  A1 000018F7 R	    mov eax, scoreCount
 0000116D  83 F8 0A		    cmp eax, MAX_SCORES
 00001170  7D 3A		    jge SkipAdd

				    ; Copy name
 00001172  B9 00000010		    mov ecx, MAX_NAME_LEN
 00001177  BE 0000009D R	    mov esi, OFFSET userName
 0000117C  8B F8		    mov edi, eax
 0000117E  6B FF 10		    imul edi, MAX_NAME_LEN
 00001181  81 C7 0000184D R	    add edi, OFFSET names
 00001187  F3/ A4		    rep movsb

				    ; Store score and level
 00001189  8B 1D 000018F7 R	    mov ebx, scoreCount
 0000118F  A1 00000FC3 R	    mov eax, score
 00001194  89 04 9D		    mov scores[ebx*4], eax
	   00001825 R
 0000119B  A0 00000F6C R	    mov al, currentLevel
 000011A0  88 83 000018ED R	    mov levels[ebx], al

 000011A6  FF 05 000018F7 R	    inc scoreCount
 000011AC			SkipAdd:
 000011AC  61			    popad
 000011AD  C3			    ret
 000011AE			addNewScore ENDP

				; Sort scores in descending order
 000011AE			sortScores PROC
 000011AE  60			    pushad
				    
 000011AF  8B 0D 000018F7 R	    mov ecx, scoreCount
 000011B5  49			    dec ecx
 000011B6  7E 66		    jle DoneSorting
				    
 000011B8			OuterLoop:
 000011B8  51			    push ecx
 000011B9  BE 00000000		    mov esi, 0
				    
 000011BE			InnerLoop:
 000011BE  8B 04 B5		    mov eax, scores[esi*4]
	   00001825 R
 000011C5  3B 04 B5		    cmp eax, scores[esi*4 + 4]
	   00001829 R
 000011CC  7D 48		    jge NoSwap
				    
				    ; Swap scores
 000011CE  8B 14 B5		    mov edx, scores[esi*4 + 4]
	   00001829 R
 000011D5  89 14 B5		    mov scores[esi*4], edx
	   00001825 R
 000011DC  89 04 B5		    mov scores[esi*4 + 4], eax
	   00001829 R
				    
				    ; Swap names
 000011E3  56			    push esi
 000011E4  6B F6 10		    imul esi, MAX_NAME_LEN
 000011E7  8D BE 0000184D R	    lea edi, names[esi]
 000011ED  8D B6 0000185D R	    lea esi, names[esi + MAX_NAME_LEN]
 000011F3  B9 00000010		    mov ecx, MAX_NAME_LEN
 000011F8  E8 00000023		    call SwapMemory
				    
				    ; Swap levels
 000011FD  5E			    pop esi
 000011FE  8A 86 000018ED R	    mov al, levels[esi]
 00001204  8A 9E 000018EE R	    mov bl, levels[esi+1]
 0000120A  88 86 000018EE R	    mov levels[esi+1], al
 00001210  88 9E 000018ED R	    mov levels[esi], bl
				    
 00001216			NoSwap:
 00001216  46			    inc esi
 00001217  49			    dec ecx
 00001218  75 A4		    jnz InnerLoop
				    
 0000121A  59			    pop ecx
 0000121B  49			    dec ecx
 0000121C  75 9A		    jnz OuterLoop
				    
 0000121E			DoneSorting:
 0000121E  61			    popad
 0000121F  C3			    ret
 00001220			sortScores ENDP

				; Helper to swap memory blocks
 00001220			SwapMemory PROC
 00001220			SwapByte:
 00001220  8A 07		    mov al, [edi]
 00001222  8A 1E		    mov bl, [esi]
 00001224  88 06		    mov [esi], al
 00001226  88 1F		    mov [edi], bl
 00001228  47			    inc edi
 00001229  46			    inc esi
 0000122A  E2 F4		    loop SwapByte
 0000122C  C3			    ret
 0000122D			SwapMemory ENDP

				; Write all scores to file
 0000122D			writeAllScoresToFile PROC
 0000122D  60			    pushad
 0000122E  BA 0000100D R	    mov edx, OFFSET filename
 00001233  E8 00000000 E	    call CreateOutputFile
 00001238  A3 00001018 R	    mov fileHandle, eax

 0000123D  8B 0D 000018F7 R	    mov ecx, scoreCount
 00001243  BE 00000000		    mov esi, 0
 00001248			WriteLoop:
				    ; Prepare record in tempBuffer
 00001248  BF 00001420 R	    mov edi, OFFSET tempBuffer
				    
				    ; Write name
 0000124D  8B C6		    mov eax, esi
 0000124F  6B C0 10		    imul eax, MAX_NAME_LEN
 00001252  05 0000184D R	    add eax, OFFSET names
 00001257  8B F0		    mov esi, eax
 00001259  E8 FFFFFEFD		    call CopyStringToBuffer
 0000125E  8B F0		    mov esi, eax
				    
				    ; Add comma
 00001260  B0 2C		    mov al, ','
 00001262  88 07		    mov [edi], al
 00001264  47			    inc edi
				    
				    ; Write score
 00001265  8B 04 B5		    mov eax, scores[esi*4]
	   00001825 R
 0000126C  E8 FFFFFEC5		    call ConvertNumberToString
				    
				    ; Add comma
 00001271  B0 2C		    mov al, ','
 00001273  88 07		    mov [edi], al
 00001275  47			    inc edi
				    
				    ; Write level
 00001276  0F B6 86		    movzx eax, levels[esi]
	   000018ED R
 0000127D  E8 FFFFFEB4		    call ConvertNumberToString
				    
				    ; Add newline
 00001282  B0 0D		    mov al, 0Dh
 00001284  88 07		    mov [edi], al
 00001286  47			    inc edi
 00001287  B0 0A		    mov al, 0Ah
 00001289  88 07		    mov [edi], al
 0000128B  47			    inc edi
				    
				    ; Write record to file
 0000128C  BA 00001420 R	    mov edx, OFFSET tempBuffer
 00001291  8B CF		    mov ecx, edi
 00001293  2B CA		    sub ecx, edx
 00001295  E8 00000000 E	    call WriteToFile
				    
 0000129A  46			    inc esi
 0000129B  49			    dec ecx
 0000129C  75 AA		    jnz WriteLoop

 0000129E  A1 00001018 R	    mov eax, fileHandle
 000012A3  E8 00000000 E	    call CloseFile
 000012A8  61			    popad
 000012A9  C3			    ret
 000012AA			writeAllScoresToFile ENDP

				; Helper procedure to write string to file
 000012AA			WriteStringToFile PROC
 000012AA  60			    pushad
 000012AB  B9 00000000		    mov ecx, 0
 000012B0			NextChar:
 000012B0  8A 04 0A		    mov al, [edx + ecx]
 000012B3  3C 00		    cmp al, 0
 000012B5  74 03		    je WriteStr
 000012B7  41			    inc ecx
 000012B8  EB F6		    jmp NextChar
 000012BA			WriteStr:
 000012BA  E8 00000000 E	    call WriteToFile
 000012BF  61			    popad
 000012C0  C3			    ret
 000012C1			WriteStringToFile ENDP
				; ============================================================

 000012C1			Level2Screen PROC
 000012C1  E8 00000000 E	    call Clrscr
 000012C6  E8 FFFFED74		    call levelSound

				    ; Initialize game state
 000012CB  C6 05 00000FBF R	    mov pacmanX, 10
	   0A
 000012D2  C6 05 00000FC0 R	    mov pacmanY, 15
	   0F
 000012D9  C6 05 00000FCF R	    mov oldPacmanX, 10     
	   0A
 000012E0  C6 05 00000FD0 R	    mov oldPacmanY, 15
	   0F
				    
				    ; Initialize both ghosts
 000012E7  C6 05 00000FC1 R	    mov ghostX, 50
	   32
 000012EE  C6 05 00000FC2 R	    mov ghostY, 15
	   0F
 000012F5  C6 05 00000FD2 R	    mov oldGhostX, 50
	   32
 000012FC  C6 05 00000FD3 R	    mov oldGhostY, 15
	   0F
 00001303  C6 05 00001976 R	    mov ghost2X, 70
	   46
 0000130A  C6 05 00001977 R	    mov ghost2Y, 15
	   0F
 00001311  C6 05 00001978 R	    mov oldGhost2X, 70
	   46
 00001318  C6 05 00001979 R	    mov oldGhost2Y, 15
	   0F
				    
 0000131F  C7 05 00000FC3 R	    mov score, 0
	   00000000
 00001329  C6 05 00000F96 R	    mov pelletCount, 20
	   14
 00001330  C6 05 0000100B R	    mov gamePaused, 0    
	   00
 00001337  C6 05 00000F6C R	    mov currentLevel, 2
	   02
				    
				    ; Initialize fruits as inactive
 0000133E  C6 05 00001981 R	    mov fruitActive[0], 0
	   00
 00001345  C6 05 00001982 R	    mov fruitActive[1], 0
	   00
 0000134C  C7 05 00001983 R	    mov fruitTimer, 0
	   00000000
				    
 00001356  E8 FFFFF8BA		    call InitializePellets
 0000135B  E8 00000319		    call DrawStaticElementsLevel2

 00001360			GameLoop:
				    ; Update fruit timer
 00001360  E8 0000092D		    call UpdateFruitTimer
				    
 00001365  E8 00000000 E	    call ReadKey
 0000136A  0F 84 000000FB	    jz NoPlayerInput

				    ; Check for pause input
 00001370  3C 71		    cmp al, 'q'
 00001372  0F 84 0000015A	    je TogglePause
 00001378  3C 51		    cmp al, 'Q'
 0000137A  0F 84 00000152	    je TogglePause

				    ; Handle movement and menu keys
 00001380  3C 77		    cmp al, 'w'
 00001382  74 1D		    je MoveUp
 00001384  3C 61		    cmp al, 'a'
 00001386  74 4A		    je MoveLeft
 00001388  3C 73		    cmp al, 's'
 0000138A  74 71		    je MoveDown
 0000138C  3C 64		    cmp al, 'd'
 0000138E  0F 84 00000094	    je MoveRight
 00001394  3C 31		    cmp al, '1'    ; Return to menu
 00001396  0F 84 00000163	    je ExitLevel
 0000139C  E9 000000CA		    jmp NoPlayerInput

 000013A1			MoveUp:
 000013A1  A0 00000FBF R	    mov al, pacmanX
 000013A6  A2 00000FCF R	    mov oldPacmanX, al
 000013AB  A0 00000FC0 R	    mov al, pacmanY
 000013B0  A2 00000FD0 R	    mov oldPacmanY, al
 000013B5  FE 0D 00000FC0 R	    dec pacmanY
 000013BB  E8 FFFFF958		    call CheckWallCollision
 000013C0  72 05		    jc CancelMoveUp
 000013C2  E9 0000008C		    jmp AfterMove
 000013C7			CancelMoveUp:
 000013C7  FE 05 00000FC0 R	    inc pacmanY
 000013CD  E9 00000081		    jmp AfterMove

 000013D2			MoveLeft:
 000013D2  A0 00000FBF R	    mov al, pacmanX
 000013D7  A2 00000FCF R	    mov oldPacmanX, al
 000013DC  A0 00000FC0 R	    mov al, pacmanY
 000013E1  A2 00000FD0 R	    mov oldPacmanY, al
 000013E6  FE 0D 00000FBF R	    dec pacmanX
 000013EC  E8 FFFFF927		    call CheckWallCollision
 000013F1  72 02		    jc CancelMoveLeft
 000013F3  EB 5E		    jmp AfterMove
 000013F5			CancelMoveLeft:
 000013F5  FE 05 00000FBF R	    inc pacmanX
 000013FB  EB 56		    jmp AfterMove

 000013FD			MoveDown:
 000013FD  A0 00000FBF R	    mov al, pacmanX
 00001402  A2 00000FCF R	    mov oldPacmanX, al
 00001407  A0 00000FC0 R	    mov al, pacmanY
 0000140C  A2 00000FD0 R	    mov oldPacmanY, al
 00001411  FE 05 00000FC0 R	    inc pacmanY
 00001417  E8 FFFFF8FC		    call CheckWallCollision
 0000141C  72 02		    jc CancelMoveDown
 0000141E  EB 33		    jmp AfterMove
 00001420			CancelMoveDown:
 00001420  FE 0D 00000FC0 R	    dec pacmanY
 00001426  EB 2B		    jmp AfterMove

 00001428			MoveRight:
 00001428  A0 00000FBF R	    mov al, pacmanX
 0000142D  A2 00000FCF R	    mov oldPacmanX, al
 00001432  A0 00000FC0 R	    mov al, pacmanY
 00001437  A2 00000FD0 R	    mov oldPacmanY, al
 0000143C  FE 05 00000FBF R	    inc pacmanX
 00001442  E8 FFFFF8D1		    call CheckWallCollision
 00001447  72 02		    jc CancelMoveRight
 00001449  EB 08		    jmp AfterMove
 0000144B			CancelMoveRight:
 0000144B  FE 0D 00000FBF R	    dec pacmanX
 00001451  EB 00		    jmp AfterMove

 00001453			AfterMove:
 00001453  E8 FFFFF8D2		    call CheckPelletCollision
 00001458  E8 0000094D		    call CheckFruitCollision
 0000145D  E8 00000731		    call CheckGhostCollisionLevel2
 00001462  83 F8 01		    cmp eax, 1
 00001465  0F 84 000000A0	    je GameLost

 0000146B			NoPlayerInput:
				    ; Skip ghost and game logic if paused
 0000146B  80 3D 0000100B R	    cmp gamePaused, 1
	   01
 00001472  74 30		    je PausedLoop

 00001474  E8 0000044D		    call ClearOldPositionsLevel2
 00001479  E8 000004A4		    call GhostMovementLevel2
 0000147E  E8 0000034F		    call DrawGameElementsLevel2

				    ; Small delay
 00001483  B8 00000050		    mov eax, 80  ; Slightly faster than level 1
 00001488  E8 00000000 E	    call Delay

				    ; Check win condition (25 points to win)
 0000148D  83 3D 00000FC3 R	    cmp score, 25
	   19
 00001494  7D 6A		    jge LevelWon
 00001496  83 3D 00000FC7 R	    cmp lives, 0
	   00
 0000149D  7E 6C		    jle GameLost
 0000149F  E9 FFFFFEBC		    jmp GameLoop

 000014A4			PausedLoop:
				    ; Show pause message once
 000014A4  B8 0000000E		    mov eax, yellowTxt
 000014A9  E8 00000000 E	    call SetTextColor
 000014AE  B6 0C		    mov dh, 12
 000014B0  B2 14		    mov dl, 20
 000014B2  E8 00000000 E	    call Gotoxy
 000014B7  BA 00000FEA R	    mov edx, OFFSET pausedMsg
 000014BC  E8 00000000 E	    call WriteString

 000014C1			WaitWhilePaused:
 000014C1  E8 00000000 E	    call ReadKey
 000014C6  74 F9		    jz WaitWhilePaused

 000014C8  3C 71		    cmp al, 'q'
 000014CA  74 06		    je TogglePause
 000014CC  3C 51		    cmp al, 'Q'
 000014CE  74 02		    je TogglePause
 000014D0  EB EF		    jmp WaitWhilePaused

 000014D2			TogglePause:
 000014D2  80 35 0000100B R	    xor gamePaused, 1
	   01

				    ; Clear pause message
 000014D9  B8 00000000		    mov eax, blackTxt
 000014DE  E8 00000000 E	    call SetTextColor
 000014E3  B6 0C		    mov dh, 12
 000014E5  B2 14		    mov dl, 20
 000014E7  E8 00000000 E	    call Gotoxy
 000014EC  B9 00000028		    mov ecx, 40
 000014F1			ClearPauseText:
 000014F1  B0 20		    mov al, ' '
 000014F3  E8 00000000 E	    call WriteChar
 000014F8  E2 F7		    loop ClearPauseText

 000014FA  E9 FFFFFE61		    jmp GameLoop

 000014FF			ExitLevel:
 000014FF  C3			    ret

 00001500			LevelWon:
 00001500  E8 FFFFFAF3		    call SaveScore
 00001505  E8 000000B4		    call LevelCompleteScreen
 0000150A  C3			    ret

 0000150B			GameLost:
 0000150B  E8 FFFFFAE8		    call SaveScore
 00001510  E8 00000001		    call GameOverScreen
 00001515  C3			    ret

 00001516			GameOverScreen:
 00001516  E8 00000000 E	    call Clrscr
 0000151B  B8 00000004		    mov eax, redTxt
 00001520  E8 00000000 E	    call SetTextColor

				    ; Draw game over message
 00001525  B6 05		    mov dh, 5
 00001527  B2 14		    mov dl, 20
 00001529  E8 00000000 E	    call Gotoxy
 0000152E  BA 00000D86 R	    mov edx, OFFSET gameOverMsg1
 00001533  E8 00000000 E	    call WriteString

 00001538  B6 06		    mov dh, 6
 0000153A  B2 14		    mov dl, 20
 0000153C  E8 00000000 E	    call Gotoxy
 00001541  BA 00000DBA R	    mov edx, OFFSET gameOverMsg2
 00001546  E8 00000000 E	    call WriteString

 0000154B  B6 06		    mov dh, 6
 0000154D  B2 14		    mov dl, 20
 0000154F  E8 00000000 E	    call Gotoxy
 00001554  BA 00000DED R	    mov edx, OFFSET gameOverMsg3
 00001559  E8 00000000 E	    call WriteString

 0000155E  B6 07		    mov dh, 7
 00001560  B2 14		    mov dl, 20
 00001562  E8 00000000 E	    call Gotoxy
 00001567  BA 00000E21 R	    mov edx, OFFSET gameOverMsg4
 0000156C  E8 00000000 E	    call WriteString

 00001571  B6 08		    mov dh, 8
 00001573  B2 14		    mov dl, 20
 00001575  E8 00000000 E	    call Gotoxy
 0000157A  BA 00000E55 R	    mov edx, OFFSET gameOverMsg5
 0000157F  E8 00000000 E	    call WriteString

				    ; Display score
 00001584  B6 0C		    mov dh, 12
 00001586  B2 14		    mov dl, 20
 00001588  E8 00000000 E	    call Gotoxy
 0000158D  BA 00000E89 R	    mov edx, OFFSET scoreDisplay
 00001592  E8 00000000 E	    call WriteString
 00001597  A1 00000FC3 R	    mov eax, score
 0000159C  E8 00000000 E	    call WriteDec

				    ; Display return option
 000015A1  B6 0E		    mov dh, 14
 000015A3  B2 14		    mov dl, 20
 000015A5  E8 00000000 E	    call Gotoxy
 000015AA  BA 00000E9C R	    mov edx, OFFSET returnOption
 000015AF  E8 00000000 E	    call WriteString

 000015B4			WaitForInput:
 000015B4  E8 00000000 E	    call ReadChar
 000015B9  3C 31		    cmp al, '1'
 000015BB  75 F7		    jne WaitForInput
 000015BD  C3			    ret


 000015BE			LevelCompleteScreen:
 000015BE  E8 00000000 E	    call Clrscr
 000015C3  B8 00000002		    mov eax, greenTxt
 000015C8  E8 00000000 E	    call SetTextColor

				    ; Draw level complete message
 000015CD  B6 05		    mov dh, 5
 000015CF  B2 14		    mov dl, 20
 000015D1  E8 00000000 E	    call Gotoxy
 000015D6  BA 00000EB6 R	    mov edx, OFFSET levelCompleteMsg1
 000015DB  E8 00000000 E	    call WriteString

 000015E0  B6 06		    mov dh, 6
 000015E2  B2 14		    mov dl, 20
 000015E4  E8 00000000 E	    call Gotoxy
 000015E9  BA 00000ED4 R	    mov edx, OFFSET levelCompleteMsg2
 000015EE  E8 00000000 E	    call WriteString

 000015F3  B6 07		    mov dh, 7
 000015F5  B2 14		    mov dl, 20
 000015F7  E8 00000000 E	    call Gotoxy
 000015FC  BA 00000EF2 R	    mov edx, OFFSET levelCompleteMsg3
 00001601  E8 00000000 E	    call WriteString

 00001606  B6 08		    mov dh, 8
 00001608  B2 14		    mov dl, 20
 0000160A  E8 00000000 E	    call Gotoxy
 0000160F  BA 00000F10 R	    mov edx, OFFSET levelCompleteMsg4
 00001614  E8 00000000 E	    call WriteString

 00001619  B6 09		    mov dh, 9
 0000161B  B2 14		    mov dl, 20
 0000161D  E8 00000000 E	    call Gotoxy
 00001622  BA 00000F2E R	    mov edx, OFFSET levelCompleteMsg5
 00001627  E8 00000000 E	    call WriteString

 0000162C  B6 0A		    mov dh, 10
 0000162E  B2 14		    mov dl, 20
 00001630  E8 00000000 E	    call Gotoxy
 00001635  BA 00000F4C R	    mov edx, OFFSET levelCompleteMsg6
 0000163A  E8 00000000 E	    call WriteString

				    
				    ; Display score
 0000163F  B6 0C		    mov dh, 12
 00001641  B2 14		    mov dl, 20
 00001643  E8 00000000 E	    call Gotoxy
 00001648  BA 00000E89 R	    mov edx, OFFSET scoreDisplay
 0000164D  E8 00000000 E	    call WriteString
 00001652  A1 00000FC3 R	    mov eax, score
 00001657  E8 00000000 E	    call WriteDec

				    ; Display return option
 0000165C  B6 0E		    mov dh, 14
 0000165E  B2 14		    mov dl, 20
 00001660  E8 00000000 E	    call Gotoxy
 00001665  BA 00000E9C R	    mov edx, OFFSET returnOption
 0000166A  E8 00000000 E	    call WriteString

 0000166F			WaitForInput2:
 0000166F  E8 00000000 E	    call ReadChar
 00001674  3C 31		    cmp al, '1'
 00001676  75 F7		    jne WaitForInput2
 00001678  C3			    ret

 00001679			Level2Screen ENDP


				; ==================== LEVEL 2 SPECIFIC PROCEDURES ====================

 00001679			DrawStaticElementsLevel2 PROC
				    ; Draw info bar (same as level 1)
 00001679  B8 0000000F		    mov eax, whiteTxt
 0000167E  E8 00000000 E	    call SetTextColor
				    
 00001683  B6 00		    mov dh, 0
 00001685  B2 00		    mov dl, 0
 00001687  E8 00000000 E	    call Gotoxy
 0000168C  BA 00000F7E R	    mov edx, OFFSET livesMsg
 00001691  E8 00000000 E	    call WriteString
 00001696  A1 00000FC7 R	    mov eax, lives
 0000169B  E8 00000000 E	    call WriteDec

 000016A0  B6 01		    mov dh, 1
 000016A2  B2 00		    mov dl, 0
 000016A4  E8 00000000 E	    call Gotoxy
 000016A9  BA 0000009D R	    mov edx, OFFSET userName
 000016AE  E8 00000000 E	    call WriteString

 000016B3  B6 02		    mov dh,2
 000016B5  B2 4B		    mov dl, 75
 000016B7  E8 00000000 E	    call Gotoxy
 000016BC  BA 00000F86 R	    mov edx, OFFSET levelMsg
 000016C1  E8 00000000 E	    call WriteString
 000016C6  A1 00000FCB R	    mov eax, level
 000016CB  E8 00000000 E	    call WriteDec

 000016D0  B6 04		    mov dh, 4       
 000016D2  B2 01		    mov dl, 1
 000016D4  E8 00000000 E	    call Gotoxy
 000016D9  BA 00000FD4 R	    mov edx, OFFSET pauseMsg
 000016DE  E8 00000000 E	    call WriteString

				    ; Draw borders and walls (same as level 1)
				    ; Top border
 000016E3  B6 05		    mov dh, 5
 000016E5  B2 00		    mov dl, 0
 000016E7  B9 00000073		    mov ecx, 115
 000016EC  A0 00000F8E R	    mov al, wallChar
 000016F1			topBorder:
 000016F1  E8 00000000 E	    call Gotoxy
 000016F6  E8 00000000 E	    call WriteChar
 000016FB  FE C2		    inc dl
 000016FD  E2 F2		    loop topBorder

				    ; Bottom border
 000016FF  B6 1D		    mov dh, 29
 00001701  B2 00		    mov dl, 0
 00001703  B9 00000073		    mov ecx, 115
 00001708			bottomBorder:
 00001708  E8 00000000 E	    call Gotoxy
 0000170D  E8 00000000 E	    call WriteChar
 00001712  FE C2		    inc dl
 00001714  E2 F2		    loop bottomBorder

				    ; Left and right borders 
 00001716  B6 05		    mov dh, 5
 00001718  B9 0000001B		    mov ecx, 27        ; Height
 0000171D			sideBorders:
				    ; Left border
 0000171D  B2 00		    mov dl, 0
 0000171F  E8 00000000 E	    call Gotoxy
 00001724  A0 00000F8E R	    mov al, wallChar
 00001729  E8 00000000 E	    call WriteChar
				    ; Right border
 0000172E  B2 72		    mov dl, 114
 00001730  E8 00000000 E	    call Gotoxy
 00001735  A0 00000F8E R	    mov al, wallChar
 0000173A  E8 00000000 E	    call WriteChar
 0000173F  FE C6		    inc dh
 00001741  E2 DA		    loop sideBorders

				    ; Inner walls - different pattern for level 2
 00001743  E8 00000014		    call DrawInnerWallsLevel2

				    ; Return message
 00001748  B6 03		    mov dh, 3
 0000174A  B2 02		    mov dl, 2
 0000174C  E8 00000000 E	    call Gotoxy
 00001751  BA 000000CF R	    mov edx, offset returnMsg
 00001756  E8 00000000 E	    call WriteString
				    
 0000175B  C3			    ret
 0000175C			DrawStaticElementsLevel2 ENDP

 0000175C			DrawInnerWallsLevel2 PROC
				    ; Different wall pattern for level 2
 0000175C  B6 08		    mov dh, 8
 0000175E  B2 0F		    mov dl, 15
 00001760  B9 00000014		    mov ecx, 20
 00001765  E8 FFFFF691		    call DrawWall
 0000176A  B2 3C		    mov dl, 60
 0000176C  B9 00000014		    mov ecx, 20
 00001771  E8 FFFFF685		    call DrawWall

 00001776  B6 0C		    mov dh, 12
 00001778  B2 1E		    mov dl, 30
 0000177A  B9 0000000A		    mov ecx, 10
 0000177F  E8 FFFFF677		    call DrawWall
 00001784  B2 46		    mov dl, 70
 00001786  E8 FFFFF670		    call DrawWall

 0000178B  B6 10		    mov dh, 16
 0000178D  B2 0A		    mov dl, 10
 0000178F  B9 0000000F		    mov ecx, 15
 00001794  E8 FFFFF662		    call DrawWall
 00001799  B2 28		    mov dl, 40
 0000179B  E8 FFFFF65B		    call DrawWall
 000017A0  B2 50		    mov dl, 80
 000017A2  E8 FFFFF654		    call DrawWall

 000017A7  B6 14		    mov dh, 20
 000017A9  B2 14		    mov dl, 20
 000017AB  B9 00000019		    mov ecx, 25
 000017B0  E8 FFFFF646		    call DrawWall
 000017B5  B2 46		    mov dl, 70
 000017B7  E8 FFFFF63F		    call DrawWall

 000017BC  B6 18		    mov dh, 24
 000017BE  B2 1E		    mov dl, 30
 000017C0  B9 0000000A		    mov ecx, 10
 000017C5  E8 FFFFF631		    call DrawWall
 000017CA  B2 46		    mov dl, 70
 000017CC  E8 FFFFF62A		    call DrawWall
 000017D1  C3			    ret
 000017D2			DrawInnerWallsLevel2 ENDP

 000017D2			DrawGameElementsLevel2 PROC
				    ; Draw pellets
 000017D2  B8 00000005		    mov eax, purpleTxt
 000017D7  E8 00000000 E	    call SetTextColor
 000017DC  BE 00000F97 R	    mov esi, OFFSET pelletPositions
 000017E1  B9 00000014		    mov ecx, 20

 000017E6			DrawPellets:
 000017E6  80 3E 00		    cmp byte ptr [esi], 0  ; Skip if pellet collected
 000017E9  74 14		    je SkipPellet
				    
 000017EB  8A 16		    mov dl, [esi]    ; X
 000017ED  8A 76 01		    mov dh, [esi+1]  ; Y
 000017F0  E8 00000000 E	    call Gotoxy
 000017F5  A0 00000F90 R	    mov al, pelletChar
 000017FA  E8 00000000 E	    call WriteChar

 000017FF			SkipPellet:
 000017FF  83 C6 02		    add esi, 2
 00001802  E2 E2		    loop DrawPellets

				    ; Draw fruits if active
 00001804  80 3D 00001981 R	    cmp fruitActive[0], 1
	   01
 0000180B  75 25		    jne SkipFruit1
 0000180D  B8 0000000E		    mov eax, yellowTxt
 00001812  E8 00000000 E	    call SetTextColor
 00001817  8A 15 0000197D R	    mov dl, fruit1X
 0000181D  8A 35 0000197E R	    mov dh, fruit1Y
 00001823  E8 00000000 E	    call Gotoxy
 00001828  A0 0000197B R	    mov al, fruitChar
 0000182D  E8 00000000 E	    call WriteChar

 00001832			SkipFruit1:
 00001832  80 3D 00001982 R	    cmp fruitActive[1], 1
	   01
 00001839  75 25		    jne SkipFruit2
 0000183B  B8 0000000E		    mov eax, yellowTxt
 00001840  E8 00000000 E	    call SetTextColor
 00001845  8A 15 0000197F R	    mov dl, fruit2X
 0000184B  8A 35 00001980 R	    mov dh, fruit2Y
 00001851  E8 00000000 E	    call Gotoxy
 00001856  A0 0000197B R	    mov al, fruitChar
 0000185B  E8 00000000 E	    call WriteChar

 00001860			SkipFruit2:
				    ; Draw Pac-Man
 00001860  B8 0000000F		    mov eax, whiteTxt
 00001865  E8 00000000 E	    call SetTextColor
 0000186A  8A 15 00000FBF R	    mov dl, pacmanX
 00001870  8A 35 00000FC0 R	    mov dh, pacmanY
 00001876  E8 00000000 E	    call Gotoxy
 0000187B  A0 00000F92 R	    mov al, pacmanChar
 00001880  E8 00000000 E	    call WriteChar

				    ; Draw Ghost 1 (normal ghost)
 00001885  8A 15 00000FC1 R	    mov dl, ghostX
 0000188B  8A 35 00000FC2 R	    mov dh, ghostY
 00001891  E8 00000000 E	    call Gotoxy
 00001896  A0 00000F94 R	    mov al, ghostChar
 0000189B  E8 00000000 E	    call WriteChar

				    ; Draw Ghost 2 (Pinky)
 000018A0  B8 00000005		    mov eax, ghost2Color
 000018A5  E8 00000000 E	    call SetTextColor
 000018AA  8A 15 00001976 R	    mov dl, ghost2X
 000018B0  8A 35 00001977 R	    mov dh, ghost2Y
 000018B6  E8 00000000 E	    call Gotoxy
 000018BB  A0 00000F94 R	    mov al, ghostChar
 000018C0  E8 00000000 E	    call WriteChar

 000018C5  C3			    ret
 000018C6			DrawGameElementsLevel2 ENDP

 000018C6			ClearOldPositionsLevel2 PROC
				    ; Clear old Pac-Man position
 000018C6  B8 00000000		    mov eax, blackTxt
 000018CB  E8 00000000 E	    call SetTextColor
 000018D0  8A 15 00000FCF R	    mov dl, oldPacmanX
 000018D6  8A 35 00000FD0 R	    mov dh, oldPacmanY
 000018DC  E8 00000000 E	    call Gotoxy
 000018E1  A0 00000F8F R	    mov al, emptyChar
 000018E6  E8 00000000 E	    call WriteChar
				    
				    ; Clear old ghost positions
 000018EB  8A 15 00000FD2 R	    mov dl, oldGhostX
 000018F1  8A 35 00000FD3 R	    mov dh, oldGhostY
 000018F7  E8 00000000 E	    call Gotoxy
 000018FC  A0 00000F8F R	    mov al, emptyChar
 00001901  E8 00000000 E	    call WriteChar
				    
 00001906  8A 15 00001978 R	    mov dl, oldGhost2X
 0000190C  8A 35 00001979 R	    mov dh, oldGhost2Y
 00001912  E8 00000000 E	    call Gotoxy
 00001917  A0 00000F8F R	    mov al, emptyChar
 0000191C  E8 00000000 E	    call WriteChar
 00001921  C3			    ret
 00001922			ClearOldPositionsLevel2 ENDP

 00001922			GhostMovementLevel2 PROC
				    ; Save old positions
 00001922  A0 00000FC1 R	    mov al, ghostX
 00001927  A2 00000FD2 R	    mov oldGhostX, al
 0000192C  A0 00000FC2 R	    mov al, ghostY
 00001931  A2 00000FD3 R	    mov oldGhostY, al
 00001936  A0 00001976 R	    mov al, ghost2X
 0000193B  A2 00001978 R	    mov oldGhost2X, al
 00001940  A0 00001977 R	    mov al, ghost2Y
 00001945  A2 00001979 R	    mov oldGhost2Y, al
				    
				    ; Move first ghost (same as level 1)
 0000194A  E8 00000000 E	    call Randomize
 0000194F  B8 0000000A		    mov eax, 10
 00001954  E8 00000000 E	    call RandomRange
 00001959  83 F8 07		    cmp eax, 7  ; 70% chance to move toward Pac-Man
 0000195C  72 73		    jb RandomMove1
				    
				    ; Move toward Pac-Man
 0000195E  8A 1D 00000FBF R	    mov bl, pacmanX
 00001964  8A 3D 00000FC0 R	    mov bh, pacmanY
				    
 0000196A  38 1D 00000FC1 R	    cmp ghostX, bl
 00001970  7C 0E		    jl MoveGhostRight1
 00001972  7F 2D		    jg MoveGhostLeft1
 00001974  38 3D 00000FC2 R	    cmp ghostY, bh
 0000197A  7C 46		    jl MoveGhostDown1
 0000197C  7F 35		    jg MoveGhostUp1
 0000197E  EB 51		    jmp RandomMove1

 00001980			MoveGhostRight1:
 00001980  FE 05 00000FC1 R	    inc ghostX
 00001986  E8 FFFFF5B9		    call CheckGhostWallCollision
 0000198B  72 05		    jc UndoGhostMove1
 0000198D  E9 000000A2		    jmp MoveGhost2
 00001992			UndoGhostMove1:
 00001992  A0 00000FD2 R	    mov al, oldGhostX
 00001997  A2 00000FC1 R	    mov ghostX, al
 0000199C  E9 00000093		    jmp MoveGhost2

 000019A1			MoveGhostLeft1:
 000019A1  FE 0D 00000FC1 R	    dec ghostX
 000019A7  E8 FFFFF598		    call CheckGhostWallCollision
 000019AC  72 E4		    jc UndoGhostMove1
 000019AE  E9 00000081		    jmp MoveGhost2

 000019B3			MoveGhostUp1:
 000019B3  FE 0D 00000FC2 R	    dec ghostY
 000019B9  E8 FFFFF586		    call CheckGhostWallCollision
 000019BE  72 D2		    jc UndoGhostMove1
 000019C0  EB 72		    jmp MoveGhost2

 000019C2			MoveGhostDown1:
 000019C2  FE 05 00000FC2 R	    inc ghostY
 000019C8  E8 FFFFF577		    call CheckGhostWallCollision
 000019CD  72 C3		    jc UndoGhostMove1
 000019CF  EB 63		    jmp MoveGhost2

 000019D1			RandomMove1:
				    ; Random direction (1-4)
 000019D1  B8 00000004		    mov eax, 4
 000019D6  E8 00000000 E	    call RandomRange
 000019DB  40			    inc eax
				    
 000019DC  83 F8 01		    cmp eax, 1
 000019DF  74 0F		    je TryRight1
 000019E1  83 F8 02		    cmp eax, 2
 000019E4  74 19		    je TryLeft1
 000019E6  83 F8 03		    cmp eax, 3
 000019E9  74 23		    je TryUp1
 000019EB  83 F8 04		    cmp eax, 4
 000019EE  74 31		    je TryDown1

 000019F0			TryRight1:
 000019F0  FE 05 00000FC1 R	    inc ghostX
 000019F6  E8 FFFFF549		    call CheckGhostWallCollision
 000019FB  72 95		    jc UndoGhostMove1
 000019FD  EB 35		    jmp MoveGhost2

 000019FF			TryLeft1:
 000019FF  FE 0D 00000FC1 R	    dec ghostX
 00001A05  E8 FFFFF53A		    call CheckGhostWallCollision
 00001A0A  72 86		    jc UndoGhostMove1
 00001A0C  EB 26		    jmp MoveGhost2

 00001A0E			TryUp1:
 00001A0E  FE 0D 00000FC2 R	    dec ghostY
 00001A14  E8 FFFFF52B		    call CheckGhostWallCollision
 00001A19  0F 82 FFFFFF73	    jc UndoGhostMove1
 00001A1F  EB 13		    jmp MoveGhost2

 00001A21			TryDown1:
 00001A21  FE 05 00000FC2 R	    inc ghostY
 00001A27  E8 FFFFF518		    call CheckGhostWallCollision
 00001A2C  0F 82 FFFFFF60	    jc UndoGhostMove1
 00001A32  EB 00		    jmp MoveGhost2

				; Move second ghost (Pinky - more unpredictable)
 00001A34			MoveGhost2:
				    ; Pinky has different movement patterns
 00001A34  E8 00000000 E	    call Randomize
 00001A39  B8 00000064		    mov eax, 100
 00001A3E  E8 00000000 E	    call RandomRange
				    
				    ; 40% chance to move toward Pac-Man
 00001A43  83 F8 28		    cmp eax, 40
 00001A46  72 0B		    jb MoveTowardPacman
				    
				    ; 30% chance to move randomly
 00001A48  83 F8 46		    cmp eax, 70
 00001A4B  0F 82 0000008C	    jb MoveRandomly
				    
				    ; 30% chance to cut off Pac-Man's path
 00001A51  EB 32		    jmp CutOffPath

 00001A53			MoveTowardPacman:
 00001A53  8A 1D 00000FBF R	    mov bl, pacmanX
 00001A59  8A 3D 00000FC0 R	    mov bh, pacmanY
				    
 00001A5F  38 1D 00001976 R	    cmp ghost2X, bl
 00001A65  0F 8C 000000C9	    jl MoveGhostRight2
 00001A6B  0F 8F 000000D1	    jg MoveGhostLeft2
 00001A71  38 3D 00001977 R	    cmp ghost2Y, bh
 00001A77  0F 8C 000000E1	    jl MoveGhostDown2
 00001A7D  0F 8F 000000CD	    jg MoveGhostUp2
 00001A83  EB 58		    jmp MoveRandomly

 00001A85			CutOffPath:
				    ; Try to predict Pac-Man's path
 00001A85  8A 1D 00000FBF R	    mov bl, pacmanX
 00001A8B  8A 3D 00000FC0 R	    mov bh, pacmanY
				    
				    ; Check Pac-Man's direction by comparing with old position
 00001A91  A0 00000FBF R	    mov al, pacmanX
 00001A96  3A 05 00000FCF R	    cmp al, oldPacmanX
 00001A9C  7F 13		    jg MovingRight
 00001A9E  7C 16		    jl MovingLeft
				    
 00001AA0  A0 00000FC0 R	    mov al, pacmanY
 00001AA5  3A 05 00000FD0 R	    cmp al, oldPacmanY
 00001AAB  7F 13		    jg MovingDown
 00001AAD  7C 0C		    jl MovingUp
				    
				    ; If not moving, default to toward movement
 00001AAF  EB A2		    jmp MoveTowardPacman

 00001AB1			MovingRight:
				    ; Try to get ahead to the right
 00001AB1  80 C3 05		    add bl, 5
 00001AB4  EB 0D		    jmp MoveTowardPoint

 00001AB6			MovingLeft:
				    ; Try to get ahead to the left
 00001AB6  80 EB 05		    sub bl, 5
 00001AB9  EB 08		    jmp MoveTowardPoint

 00001ABB			MovingUp:
				    ; Try to get above
 00001ABB  80 EF 05		    sub bh, 5
 00001ABE  EB 03		    jmp MoveTowardPoint

 00001AC0			MovingDown:
				    ; Try to get below
 00001AC0  80 C7 05		    add bh, 5

 00001AC3			MoveTowardPoint:
				    ; Move toward the predicted point (bl,bh)
 00001AC3  38 1D 00001976 R	    cmp ghost2X, bl
 00001AC9  7C 69		    jl MoveGhostRight2
 00001ACB  7F 75		    jg MoveGhostLeft2
 00001ACD  38 3D 00001977 R	    cmp ghost2Y, bh
 00001AD3  0F 8C 00000085	    jl MoveGhostDown2
 00001AD9  7F 75		    jg MoveGhostUp2
 00001ADB  EB 00		    jmp MoveRandomly

 00001ADD			MoveRandomly:
				    ; Random direction (1-4)
 00001ADD  B8 00000004		    mov eax, 4
 00001AE2  E8 00000000 E	    call RandomRange
 00001AE7  40			    inc eax
				    
 00001AE8  83 F8 01		    cmp eax, 1
 00001AEB  74 0F		    je TryRight2
 00001AED  83 F8 02		    cmp eax, 2
 00001AF0  74 18		    je TryLeft2
 00001AF2  83 F8 03		    cmp eax, 3
 00001AF5  74 21		    je TryUp2
 00001AF7  83 F8 04		    cmp eax, 4
 00001AFA  74 2A		    je TryDown2

 00001AFC			TryRight2:
 00001AFC  FE 05 00001976 R	    inc ghost2X
 00001B02  E8 0000007A		    call CheckGhost2WallCollision
 00001B07  72 63		    jc UndoGhostMove2
 00001B09  C3			    ret

 00001B0A			TryLeft2:
 00001B0A  FE 0D 00001976 R	    dec ghost2X
 00001B10  E8 0000006C		    call CheckGhost2WallCollision
 00001B15  72 55		    jc UndoGhostMove2
 00001B17  C3			    ret

 00001B18			TryUp2:
 00001B18  FE 0D 00001977 R	    dec ghost2Y
 00001B1E  E8 0000005E		    call CheckGhost2WallCollision
 00001B23  72 47		    jc UndoGhostMove2
 00001B25  C3			    ret

 00001B26			TryDown2:
 00001B26  FE 05 00001977 R	    inc ghost2Y
 00001B2C  E8 00000050		    call CheckGhost2WallCollision
 00001B31  72 39		    jc UndoGhostMove2
 00001B33  C3			    ret

 00001B34			MoveGhostRight2:
 00001B34  FE 05 00001976 R	    inc ghost2X
 00001B3A  E8 00000042		    call CheckGhost2WallCollision
 00001B3F  72 2B		    jc UndoGhostMove2
 00001B41  C3			    ret

 00001B42			MoveGhostLeft2:
 00001B42  FE 0D 00001976 R	    dec ghost2X
 00001B48  E8 00000034		    call CheckGhost2WallCollision
 00001B4D  72 1D		    jc UndoGhostMove2
 00001B4F  C3			    ret

 00001B50			MoveGhostUp2:
 00001B50  FE 0D 00001977 R	    dec ghost2Y
 00001B56  E8 00000026		    call CheckGhost2WallCollision
 00001B5B  72 0F		    jc UndoGhostMove2
 00001B5D  C3			    ret

 00001B5E			MoveGhostDown2:
 00001B5E  FE 05 00001977 R	    inc ghost2Y
 00001B64  E8 00000018		    call CheckGhost2WallCollision
 00001B69  72 01		    jc UndoGhostMove2
 00001B6B  C3			    ret

 00001B6C			UndoGhostMove2:
 00001B6C  A0 00001978 R	    mov al, oldGhost2X
 00001B71  A2 00001976 R	    mov ghost2X, al
 00001B76  A0 00001979 R	    mov al, oldGhost2Y
 00001B7B  A2 00001977 R	    mov ghost2Y, al
 00001B80  C3			    ret
 00001B81			GhostMovementLevel2 ENDP

 00001B81			CheckGhost2WallCollision PROC
 00001B81  8A 15 00001976 R	    mov dl, ghost2X
 00001B87  8A 35 00001977 R	    mov dh, ghost2Y
 00001B8D  E8 FFFFF0BE		    call CheckWallPosition
 00001B92  C3			    ret
 00001B93			CheckGhost2WallCollision ENDP

 00001B93			CheckGhostCollisionLevel2 PROC
				    ; Check collision with first ghost
 00001B93  A0 00000FBF R	    mov al, pacmanX
 00001B98  2A 05 00000FC1 R	    sub al, ghostX
 00001B9E  3C FF		    cmp al, -1
 00001BA0  7C 19		    jl CheckSecondGhost
 00001BA2  3C 01		    cmp al, 1
 00001BA4  7F 15		    jg CheckSecondGhost
				    
 00001BA6  A0 00000FC0 R	    mov al, pacmanY
 00001BAB  2A 05 00000FC2 R	    sub al, ghostY
 00001BB1  3C FF		    cmp al, -1
 00001BB3  7C 06		    jl CheckSecondGhost
 00001BB5  3C 01		    cmp al, 1
 00001BB7  7F 02		    jg CheckSecondGhost
				    
				    ; Collision with first ghost
 00001BB9  EB 36		    jmp GhostCollision
				    
 00001BBB			CheckSecondGhost:
				    ; Check collision with second ghost
 00001BBB  A0 00000FBF R	    mov al, pacmanX
 00001BC0  2A 05 00001976 R	    sub al, ghost2X
 00001BC6  3C FF		    cmp al, -1
 00001BC8  0F 8C 000000B8	    jl NoCollision
 00001BCE  3C 01		    cmp al, 1
 00001BD0  0F 8F 000000B0	    jg NoCollision
				    
 00001BD6  A0 00000FC0 R	    mov al, pacmanY
 00001BDB  2A 05 00001977 R	    sub al, ghost2Y
 00001BE1  3C FF		    cmp al, -1
 00001BE3  0F 8C 0000009D	    jl NoCollision
 00001BE9  3C 01		    cmp al, 1
 00001BEB  0F 8F 00000095	    jg NoCollision
				    
				    ; Collision with second ghost
 00001BF1			GhostCollision:
 00001BF1  FF 0D 00000FC7 R	    dec lives

				    ; Update lives display
 00001BF7  B8 0000000F		    mov eax, whiteTxt
 00001BFC  E8 00000000 E	    call SetTextColor
 00001C01  B6 00		    mov dh, 0
 00001C03  B2 07		    mov dl, 7
 00001C05  E8 00000000 E	    call Gotoxy
 00001C0A  A1 00000FC7 R	    mov eax, lives
 00001C0F  0F B6 C0		    movzx eax, al
 00001C12  E8 00000000 E	    call WriteDec

				    ; Clear ghosts from screen
 00001C17  8A 15 00000FC1 R	    mov dl, ghostX
 00001C1D  8A 35 00000FC2 R	    mov dh, ghostY
 00001C23  E8 00000000 E	    call Gotoxy
 00001C28  A0 00000F8F R	    mov al, emptyChar
 00001C2D  E8 00000000 E	    call WriteChar
				    
 00001C32  8A 15 00001976 R	    mov dl, ghost2X
 00001C38  8A 35 00001977 R	    mov dh, ghost2Y
 00001C3E  E8 00000000 E	    call Gotoxy
 00001C43  A0 00000F8F R	    mov al, emptyChar
 00001C48  E8 00000000 E	    call WriteChar

				    ; Reset positions
 00001C4D  C6 05 00000FBF R	    mov pacmanX, 10
	   0A
 00001C54  C6 05 00000FC0 R	    mov pacmanY, 15
	   0F
 00001C5B  C6 05 00000FC1 R	    mov ghostX, 50
	   32
 00001C62  C6 05 00000FC2 R	    mov ghostY, 15
	   0F
 00001C69  C6 05 00001976 R	    mov ghost2X, 70
	   46
 00001C70  C6 05 00001977 R	    mov ghost2Y, 15
	   0F

 00001C77  83 3D 00000FC7 R	    cmp lives, 0
	   00
 00001C7E  7E 0C		    jle GameOver

 00001C80  B8 00000000		    mov eax, 0
 00001C85  C3			    ret

 00001C86			NoCollision:
 00001C86  B8 00000000		    mov eax, 0
 00001C8B  C3			    ret

 00001C8C			GameOver:
 00001C8C  B8 00000001		    mov eax, 1
 00001C91  C3			    ret
 00001C92			CheckGhostCollisionLevel2 ENDP

 00001C92			UpdateFruitTimer PROC
				    ; Check if we need to spawn fruits
 00001C92  80 3D 00001981 R	    cmp fruitActive[0], 1
	   01
 00001C99  74 2D		    je CheckSecondFruit
 00001C9B  80 3D 00001982 R	    cmp fruitActive[1], 1
	   01
 00001CA2  74 24		    je CheckSecondFruit
				    
				    ; No fruits active - check timer
 00001CA4  A1 00001983 R	    mov eax, fruitTimer
 00001CA9  83 C0 64		    add eax, 100  ; Assuming this is called every game loop (100ms)
 00001CAC  A3 00001983 R	    mov fruitTimer, eax
				    
 00001CB1  3D 00001770		    cmp eax, FRUIT_SPAWN_TIME
 00001CB6  72 33		    jb TimerDone
				    
				    ; Time to spawn fruits
 00001CB8  E8 0000002F		    call SpawnFruits
 00001CBD  C7 05 00001983 R	    mov fruitTimer, 0
	   00000000
 00001CC7  C3			    ret
				    
 00001CC8			CheckSecondFruit:
				    ; At least one fruit is active - just update timer
 00001CC8  A1 00001983 R	    mov eax, fruitTimer
 00001CCD  83 C0 64		    add eax, 100
 00001CD0  A3 00001983 R	    mov fruitTimer, eax
 00001CD5  3D 00001770		    cmp eax, FRUIT_SPAWN_TIME
 00001CDA  72 0F		    jb TimerDone
				    
				    ; Time to respawn fruits
 00001CDC  E8 0000000B		    call SpawnFruits
 00001CE1  C7 05 00001983 R	    mov fruitTimer, 0
	   00000000
				    
 00001CEB			TimerDone:
 00001CEB  C3			    ret
 00001CEC			UpdateFruitTimer ENDP

 00001CEC			SpawnFruits PROC
				    ; Spawn first fruit if not active
 00001CEC  80 3D 00001981 R	    cmp fruitActive[0], 1
	   01
 00001CF3  74 18		    je SpawnSecond
				    
 00001CF5  E8 00000035		    call FindEmptyPosition
 00001CFA  88 15 0000197D R	    mov fruit1X, dl
 00001D00  88 35 0000197E R	    mov fruit1Y, dh
 00001D06  C6 05 00001981 R	    mov fruitActive[0], 1
	   01
				    
 00001D0D			SpawnSecond:
				    ; Spawn second fruit if not active
 00001D0D  80 3D 00001982 R	    cmp fruitActive[1], 1
	   01
 00001D14  74 18		    je SpawnDone
				    
 00001D16  E8 00000014		    call FindEmptyPosition
 00001D1B  88 15 0000197F R	    mov fruit2X, dl
 00001D21  88 35 00001980 R	    mov fruit2Y, dh
 00001D27  C6 05 00001982 R	    mov fruitActive[1], 1
	   01
				    
 00001D2E			SpawnDone:
 00001D2E  C3			    ret
 00001D2F			SpawnFruits ENDP

 00001D2F			FindEmptyPosition PROC
				    ; Find a random empty position (not wall, not pellet, not pacman/ghosts)
 00001D2F			TryAgain:
 00001D2F  B8 00000071		    mov eax, 113    
 00001D34  E8 00000000 E	    call RandomRange
 00001D39  40			    inc eax          ; X = 1-114
 00001D3A  8A D0		    mov dl, al
				    
 00001D3C  B8 00000017		    mov eax, 23      ; Max Y (29-6)
 00001D41  E8 00000000 E	    call RandomRange
 00001D46  83 C0 06		    add eax, 6       ; Y = 6-29
 00001D49  8A F0		    mov dh, al
				    
				    ; Check if position is valid
 00001D4B  E8 FFFFEF00		    call CheckWallPosition
 00001D50  72 DD		    jc TryAgain
				    
				    ; Check if position has pellet
 00001D52  BE 00000F97 R	    mov esi, OFFSET pelletPositions
 00001D57  B9 00000014		    mov ecx, 20
 00001D5C			CheckPellets:
 00001D5C  80 3E 00		    cmp byte ptr [esi], 0  ; Skip if pellet collected
 00001D5F  74 0D		    je NextPelletCheck
				    
 00001D61  8A 06		    mov al, [esi]
 00001D63  3A C2		    cmp al, dl
 00001D65  75 07		    jne NextPelletCheck
 00001D67  8A 46 01		    mov al, [esi+1]
 00001D6A  3A C6		    cmp al, dh
 00001D6C  74 C1		    je TryAgain
				    
 00001D6E			NextPelletCheck:
 00001D6E  83 C6 02		    add esi, 2
 00001D71  E2 E9		    loop CheckPellets
				    
				    ; Check if position is on Pac-Man or ghosts
 00001D73  A0 00000FBF R	    mov al, pacmanX
 00001D78  3A C2		    cmp al, dl
 00001D7A  75 09		    jne CheckGhost1
 00001D7C  A0 00000FC0 R	    mov al, pacmanY
 00001D81  3A C6		    cmp al, dh
 00001D83  74 AA		    je TryAgain
				    
 00001D85			CheckGhost1:
 00001D85  A0 00000FC1 R	    mov al, ghostX
 00001D8A  3A C2		    cmp al, dl
 00001D8C  75 09		    jne CheckGhost2
 00001D8E  A0 00000FC2 R	    mov al, ghostY
 00001D93  3A C6		    cmp al, dh
 00001D95  74 98		    je TryAgain
				    
 00001D97			CheckGhost2:
 00001D97  A0 00001976 R	    mov al, ghost2X
 00001D9C  3A C2		    cmp al, dl
 00001D9E  75 09		    jne PositionOK
 00001DA0  A0 00001977 R	    mov al, ghost2Y
 00001DA5  3A C6		    cmp al, dh
 00001DA7  74 86		    je TryAgain
				    
 00001DA9			PositionOK:
 00001DA9  C3			    ret
 00001DAA			FindEmptyPosition ENDP

 00001DAA			CheckFruitCollision PROC
				    ; Check collision with first fruit
 00001DAA  80 3D 00001981 R	    cmp fruitActive[0], 1
	   01
 00001DB1  75 55		    jne CheckSecondFruit
				    
 00001DB3  A0 00000FBF R	    mov al, pacmanX
 00001DB8  3A 05 0000197D R	    cmp al, fruit1X
 00001DBE  75 48		    jne CheckSecondFruit
 00001DC0  A0 00000FC0 R	    mov al, pacmanY
 00001DC5  3A 05 0000197E R	    cmp al, fruit1Y
 00001DCB  75 3B		    jne CheckSecondFruit
				    
				    ; Collision with first fruit
 00001DCD  C6 05 00001981 R	    mov fruitActive[0], 0
	   00
 00001DD4  83 05 00000FC3 R	    add score, FRUIT_POINTS
	   05
				    
				    ; Update score display
 00001DDB  B8 0000000F		    mov eax, whiteTxt
 00001DE0  E8 00000000 E	    call SetTextColor
 00001DE5  B6 01		    mov dh, 1
 00001DE7  B2 37		    mov dl, 55
 00001DE9  E8 00000000 E	    call Gotoxy
 00001DEE  BA 00000F76 R	    mov edx, OFFSET scoreMsg
 00001DF3  E8 00000000 E	    call WriteString
 00001DF8  A1 00000FC3 R	    mov eax, score
 00001DFD  E8 00000000 E	    call WriteDec
				    
				    ; Immediately spawn new fruit
 00001E02  E8 FFFFFEE5		    call SpawnFruits
 00001E07  C3			    ret
				    
 00001E08			CheckSecondFruit:
				    ; Check collision with second fruit
 00001E08  80 3D 00001982 R	    cmp fruitActive[1], 1
	   01
 00001E0F  75 54		    jne NoFruitCollision
				    
 00001E11  A0 00000FBF R	    mov al, pacmanX
 00001E16  3A 05 0000197F R	    cmp al, fruit2X
 00001E1C  75 47		    jne NoFruitCollision
 00001E1E  A0 00000FC0 R	    mov al, pacmanY
 00001E23  3A 05 00001980 R	    cmp al, fruit2Y
 00001E29  75 3A		    jne NoFruitCollision
				    
				    ; Collision with second fruit
 00001E2B  C6 05 00001982 R	    mov fruitActive[1], 0
	   00
 00001E32  83 05 00000FC3 R	    add score, FRUIT_POINTS
	   05
				    
				    ; Update score display
 00001E39  B8 0000000F		    mov eax, whiteTxt
 00001E3E  E8 00000000 E	    call SetTextColor
 00001E43  B6 01		    mov dh, 1
 00001E45  B2 37		    mov dl, 55
 00001E47  E8 00000000 E	    call Gotoxy
 00001E4C  BA 00000F76 R	    mov edx, OFFSET scoreMsg
 00001E51  E8 00000000 E	    call WriteString
 00001E56  A1 00000FC3 R	    mov eax, score
 00001E5B  E8 00000000 E	    call WriteDec
				    
				    ; Immediately spawn new fruit
 00001E60  E8 FFFFFE87		    call SpawnFruits
				    
 00001E65			NoFruitCollision:
 00001E65  C3			    ret
 00001E66			CheckFruitCollision ENDP



 00001E66			Level3Screen proc
 00001E66			Level3Screen endp

				end main


Microsoft (R) Macro Assembler Version 14.42.34436.0	    05/12/25 06:46:54
CODE.asm						     Symbols 2 - 1




Structures and Unions:

                N a m e                  Size
                                         Offset      Type

CONSOLE_CURSOR_INFO  . . . . . .	 00000008
  dwSize . . . . . . . . . . . .	 00000000	 DWord
  bVisible . . . . . . . . . . .	 00000004	 DWord
CONSOLE_SCREEN_BUFFER_INFO . . .	 00000016
  dwSize . . . . . . . . . . . .	 00000000	 DWord
  dwCursorPosition . . . . . . .	 00000004	 DWord
  wAttributes  . . . . . . . . .	 00000008	 Word
  srWindow . . . . . . . . . . .	 0000000A	 QWord
  dwMaximumWindowSize  . . . . .	 00000012	 DWord
COORD  . . . . . . . . . . . . .	 00000004
  X  . . . . . . . . . . . . . .	 00000000	 Word
  Y  . . . . . . . . . . . . . .	 00000002	 Word
FILETIME . . . . . . . . . . . .	 00000008
  loDateTime . . . . . . . . . .	 00000000	 DWord
  hiDateTime . . . . . . . . . .	 00000004	 DWord
FOCUS_EVENT_RECORD . . . . . . .	 00000004
  bSetFocus  . . . . . . . . . .	 00000000	 DWord
FPU_ENVIRON  . . . . . . . . . .	 0000001C
  controlWord  . . . . . . . . .	 00000000	 Word
  statusWord . . . . . . . . . .	 00000004	 Word
  tagWord  . . . . . . . . . . .	 00000008	 Word
  instrPointerOffset . . . . . .	 0000000C	 DWord
  instrPointerSelector . . . . .	 00000010	 DWord
  operandPointerOffset . . . . .	 00000014	 DWord
  operandPointerSelector . . . .	 00000018	 Word
INPUT_RECORD . . . . . . . . . .	 00000014
  EventType  . . . . . . . . . .	 00000000	 Word
  Event  . . . . . . . . . . . .	 00000004	 XmmWord
  bKeyDown . . . . . . . . . . .	 00000000	 DWord
  wRepeatCount . . . . . . . . .	 00000004	 Word
  wVirtualKeyCode  . . . . . . .	 00000006	 Word
  wVirtualScanCode . . . . . . .	 00000008	 Word
  uChar  . . . . . . . . . . . .	 0000000A	 Word
  UnicodeChar  . . . . . . . . .	 00000000	 Word
  AsciiChar  . . . . . . . . . .	 00000000	 Byte
  dwControlKeyState  . . . . . .	 0000000C	 DWord
  dwMousePosition  . . . . . . .	 00000000	 DWord
  dwButtonState  . . . . . . . .	 00000004	 DWord
  dwMouseControlKeyState . . . .	 00000008	 DWord
  dwEventFlags . . . . . . . . .	 0000000C	 DWord
  dwSize . . . . . . . . . . . .	 00000000	 DWord
  dwCommandId  . . . . . . . . .	 00000000	 DWord
  bSetFocus  . . . . . . . . . .	 00000000	 DWord
KEY_EVENT_RECORD . . . . . . . .	 00000010
  bKeyDown . . . . . . . . . . .	 00000000	 DWord
  wRepeatCount . . . . . . . . .	 00000004	 Word
  wVirtualKeyCode  . . . . . . .	 00000006	 Word
  wVirtualScanCode . . . . . . .	 00000008	 Word
  uChar  . . . . . . . . . . . .	 0000000A	 Word
  UnicodeChar  . . . . . . . . .	 00000000	 Word
  AsciiChar  . . . . . . . . . .	 00000000	 Byte
  dwControlKeyState  . . . . . .	 0000000C	 DWord
MENU_EVENT_RECORD  . . . . . . .	 00000004
  dwCommandId  . . . . . . . . .	 00000000	 DWord
MOUSE_EVENT_RECORD . . . . . . .	 00000010
  dwMousePosition  . . . . . . .	 00000000	 DWord
  dwButtonState  . . . . . . . .	 00000004	 DWord
  dwMouseControlKeyState . . . .	 00000008	 DWord
  dwEventFlags . . . . . . . . .	 0000000C	 DWord
SMALL_RECT . . . . . . . . . . .	 00000008
  Left . . . . . . . . . . . . .	 00000000	 Word
  Top  . . . . . . . . . . . . .	 00000002	 Word
  Right  . . . . . . . . . . . .	 00000004	 Word
  Bottom . . . . . . . . . . . .	 00000006	 Word
SYSTEMTIME . . . . . . . . . . .	 00000010
  wYear  . . . . . . . . . . . .	 00000000	 Word
  wMonth . . . . . . . . . . . .	 00000002	 Word
  wDayOfWeek . . . . . . . . . .	 00000004	 Word
  wDay . . . . . . . . . . . . .	 00000006	 Word
  wHour  . . . . . . . . . . . .	 00000008	 Word
  wMinute  . . . . . . . . . . .	 0000000A	 Word
  wSecond  . . . . . . . . . . .	 0000000C	 Word
  wMilliseconds  . . . . . . . .	 0000000E	 Word
WINDOW_BUFFER_SIZE_RECORD  . . .	 00000004
  dwSize . . . . . . . . . . . .	 00000000	 DWord


Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

FLAT . . . . . . . . . . . . . .	GROUP
STACK  . . . . . . . . . . . . .	32 Bit	 00001000 Para	  Stack	  'STACK'	 
_DATA  . . . . . . . . . . . . .	32 Bit	 00001987 Para	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 00001E66 Para	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

CheckFruitCollision  . . . . . .	P Near	 00001DAA _TEXT	Length= 000000BC Public STDCALL
  CheckSecondFruit . . . . . . .	L Near	 00001E08 _TEXT	
  NoFruitCollision . . . . . . .	L Near	 00001E65 _TEXT	
CheckGhost2WallCollision . . . .	P Near	 00001B81 _TEXT	Length= 00000012 Public STDCALL
CheckGhostCollisionLevel2  . . .	P Near	 00001B93 _TEXT	Length= 000000FF Public STDCALL
  CheckSecondGhost . . . . . . .	L Near	 00001BBB _TEXT	
  GhostCollision . . . . . . . .	L Near	 00001BF1 _TEXT	
  NoCollision  . . . . . . . . .	L Near	 00001C86 _TEXT	
  GameOver . . . . . . . . . . .	L Near	 00001C8C _TEXT	
CheckGhostCollision  . . . . . .	P Near	 00000F56 _TEXT	Length= 000000A2 Public STDCALL
  NoCollisionX . . . . . . . . .	L Near	 00000FEC _TEXT	
  NoCollision  . . . . . . . . .	L Near	 00000FEC _TEXT	
  GameOver . . . . . . . . . . .	L Near	 00000FF2 _TEXT	
CheckGhostWallCollision  . . . .	P Near	 00000F44 _TEXT	Length= 00000012 Public STDCALL
CheckPelletCollision . . . . . .	P Near	 00000D2A _TEXT	Length= 00000062 Public STDCALL
  CheckPellets . . . . . . . . .	L Near	 00000D35 _TEXT	
  NextPellet . . . . . . . . . .	L Near	 00000D85 _TEXT	
CheckWallCollision . . . . . . .	P Near	 00000D18 _TEXT	Length= 00000012 Public STDCALL
CheckWallPosition  . . . . . . .	P Near	 00000C50 _TEXT	Length= 000000C8 Public STDCALL
  NotWall1 . . . . . . . . . . .	L Near	 00000C88 _TEXT	
  NotWall2 . . . . . . . . . . .	L Near	 00000C99 _TEXT	
  NotWall3a  . . . . . . . . . .	L Near	 00000CAA _TEXT	
  NotWall3b  . . . . . . . . . .	L Near	 00000CB6 _TEXT	
  NotWall3c  . . . . . . . . . .	L Near	 00000CC2 _TEXT	
  NotWall3d  . . . . . . . . . .	L Near	 00000CCE _TEXT	
  NotWall3 . . . . . . . . . . .	L Near	 00000CDA _TEXT	
  NotWall4a  . . . . . . . . . .	L Near	 00000CEB _TEXT	
  NotWall4 . . . . . . . . . . .	L Near	 00000CF7 _TEXT	
  NotWall5a  . . . . . . . . . .	L Near	 00000D08 _TEXT	
  NotWall  . . . . . . . . . . .	L Near	 00000D14 _TEXT	
  IsWall . . . . . . . . . . . .	L Near	 00000D16 _TEXT	
ClearOldPositionsLevel2  . . . .	P Near	 000018C6 _TEXT	Length= 0000005C Public STDCALL
ClearOldPositions  . . . . . . .	P Near	 00000E11 _TEXT	Length= 00000041 Public STDCALL
CloseFile  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
CloseHandle  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Clrscr . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ConvertNumberToString  . . . . .	P Near	 00001136 _TEXT	Length= 00000025 Public STDCALL
  DivLoop  . . . . . . . . . . .	L Near	 00001140 _TEXT	
  WriteDigits  . . . . . . . . .	L Near	 0000114C _TEXT	
CopyStringToBuffer . . . . . . .	P Near	 0000115B _TEXT	Length= 0000000C Public STDCALL
  CopyChar . . . . . . . . . . .	L Near	 0000115B _TEXT	
CreateFileA  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
CreateOutputFile . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Crlf . . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Delay  . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
DrawGameElementsLevel2 . . . . .	P Near	 000017D2 _TEXT	Length= 000000F4 Public STDCALL
  DrawPellets  . . . . . . . . .	L Near	 000017E6 _TEXT	
  SkipPellet . . . . . . . . . .	L Near	 000017FF _TEXT	
  SkipFruit1 . . . . . . . . . .	L Near	 00001832 _TEXT	
  SkipFruit2 . . . . . . . . . .	L Near	 00001860 _TEXT	
DrawGameElements . . . . . . . .	P Near	 00000BA2 _TEXT	Length= 00000073 Public STDCALL
  DrawPellets  . . . . . . . . .	L Near	 00000BB6 _TEXT	
  SkipPellet . . . . . . . . . .	L Near	 00000BCF _TEXT	
DrawInnerWallsLevel2 . . . . . .	P Near	 0000175C _TEXT	Length= 00000076 Public STDCALL
DrawInnerWalls . . . . . . . . .	P Near	 00000D8C _TEXT	Length= 0000006F Public STDCALL
DrawStaticElementsLevel2 . . . .	P Near	 00001679 _TEXT	Length= 000000E3 Public STDCALL
  topBorder  . . . . . . . . . .	L Near	 000016F1 _TEXT	
  bottomBorder . . . . . . . . .	L Near	 00001708 _TEXT	
  sideBorders  . . . . . . . . .	L Near	 0000171D _TEXT	
DrawStaticElements . . . . . . .	P Near	 00000ABF _TEXT	Length= 000000E3 Public STDCALL
  topBorder  . . . . . . . . . .	L Near	 00000B37 _TEXT	
  bottomBorder . . . . . . . . .	L Near	 00000B4E _TEXT	
  sideBorders  . . . . . . . . .	L Near	 00000B63 _TEXT	
DrawWall . . . . . . . . . . . .	P Near	 00000DFB _TEXT	Length= 00000016 Public STDCALL
  wallLoop . . . . . . . . . . .	L Near	 00000DFC _TEXT	
DumpMem  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
DumpRegs . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ExitProcess  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
FileTimeToDosDateTime  . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
FileTimeToSystemTime . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
FindEmptyPosition  . . . . . . .	P Near	 00001D2F _TEXT	Length= 0000007B Public STDCALL
  TryAgain . . . . . . . . . . .	L Near	 00001D2F _TEXT	
  CheckPellets . . . . . . . . .	L Near	 00001D5C _TEXT	
  NextPelletCheck  . . . . . . .	L Near	 00001D6E _TEXT	
  CheckGhost1  . . . . . . . . .	L Near	 00001D85 _TEXT	
  CheckGhost2  . . . . . . . . .	L Near	 00001D97 _TEXT	
  PositionOK . . . . . . . . . .	L Near	 00001DA9 _TEXT	
FlushConsoleInputBuffer  . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
FormatMessageA . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetCommandLineA  . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetCommandTail . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetConsoleCP . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetConsoleCursorInfo . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetConsoleMode . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetConsoleScreenBufferInfo . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetDateTime  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetFileTime  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetKeyState  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetLastError . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetLocalTime . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetMaxXY . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetMseconds  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetNumberOfConsoleInputEvents  .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetProcessHeap . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetStdHandle . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetSystemTime  . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetTextColor . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetTickCount . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GhostMovementLevel2  . . . . . .	P Near	 00001922 _TEXT	Length= 0000025F Public STDCALL
  MoveGhostRight1  . . . . . . .	L Near	 00001980 _TEXT	
  UndoGhostMove1 . . . . . . . .	L Near	 00001992 _TEXT	
  MoveGhostLeft1 . . . . . . . .	L Near	 000019A1 _TEXT	
  MoveGhostUp1 . . . . . . . . .	L Near	 000019B3 _TEXT	
  MoveGhostDown1 . . . . . . . .	L Near	 000019C2 _TEXT	
  RandomMove1  . . . . . . . . .	L Near	 000019D1 _TEXT	
  TryRight1  . . . . . . . . . .	L Near	 000019F0 _TEXT	
  TryLeft1 . . . . . . . . . . .	L Near	 000019FF _TEXT	
  TryUp1 . . . . . . . . . . . .	L Near	 00001A0E _TEXT	
  TryDown1 . . . . . . . . . . .	L Near	 00001A21 _TEXT	
  MoveGhost2 . . . . . . . . . .	L Near	 00001A34 _TEXT	
  MoveTowardPacman . . . . . . .	L Near	 00001A53 _TEXT	
  CutOffPath . . . . . . . . . .	L Near	 00001A85 _TEXT	
  MovingRight  . . . . . . . . .	L Near	 00001AB1 _TEXT	
  MovingLeft . . . . . . . . . .	L Near	 00001AB6 _TEXT	
  MovingUp . . . . . . . . . . .	L Near	 00001ABB _TEXT	
  MovingDown . . . . . . . . . .	L Near	 00001AC0 _TEXT	
  MoveTowardPoint  . . . . . . .	L Near	 00001AC3 _TEXT	
  MoveRandomly . . . . . . . . .	L Near	 00001ADD _TEXT	
  TryRight2  . . . . . . . . . .	L Near	 00001AFC _TEXT	
  TryLeft2 . . . . . . . . . . .	L Near	 00001B0A _TEXT	
  TryUp2 . . . . . . . . . . . .	L Near	 00001B18 _TEXT	
  TryDown2 . . . . . . . . . . .	L Near	 00001B26 _TEXT	
  MoveGhostRight2  . . . . . . .	L Near	 00001B34 _TEXT	
  MoveGhostLeft2 . . . . . . . .	L Near	 00001B42 _TEXT	
  MoveGhostUp2 . . . . . . . . .	L Near	 00001B50 _TEXT	
  MoveGhostDown2 . . . . . . . .	L Near	 00001B5E _TEXT	
  UndoGhostMove2 . . . . . . . .	L Near	 00001B6C _TEXT	
GhostMovement  . . . . . . . . .	P Near	 00000E52 _TEXT	Length= 000000F2 Public STDCALL
  MoveGhostRight . . . . . . . .	L Near	 00000E9C _TEXT	
  MoveGhostLeft  . . . . . . . .	L Near	 00000EAE _TEXT	
  MoveGhostUp  . . . . . . . . .	L Near	 00000EBC _TEXT	
  MoveGhostDown  . . . . . . . .	L Near	 00000ECA _TEXT	
  RandomMove . . . . . . . . . .	L Near	 00000ED8 _TEXT	
  TryRight . . . . . . . . . . .	L Near	 00000EF7 _TEXT	
  TryLeft  . . . . . . . . . . .	L Near	 00000F05 _TEXT	
  TryUp  . . . . . . . . . . . .	L Near	 00000F13 _TEXT	
  TryDown  . . . . . . . . . . .	L Near	 00000F21 _TEXT	
  UndoGhostMove  . . . . . . . .	L Near	 00000F2F _TEXT	
Gotoxy . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
HeapAlloc  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
HeapCreate . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
HeapDestroy  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
HeapFree . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
HeapSize . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
HighscoresScreen . . . . . . . .	P Near	 000005B8 _TEXT	Length= 00000195 Public STDCALL
  DisplayLoop  . . . . . . . . .	L Near	 0000069A _TEXT	
  NoScores . . . . . . . . . . .	L Near	 0000070D _TEXT	
  DisplayReturn  . . . . . . . .	L Near	 0000072A _TEXT	
InitializePellets  . . . . . . .	P Near	 00000C15 _TEXT	Length= 0000003B Public STDCALL
  PlacePellet  . . . . . . . . .	L Near	 00000C20 _TEXT	
InstructionsScreen . . . . . . .	P Near	 000004DE _TEXT	Length= 000000DA Public STDCALL
  ReturnToMenu . . . . . . . . .	L Near	 000005AB _TEXT	
  ExitGame . . . . . . . . . . .	L Near	 000005AC _TEXT	
IsDigit  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Level1Screen . . . . . . . . . .	P Near	 0000074D _TEXT	Length= 00000372 Public STDCALL
  GameLoop . . . . . . . . . . .	L Near	 000007B8 _TEXT	
  MoveUp . . . . . . . . . . . .	L Near	 000007F4 _TEXT	
  CancelMoveUp . . . . . . . . .	L Near	 0000081A _TEXT	
  MoveLeft . . . . . . . . . . .	L Near	 00000825 _TEXT	
  CancelMoveLeft . . . . . . . .	L Near	 00000848 _TEXT	
  MoveDown . . . . . . . . . . .	L Near	 00000850 _TEXT	
  CancelMoveDown . . . . . . . .	L Near	 00000873 _TEXT	
  MoveRight  . . . . . . . . . .	L Near	 0000087B _TEXT	
  CancelMoveRight  . . . . . . .	L Near	 0000089E _TEXT	
  AfterMove  . . . . . . . . . .	L Near	 000008A6 _TEXT	
  NoPlayerInput  . . . . . . . .	L Near	 000008B9 _TEXT	
  PausedLoop . . . . . . . . . .	L Near	 000008EA _TEXT	
  WaitWhilePaused  . . . . . . .	L Near	 00000907 _TEXT	
  TogglePause  . . . . . . . . .	L Near	 00000918 _TEXT	
  ClearPauseText . . . . . . . .	L Near	 00000937 _TEXT	
  ExitLevel  . . . . . . . . . .	L Near	 00000945 _TEXT	
  LevelWon . . . . . . . . . . .	L Near	 00000946 _TEXT	
  GameLost . . . . . . . . . . .	L Near	 00000951 _TEXT	
  GameOverScreen . . . . . . . .	L Near	 0000095C _TEXT	
  WaitForInput . . . . . . . . .	L Near	 000009FA _TEXT	
  LevelCompleteScreen  . . . . .	L Near	 00000A04 _TEXT	
  WaitForInput2  . . . . . . . .	L Near	 00000AB5 _TEXT	
Level2Screen . . . . . . . . . .	P Near	 000012C1 _TEXT	Length= 000003B8 Public STDCALL
  GameLoop . . . . . . . . . . .	L Near	 00001360 _TEXT	
  MoveUp . . . . . . . . . . . .	L Near	 000013A1 _TEXT	
  CancelMoveUp . . . . . . . . .	L Near	 000013C7 _TEXT	
  MoveLeft . . . . . . . . . . .	L Near	 000013D2 _TEXT	
  CancelMoveLeft . . . . . . . .	L Near	 000013F5 _TEXT	
  MoveDown . . . . . . . . . . .	L Near	 000013FD _TEXT	
  CancelMoveDown . . . . . . . .	L Near	 00001420 _TEXT	
  MoveRight  . . . . . . . . . .	L Near	 00001428 _TEXT	
  CancelMoveRight  . . . . . . .	L Near	 0000144B _TEXT	
  AfterMove  . . . . . . . . . .	L Near	 00001453 _TEXT	
  NoPlayerInput  . . . . . . . .	L Near	 0000146B _TEXT	
  PausedLoop . . . . . . . . . .	L Near	 000014A4 _TEXT	
  WaitWhilePaused  . . . . . . .	L Near	 000014C1 _TEXT	
  TogglePause  . . . . . . . . .	L Near	 000014D2 _TEXT	
  ClearPauseText . . . . . . . .	L Near	 000014F1 _TEXT	
  ExitLevel  . . . . . . . . . .	L Near	 000014FF _TEXT	
  LevelWon . . . . . . . . . . .	L Near	 00001500 _TEXT	
  GameLost . . . . . . . . . . .	L Near	 0000150B _TEXT	
  GameOverScreen . . . . . . . .	L Near	 00001516 _TEXT	
  WaitForInput . . . . . . . . .	L Near	 000015B4 _TEXT	
  LevelCompleteScreen  . . . . .	L Near	 000015BE _TEXT	
  WaitForInput2  . . . . . . . .	L Near	 0000166F _TEXT	
Level3Screen . . . . . . . . . .	P Near	 00001E66 _TEXT	Length= 00000000 Public STDCALL
LevelSelectScreen  . . . . . . .	P Near	 00000318 _TEXT	Length= 000001C6 Public STDCALL
  StartLevel1  . . . . . . . . .	L Near	 000004AA _TEXT	
  StartLevel2  . . . . . . . . .	L Near	 000004B7 _TEXT	
  StartLevel3  . . . . . . . . .	L Near	 000004C4 _TEXT	
  ReturnToMenu . . . . . . . . .	L Near	 000004D1 _TEXT	
  ExitGame . . . . . . . . . . .	L Near	 000004D2 _TEXT	
LocalFree  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
MenuScreen . . . . . . . . . . .	P Near	 0000019C _TEXT	Length= 0000017C Public STDCALL
  LevelSelection . . . . . . . .	L Near	 000002EE _TEXT	
  ShowInstructions . . . . . . .	L Near	 000002F8 _TEXT	
  ShowHighscores . . . . . . . .	L Near	 00000302 _TEXT	
  ExitGame . . . . . . . . . . .	L Near	 0000030C _TEXT	
MessageBoxA  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
MsgBoxAsk  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
MsgBox . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
OpenInputFile  . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ParseDecimal32 . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ParseInteger32 . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ParseScoreData . . . . . . . . .	P Near	 000010C9 _TEXT	Length= 00000030 Public STDCALL
  ParseLoop  . . . . . . . . . .	L Near	 000010C9 _TEXT	
  DoneReading  . . . . . . . . .	L Near	 000010F2 _TEXT	
PeekConsoleInputA  . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
PlaySound  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Random32 . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
RandomRange  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Randomize  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadChar . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadConsoleA . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadConsoleInputA  . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadDec  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadFile . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadFloat  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadFromFile . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadHex  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadInt  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadKeyFlush . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadKey  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadName . . . . . . . . . . . .	P Near	 000010F9 _TEXT	Length= 0000001C Public STDCALL
  ReadNameChar . . . . . . . . .	L Near	 000010FB _TEXT	
  StoreName  . . . . . . . . . .	L Near	 0000110C _TEXT	
ReadNumber . . . . . . . . . . .	P Near	 00001115 _TEXT	Length= 00000021 Public STDCALL
  ReadDigit  . . . . . . . . . .	L Near	 00001117 _TEXT	
  NumberDone . . . . . . . . . .	L Near	 0000112E _TEXT	
  Return . . . . . . . . . . . .	L Near	 00001135 _TEXT	
ReadString . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleCursorInfo . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleCursorPosition . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleMode . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleScreenBufferSize . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleTextAttribute  . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleTitleA . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleWindowInfo . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetFilePointer . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetLocalTime . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetTextColor . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ShowFPUStack . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Sleep  . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SpawnFruits  . . . . . . . . . .	P Near	 00001CEC _TEXT	Length= 00000043 Public STDCALL
  SpawnSecond  . . . . . . . . .	L Near	 00001D0D _TEXT	
  SpawnDone  . . . . . . . . . .	L Near	 00001D2E _TEXT	
StrLength  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Str_compare  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Str_copy . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Str_length . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Str_trim . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Str_ucase  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SwapMemory . . . . . . . . . . .	P Near	 00001220 _TEXT	Length= 0000000D Public STDCALL
  SwapByte . . . . . . . . . . .	L Near	 00001220 _TEXT	
SystemTimeToFileTime . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
UpdateFruitTimer . . . . . . . .	P Near	 00001C92 _TEXT	Length= 0000005A Public STDCALL
  CheckSecondFruit . . . . . . .	L Near	 00001CC8 _TEXT	
  TimerDone  . . . . . . . . . .	L Near	 00001CEB _TEXT	
WaitMsg  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WelcomeScreen  . . . . . . . . .	P Near	 00000063 _TEXT	Length= 00000139 Public STDCALL
WriteBinB  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteBin . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteChar  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteConsoleA  . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteConsoleOutputAttribute  . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteConsoleOutputCharacterA . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteDec . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteFile  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteFloat . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteHexB  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteHex . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteInt . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteStackFrameName  . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteStackFrame  . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteStringToFile  . . . . . . .	P Near	 000012AA _TEXT	Length= 00000017 Public STDCALL
  NextChar . . . . . . . . . . .	L Near	 000012B0 _TEXT	
  WriteStr . . . . . . . . . . .	L Near	 000012BA _TEXT	
WriteString  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteToFile  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteWindowsMsg  . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
addNewScore  . . . . . . . . . .	P Near	 00001167 _TEXT	Length= 00000047 Public STDCALL
  SkipAdd  . . . . . . . . . . .	L Near	 000011AC _TEXT	
introSound . . . . . . . . . . .	P Near	 0000001B _TEXT	Length= 00000024 Public STDCALL
  no_error1  . . . . . . . . . .	L Near	 0000003C _TEXT	
levelSound . . . . . . . . . . .	P Near	 0000003F _TEXT	Length= 00000024 Public STDCALL
  no_error2  . . . . . . . . . .	L Near	 00000060 _TEXT	
main . . . . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 0000001B Public STDCALL
printf . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External C
readScoresFromFile . . . . . . .	P Near	 00001085 _TEXT	Length= 00000044 Public STDCALL
  Done . . . . . . . . . . . . .	L Near	 000010BD _TEXT	
saveScore  . . . . . . . . . . .	P Near	 00000FF8 _TEXT	Length= 0000008D Public STDCALL
  CreateNew  . . . . . . . . . .	L Near	 00001057 _TEXT	
  FileReady  . . . . . . . . . .	L Near	 00001061 _TEXT	
  ErrorExit  . . . . . . . . . .	L Near	 00001079 _TEXT	
scanf  . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External C
sortScores . . . . . . . . . . .	P Near	 000011AE _TEXT	Length= 00000072 Public STDCALL
  OuterLoop  . . . . . . . . . .	L Near	 000011B8 _TEXT	
  InnerLoop  . . . . . . . . . .	L Near	 000011BE _TEXT	
  NoSwap . . . . . . . . . . . .	L Near	 00001216 _TEXT	
  DoneSorting  . . . . . . . . .	L Near	 0000121E _TEXT	
writeAllScoresToFile . . . . . .	P Near	 0000122D _TEXT	Length= 0000007D Public STDCALL
  WriteLoop  . . . . . . . . . .	L Near	 00001248 _TEXT	
wsprintfA  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External C


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000003h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
ALT_MASK . . . . . . . . . . . .	Number	 00000003h   
BUFFER_SIZE  . . . . . . . . . .	Number	 00000400h   
CAPSLOCK_ON  . . . . . . . . . .	Number	 00000080h   
CREATE_ALWAYS  . . . . . . . . .	Number	 00000002h   
CREATE_NEW . . . . . . . . . . .	Number	 00000001h   
CTRL_MASK  . . . . . . . . . . .	Number	 0000000Ch   
CreateFile . . . . . . . . . . .	Text   	 CreateFileA
DO_NOT_SHARE . . . . . . . . . .	Number	 00000000h   
ENABLE_ECHO_INPUT  . . . . . . .	Number	 00000004h   
ENABLE_LINE_INPUT  . . . . . . .	Number	 00000002h   
ENABLE_MOUSE_INPUT . . . . . . .	Number	 00000010h   
ENABLE_PROCESSED_INPUT . . . . .	Number	 00000001h   
ENABLE_PROCESSED_OUTPUT  . . . .	Number	 00000001h   
ENABLE_WINDOW_INPUT  . . . . . .	Number	 00000008h   
ENABLE_WRAP_AT_EOL_OUTPUT  . . .	Number	 00000002h   
ENHANCED_KEY . . . . . . . . . .	Number	 00000100h   
FALSE  . . . . . . . . . . . . .	Number	 00000000h   
FILE_APPEND_DATA . . . . . . . .	Number	 00000004h   
FILE_ATTRIBUTE_ARCHIVE . . . . .	Number	 00000020h   
FILE_ATTRIBUTE_COMPRESSED  . . .	Number	 00000800h   
FILE_ATTRIBUTE_DEVICE  . . . . .	Number	 00000040h   
FILE_ATTRIBUTE_DIRECTORY . . . .	Number	 00000010h   
FILE_ATTRIBUTE_ENCRYPTED . . . .	Number	 00004000h   
FILE_ATTRIBUTE_HIDDEN  . . . . .	Number	 00000002h   
FILE_ATTRIBUTE_NORMAL  . . . . .	Number	 00000080h   
FILE_ATTRIBUTE_NOT_CONTENT_INDEXED .	Number	 00002000h   
FILE_ATTRIBUTE_OFFLINE . . . . .	Number	 00001000h   
FILE_ATTRIBUTE_READONLY  . . . .	Number	 00000001h   
FILE_ATTRIBUTE_REPARSE_POINT . .	Number	 00000400h   
FILE_ATTRIBUTE_SPARSE_FILE . . .	Number	 00000200h   
FILE_ATTRIBUTE_SYSTEM  . . . . .	Number	 00000004h   
FILE_ATTRIBUTE_TEMPORARY . . . .	Number	 00000100h   
FILE_BEGIN . . . . . . . . . . .	Number	 00000000h   
FILE_CURRENT . . . . . . . . . .	Number	 00000001h   
FILE_DELETE_CHILD  . . . . . . .	Number	 00000040h   
FILE_END . . . . . . . . . . . .	Number	 00000002h   
FILE_READ_DATA . . . . . . . . .	Number	 00000001h   
FILE_SHARE_DELETE  . . . . . . .	Number	 00000004h   
FILE_SHARE_READ  . . . . . . . .	Number	 00000001h   
FILE_SHARE_WRITE . . . . . . . .	Number	 00000002h   
FILE_WRITE_DATA  . . . . . . . .	Number	 00000002h   
FOCUS_EVENT  . . . . . . . . . .	Number	 00000010h   
FORMAT_MESSAGE_ALLOCATE_BUFFER .	Number	 00000100h   
FORMAT_MESSAGE_FROM_SYSTEM . . .	Number	 00001000h   
FRUIT_POINTS . . . . . . . . . .	Number	 00000005h   
FRUIT_SPAWN_TIME . . . . . . . .	Number	 00001770h   
FormatMessage  . . . . . . . . .	Text   	 FormatMessageA
GAME_WIDTH . . . . . . . . . . .	Number	 00000050h   
GENERIC_ALL  . . . . . . . . . .	Number	 10000000h   
GENERIC_EXECUTE  . . . . . . . .	Number	 20000000h   
GENERIC_READ . . . . . . . . . .	Number	 -80000000h   
GENERIC_WRITE  . . . . . . . . .	Number	 40000000h   
GetCommandLine . . . . . . . . .	Text   	 GetCommandLineA
HANDLE . . . . . . . . . . . . .	Text   	 DWORD
HEAP_GENERATE_EXCEPTIONS . . . .	Number	 00000004h   
HEAP_GROWABLE  . . . . . . . . .	Number	 00000002h   
HEAP_NO_SERIALIZE  . . . . . . .	Number	 00000001h   
HEAP_REALLOC_IN_PLACE_ONLY . . .	Number	 00000010h   
HEAP_ZERO_MEMORY . . . . . . . .	Number	 00000008h   
IDABORT  . . . . . . . . . . . .	Number	 00000003h   
IDCANCEL . . . . . . . . . . . .	Number	 00000002h   
IDCLOSE  . . . . . . . . . . . .	Number	 00000008h   
IDCONTINUE . . . . . . . . . . .	Number	 0000000Bh   
IDHELP . . . . . . . . . . . . .	Number	 00000009h   
IDIGNORE . . . . . . . . . . . .	Number	 00000005h   
IDNO . . . . . . . . . . . . . .	Number	 00000007h   
IDOK . . . . . . . . . . . . . .	Number	 00000001h   
IDRETRY  . . . . . . . . . . . .	Number	 00000004h   
IDTIMEOUT  . . . . . . . . . . .	Number	 00007D00h   
IDTRYAGAIN . . . . . . . . . . .	Number	 0000000Ah   
IDYES  . . . . . . . . . . . . .	Number	 00000006h   
INFO_START . . . . . . . . . . .	Number	 0000005Ah   
INVALID_HANDLE_VALUE . . . . . .	Number	 -00000001h   
KBDOWN_FLAG  . . . . . . . . . .	Number	 00000001h   
KEY_EVENT  . . . . . . . . . . .	Number	 00000001h   
KEY_MASKS  . . . . . . . . . . .	Number	 0000001Fh   
LEFT_ALT_PRESSED . . . . . . . .	Number	 00000002h   
LEFT_CTRL_PRESSED  . . . . . . .	Number	 00000008h   
MAX_NAME_LEN . . . . . . . . . .	Number	 00000010h   
MAX_SCORES . . . . . . . . . . .	Number	 0000000Ah   
MB_ABORTRETRYIGNORE  . . . . . .	Number	 00000002h   
MB_APPLMODAL . . . . . . . . . .	Number	 00000000h   
MB_CANCELTRYCONTINUE . . . . . .	Number	 00000006h   
MB_DEFBUTTON1  . . . . . . . . .	Number	 00000000h   
MB_DEFBUTTON2  . . . . . . . . .	Number	 00000100h   
MB_DEFBUTTON3  . . . . . . . . .	Number	 00000200h   
MB_DEFBUTTON4  . . . . . . . . .	Number	 00000300h   
MB_HELP  . . . . . . . . . . . .	Number	 00004000h   
MB_ICONASTERISK  . . . . . . . .	Number	 00000040h   
MB_ICONERROR . . . . . . . . . .	Number	 00000010h   
MB_ICONEXCLAMATION . . . . . . .	Number	 00000030h   
MB_ICONHAND  . . . . . . . . . .	Number	 00000010h   
MB_ICONINFORMATION . . . . . . .	Number	 00000040h   
MB_ICONQUESTION  . . . . . . . .	Number	 00000020h   
MB_ICONSTOP  . . . . . . . . . .	Number	 00000010h   
MB_ICONWARNING . . . . . . . . .	Number	 00000030h   
MB_OKCANCEL  . . . . . . . . . .	Number	 00000001h   
MB_OK  . . . . . . . . . . . . .	Number	 00000000h   
MB_RETRYCANCEL . . . . . . . . .	Number	 00000005h   
MB_SYSTEMMODAL . . . . . . . . .	Number	 00001000h   
MB_TASKMODAL . . . . . . . . . .	Number	 00002000h   
MB_USERICON  . . . . . . . . . .	Number	 00000080h   
MB_YESNOCANCEL . . . . . . . . .	Number	 00000003h   
MB_YESNO . . . . . . . . . . . .	Number	 00000004h   
MENU_EVENT . . . . . . . . . . .	Number	 00000008h   
MOUSE_EVENT  . . . . . . . . . .	Number	 00000002h   
MessageBox . . . . . . . . . . .	Text   	 MessageBoxA
NULL . . . . . . . . . . . . . .	Number	 00000000h   
NUMLOCK_ON . . . . . . . . . . .	Number	 00000020h   
OPEN_ALWAYS  . . . . . . . . . .	Number	 00000004h   
OPEN_EXISTING  . . . . . . . . .	Number	 00000003h   
PacmanIntro  . . . . . . . . . .	Byte	 00000028 _DATA	
PeekConsoleInput . . . . . . . .	Text   	 PeekConsoleInputA
RIGHT_ALT_PRESSED  . . . . . . .	Number	 00000001h   
RIGHT_CTRL_PRESSED . . . . . . .	Number	 00000004h   
ReadConsoleInput . . . . . . . .	Text   	 ReadConsoleInputA
ReadConsole  . . . . . . . . . .	Text   	 ReadConsoleA
SCROLLLOCK_ON  . . . . . . . . .	Number	 00000040h   
SHIFT_MASK . . . . . . . . . . .	Number	 00000010h   
SHIFT_PRESSED  . . . . . . . . .	Number	 00000010h   
SND_ASYNC  . . . . . . . . . . .	Number	 00000001h   
SND_FILENAME . . . . . . . . . .	Number	 00020000h   
SND_SYNC . . . . . . . . . . . .	Number	 00000000h   
STD_ERROR_HANDLE . . . . . . . .	Number	 -0000000Ch   
STD_INPUT_HANDLE . . . . . . . .	Number	 -0000000Ah   
STD_OUTPUT_HANDLE  . . . . . . .	Number	 -0000000Bh   
SetConsoleTitle  . . . . . . . .	Text   	 SetConsoleTitleA
SoundError . . . . . . . . . . .	Byte	 0000005C _DATA	
TAB  . . . . . . . . . . . . . .	Number	 00000009h   
TRUE . . . . . . . . . . . . . .	Number	 00000001h   
TRUNCATE_EXISTING  . . . . . . .	Number	 00000005h   
VK_11  . . . . . . . . . . . . .	Number	 000000BDh   
VK_12  . . . . . . . . . . . . .	Number	 000000BBh   
VK_ADD . . . . . . . . . . . . .	Number	 0000006Bh   
VK_BACK  . . . . . . . . . . . .	Number	 00000008h   
VK_CANCEL  . . . . . . . . . . .	Number	 00000003h   
VK_CAPITAL . . . . . . . . . . .	Number	 00000014h   
VK_CLEAR . . . . . . . . . . . .	Number	 0000000Ch   
VK_CONTROL . . . . . . . . . . .	Number	 00000011h   
VK_DECIMAL . . . . . . . . . . .	Number	 0000006Eh   
VK_DELETE  . . . . . . . . . . .	Number	 0000002Eh   
VK_DIVIDE  . . . . . . . . . . .	Number	 0000006Fh   
VK_DOWN  . . . . . . . . . . . .	Number	 00000028h   
VK_END . . . . . . . . . . . . .	Number	 00000023h   
VK_ESCAPE  . . . . . . . . . . .	Number	 0000001Bh   
VK_EXECUTE . . . . . . . . . . .	Number	 0000002Bh   
VK_F10 . . . . . . . . . . . . .	Number	 00000079h   
VK_F11 . . . . . . . . . . . . .	Number	 0000007Ah   
VK_F12 . . . . . . . . . . . . .	Number	 0000007Bh   
VK_F13 . . . . . . . . . . . . .	Number	 0000007Ch   
VK_F14 . . . . . . . . . . . . .	Number	 0000007Dh   
VK_F15 . . . . . . . . . . . . .	Number	 0000007Eh   
VK_F16 . . . . . . . . . . . . .	Number	 0000007Fh   
VK_F17 . . . . . . . . . . . . .	Number	 00000080h   
VK_F18 . . . . . . . . . . . . .	Number	 00000081h   
VK_F19 . . . . . . . . . . . . .	Number	 00000082h   
VK_F1  . . . . . . . . . . . . .	Number	 00000070h   
VK_F20 . . . . . . . . . . . . .	Number	 00000083h   
VK_F21 . . . . . . . . . . . . .	Number	 00000084h   
VK_F22 . . . . . . . . . . . . .	Number	 00000085h   
VK_F23 . . . . . . . . . . . . .	Number	 00000086h   
VK_F24 . . . . . . . . . . . . .	Number	 00000087h   
VK_F2  . . . . . . . . . . . . .	Number	 00000071h   
VK_F3  . . . . . . . . . . . . .	Number	 00000072h   
VK_F4  . . . . . . . . . . . . .	Number	 00000073h   
VK_F5  . . . . . . . . . . . . .	Number	 00000074h   
VK_F6  . . . . . . . . . . . . .	Number	 00000075h   
VK_F7  . . . . . . . . . . . . .	Number	 00000076h   
VK_F8  . . . . . . . . . . . . .	Number	 00000077h   
VK_F9  . . . . . . . . . . . . .	Number	 00000078h   
VK_HELP  . . . . . . . . . . . .	Number	 0000002Fh   
VK_HOME  . . . . . . . . . . . .	Number	 00000024h   
VK_INSERT  . . . . . . . . . . .	Number	 0000002Dh   
VK_LBUTTON . . . . . . . . . . .	Number	 00000001h   
VK_LCONTROL  . . . . . . . . . .	Number	 000000A2h   
VK_LEFT  . . . . . . . . . . . .	Number	 00000025h   
VK_LMENU . . . . . . . . . . . .	Number	 000000A4h   
VK_LSHIFT  . . . . . . . . . . .	Number	 000000A0h   
VK_MENU  . . . . . . . . . . . .	Number	 00000012h   
VK_MULTIPLY  . . . . . . . . . .	Number	 0000006Ah   
VK_NEXT  . . . . . . . . . . . .	Number	 00000022h   
VK_NUMLOCK . . . . . . . . . . .	Number	 00000090h   
VK_NUMPAD0 . . . . . . . . . . .	Number	 00000060h   
VK_NUMPAD1 . . . . . . . . . . .	Number	 00000061h   
VK_NUMPAD2 . . . . . . . . . . .	Number	 00000062h   
VK_NUMPAD3 . . . . . . . . . . .	Number	 00000063h   
VK_NUMPAD4 . . . . . . . . . . .	Number	 00000064h   
VK_NUMPAD5 . . . . . . . . . . .	Number	 00000065h   
VK_NUMPAD6 . . . . . . . . . . .	Number	 00000066h   
VK_NUMPAD7 . . . . . . . . . . .	Number	 00000067h   
VK_NUMPAD8 . . . . . . . . . . .	Number	 00000068h   
VK_NUMPAD9 . . . . . . . . . . .	Number	 00000069h   
VK_PAUSE . . . . . . . . . . . .	Number	 00000013h   
VK_PRINT . . . . . . . . . . . .	Number	 0000002Ah   
VK_PRIOR . . . . . . . . . . . .	Number	 00000021h   
VK_RBUTTON . . . . . . . . . . .	Number	 00000002h   
VK_RCONTROL  . . . . . . . . . .	Number	 000000A3h   
VK_RETURN  . . . . . . . . . . .	Number	 0000000Dh   
VK_RIGHT . . . . . . . . . . . .	Number	 00000027h   
VK_RMENU . . . . . . . . . . . .	Number	 000000A5h   
VK_RSHIFT  . . . . . . . . . . .	Number	 000000A1h   
VK_SCROLL  . . . . . . . . . . .	Number	 00000091h   
VK_SEPARATER . . . . . . . . . .	Number	 0000006Ch   
VK_SHIFT . . . . . . . . . . . .	Number	 00000010h   
VK_SNAPSHOT  . . . . . . . . . .	Number	 0000002Ch   
VK_SPACE . . . . . . . . . . . .	Number	 00000020h   
VK_SUBTRACT  . . . . . . . . . .	Number	 0000006Dh   
VK_TAB . . . . . . . . . . . . .	Number	 00000009h   
VK_UP  . . . . . . . . . . . . .	Number	 00000026h   
WINDOW_BUFFER_SIZE_EVENT . . . .	Number	 00000004h   
WriteConsoleOutputCharacter  . .	Text   	 WriteConsoleOutputCharacterA
WriteConsole . . . . . . . . . .	Text   	 WriteConsoleA
arr_name . . . . . . . . . . . .	Byte	 00001905 _DATA	
arr_score  . . . . . . . . . . .	Byte	 000018FB _DATA	
blackTxt . . . . . . . . . . . .	Number	 00000000h   
black  . . . . . . . . . . . . .	Number	 00000000h   
blueTxt  . . . . . . . . . . . .	Number	 00000001h   
blue . . . . . . . . . . . . . .	Number	 00000001h   
brown  . . . . . . . . . . . . .	Number	 00000006h   
bytesRead  . . . . . . . . . . .	DWord	 0000101C _DATA	
comma  . . . . . . . . . . . . .	Byte	 00001820 _DATA	
currentLevel . . . . . . . . . .	Byte	 00000F6C _DATA	
cyan . . . . . . . . . . . . . .	Number	 00000003h   
emptyChar  . . . . . . . . . . .	Byte	 00000F8F _DATA	
exit . . . . . . . . . . . . . .	Text   	 INVOKE ExitProcess,0
fileBuffer . . . . . . . . . . .	Byte	 00001020 _DATA	
fileHandle . . . . . . . . . . .	DWord	 00001018 _DATA	
filename . . . . . . . . . . . .	Byte	 0000100D _DATA	
fruit1X  . . . . . . . . . . . .	Byte	 0000197D _DATA	
fruit1Y  . . . . . . . . . . . .	Byte	 0000197E _DATA	
fruit2X  . . . . . . . . . . . .	Byte	 0000197F _DATA	
fruit2Y  . . . . . . . . . . . .	Byte	 00001980 _DATA	
fruitActive  . . . . . . . . . .	Byte	 00001981 _DATA	
fruitChar  . . . . . . . . . . .	Byte	 0000197B _DATA	
fruitTimer . . . . . . . . . . .	DWord	 00001983 _DATA	
gameOverMsg1 . . . . . . . . . .	Byte	 00000D86 _DATA	
gameOverMsg2 . . . . . . . . . .	Byte	 00000DBA _DATA	
gameOverMsg3 . . . . . . . . . .	Byte	 00000DED _DATA	
gameOverMsg4 . . . . . . . . . .	Byte	 00000E21 _DATA	
gameOverMsg5 . . . . . . . . . .	Byte	 00000E55 _DATA	
gamePause1 . . . . . . . . . . .	Byte	 00000D38 _DATA	
gamePause2 . . . . . . . . . . .	Byte	 00000D4A _DATA	
gamePause3 . . . . . . . . . . .	Byte	 00000D5F _DATA	
gamePause4 . . . . . . . . . . .	Byte	 00000D73 _DATA	
gamePaused . . . . . . . . . . .	Byte	 0000100B _DATA	
ghost2Color  . . . . . . . . . .	Number	 00000005h   
ghost2Dir  . . . . . . . . . . .	Byte	 0000197A _DATA	
ghost2X  . . . . . . . . . . . .	Byte	 00001976 _DATA	
ghost2Y  . . . . . . . . . . . .	Byte	 00001977 _DATA	
ghostChar  . . . . . . . . . . .	Byte	 00000F94 _DATA	
ghostDir . . . . . . . . . . . .	Byte	 00000FD1 _DATA	
ghostX . . . . . . . . . . . . .	Byte	 00000FC1 _DATA	
ghostY . . . . . . . . . . . . .	Byte	 00000FC2 _DATA	
gray . . . . . . . . . . . . . .	Number	 00000008h   
greenTxt . . . . . . . . . . . .	Number	 00000002h   
green  . . . . . . . . . . . . .	Number	 00000002h   
hsHeader1  . . . . . . . . . . .	Byte	 0000191F _DATA	
hsHeader2  . . . . . . . . . . .	Byte	 00001942 _DATA	
hsTitle0 . . . . . . . . . . . .	Byte	 00000C02 _DATA	
hsTitle1 . . . . . . . . . . . .	Byte	 00000C40 _DATA	
hsTitle2 . . . . . . . . . . . .	Byte	 00000C7E _DATA	
hsTitle3 . . . . . . . . . . . .	Byte	 00000CBC _DATA	
hsTitle4 . . . . . . . . . . . .	Byte	 00000CFA _DATA	
inputName  . . . . . . . . . . .	Byte	 00000088 _DATA	
instruc1 . . . . . . . . . . . .	Byte	 0000099F _DATA	
instruc2 . . . . . . . . . . . .	Byte	 000009E3 _DATA	
instruc3 . . . . . . . . . . . .	Byte	 00000A2B _DATA	
instruc4 . . . . . . . . . . . .	Byte	 00000A73 _DATA	
instruc5 . . . . . . . . . . . .	Byte	 00000A97 _DATA	
instruc6 . . . . . . . . . . . .	Byte	 00000ABB _DATA	
instruc7 . . . . . . . . . . . .	Byte	 00000AFF _DATA	
instruc8 . . . . . . . . . . . .	Byte	 00000B3E _DATA	
instruc9 . . . . . . . . . . . .	Byte	 00000B87 _DATA	
instrucChoose  . . . . . . . . .	Byte	 00000BD0 _DATA	
level1opt0 . . . . . . . . . . .	Byte	 00000670 _DATA	
level1opt1 . . . . . . . . . . .	Byte	 0000069F _DATA	
level1opt2 . . . . . . . . . . .	Byte	 000006CE _DATA	
level1opt3 . . . . . . . . . . .	Byte	 000006FD _DATA	
level1opt4 . . . . . . . . . . .	Byte	 0000072C _DATA	
level2opt0 . . . . . . . . . . .	Byte	 0000075B _DATA	
level2opt1 . . . . . . . . . . .	Byte	 0000078A _DATA	
level2opt2 . . . . . . . . . . .	Byte	 000007B9 _DATA	
level2opt3 . . . . . . . . . . .	Byte	 000007E8 _DATA	
level2opt4 . . . . . . . . . . .	Byte	 00000817 _DATA	
level3opt0 . . . . . . . . . . .	Byte	 00000846 _DATA	
level3opt1 . . . . . . . . . . .	Byte	 00000875 _DATA	
level3opt2 . . . . . . . . . . .	Byte	 000008A4 _DATA	
level3opt3 . . . . . . . . . . .	Byte	 000008D3 _DATA	
level3opt4 . . . . . . . . . . .	Byte	 00000902 _DATA	
levelCompleteMsg1  . . . . . . .	Byte	 00000EB6 _DATA	
levelCompleteMsg2  . . . . . . .	Byte	 00000ED4 _DATA	
levelCompleteMsg3  . . . . . . .	Byte	 00000EF2 _DATA	
levelCompleteMsg4  . . . . . . .	Byte	 00000F10 _DATA	
levelCompleteMsg5  . . . . . . .	Byte	 00000F2E _DATA	
levelCompleteMsg6  . . . . . . .	Byte	 00000F4C _DATA	
levelMsg . . . . . . . . . . . .	Byte	 00000F86 _DATA	
leveloptchoose1  . . . . . . . .	Byte	 00000931 _DATA	
leveloptchoose2  . . . . . . . .	Byte	 0000096A _DATA	
levels . . . . . . . . . . . . .	Byte	 000018ED _DATA	
level  . . . . . . . . . . . . .	DWord	 00000FCB _DATA	
lightBlue  . . . . . . . . . . .	Number	 00000009h   
lightCyan  . . . . . . . . . . .	Number	 0000000Bh   
lightGray  . . . . . . . . . . .	Number	 00000007h   
lightGreen . . . . . . . . . . .	Number	 0000000Ah   
lightMagenta . . . . . . . . . .	Number	 0000000Dh   
lightRed . . . . . . . . . . . .	Number	 0000000Ch   
livesMsg . . . . . . . . . . . .	Byte	 00000F7E _DATA	
lives  . . . . . . . . . . . . .	DWord	 00000FC7 _DATA	
magenta  . . . . . . . . . . . .	Number	 00000005h   
menuopt0 . . . . . . . . . . . .	Byte	 0000058F _DATA	
menuopt1 . . . . . . . . . . . .	Byte	 000005B1 _DATA	
menuopt2 . . . . . . . . . . . .	Byte	 000005D3 _DATA	
menuopt3 . . . . . . . . . . . .	Byte	 000005F5 _DATA	
menuopt4 . . . . . . . . . . . .	Byte	 00000617 _DATA	
menuopt5 . . . . . . . . . . . .	Byte	 00000639 _DATA	
menuoptchoose  . . . . . . . . .	Byte	 0000065B _DATA	
menutitle0 . . . . . . . . . . .	Byte	 00000477 _DATA	
menutitle1 . . . . . . . . . . .	Byte	 000004A6 _DATA	
menutitle2 . . . . . . . . . . .	Byte	 000004D5 _DATA	
menutitle3 . . . . . . . . . . .	Byte	 00000503 _DATA	
menutitle4 . . . . . . . . . . .	Byte	 00000532 _DATA	
menutitle5 . . . . . . . . . . .	Byte	 00000560 _DATA	
midSound . . . . . . . . . . . .	Byte	 00000000 _DATA	
name_size  . . . . . . . . . . .	Byte	 00001916 _DATA	
names  . . . . . . . . . . . . .	Byte	 0000184D _DATA	
newline  . . . . . . . . . . . .	Byte	 00001822 _DATA	
noScoresMsg  . . . . . . . . . .	Byte	 00001962 _DATA	
oldGhost2X . . . . . . . . . . .	Byte	 00001978 _DATA	
oldGhost2Y . . . . . . . . . . .	Byte	 00001979 _DATA	
oldGhostX  . . . . . . . . . . .	Byte	 00000FD2 _DATA	
oldGhostY  . . . . . . . . . . .	Byte	 00000FD3 _DATA	
oldPacmanX . . . . . . . . . . .	Byte	 00000FCF _DATA	
oldPacmanY . . . . . . . . . . .	Byte	 00000FD0 _DATA	
pacmanChar . . . . . . . . . . .	Byte	 00000F92 _DATA	
pacmanX  . . . . . . . . . . . .	Byte	 00000FBF _DATA	
pacmanY  . . . . . . . . . . . .	Byte	 00000FC0 _DATA	
pauseMsg . . . . . . . . . . . .	Byte	 00000FD4 _DATA	
pausedMsg  . . . . . . . . . . .	Byte	 00000FEA _DATA	
pelletChar . . . . . . . . . . .	Byte	 00000F90 _DATA	
pelletCount  . . . . . . . . . .	Byte	 00000F96 _DATA	
pelletPositions  . . . . . . . .	Byte	 00000F97 _DATA	
playerName . . . . . . . . . . .	Byte	 00000F6D _DATA	
pmtitle10  . . . . . . . . . . .	Byte	 000003D3 _DATA	
pmtitle11  . . . . . . . . . . .	Byte	 00000425 _DATA	
pmtitle1 . . . . . . . . . . . .	Byte	 000000F1 _DATA	
pmtitle2 . . . . . . . . . . . .	Byte	 00000143 _DATA	
pmtitle3 . . . . . . . . . . . .	Byte	 00000195 _DATA	
pmtitle4 . . . . . . . . . . . .	Byte	 000001E7 _DATA	
pmtitle5 . . . . . . . . . . . .	Byte	 00000239 _DATA	
pmtitle6 . . . . . . . . . . . .	Byte	 0000028B _DATA	
pmtitle7 . . . . . . . . . . . .	Byte	 000002DD _DATA	
pmtitle8 . . . . . . . . . . . .	Byte	 0000032F _DATA	
pmtitle9 . . . . . . . . . . . .	Byte	 00000381 _DATA	
prevPauseState . . . . . . . . .	Byte	 0000100C _DATA	
purpleTxt  . . . . . . . . . . .	Number	 00000005h   
redTxt . . . . . . . . . . . . .	Number	 00000004h   
red  . . . . . . . . . . . . . .	Number	 00000004h   
returnMsg  . . . . . . . . . . .	Byte	 000000CF _DATA	
returnOption . . . . . . . . . .	Byte	 00000E9C _DATA	
score1 . . . . . . . . . . . . .	DWord	 00001917 _DATA	
scoreCount . . . . . . . . . . .	DWord	 000018F7 _DATA	
scoreDisplay . . . . . . . . . .	Byte	 00000E89 _DATA	
scoreMsg . . . . . . . . . . . .	Byte	 00000F76 _DATA	
score_size . . . . . . . . . . .	Byte	 00001915 _DATA	
scores . . . . . . . . . . . . .	DWord	 00001825 _DATA	
score  . . . . . . . . . . . . .	DWord	 00000FC3 _DATA	
tempBuffer . . . . . . . . . . .	Byte	 00001420 _DATA	
temp . . . . . . . . . . . . . .	Byte	 00000F6B _DATA	
userChoice . . . . . . . . . . .	Byte	 00000F6A _DATA	
userCount  . . . . . . . . . . .	DWord	 0000191B _DATA	
username . . . . . . . . . . . .	Byte	 0000009D _DATA	
wallChar . . . . . . . . . . . .	Byte	 00000F8E _DATA	
whiteTxt . . . . . . . . . . . .	Number	 0000000Fh   
white  . . . . . . . . . . . . .	Number	 0000000Fh   
wsprintf . . . . . . . . . . . .	Text   	 wsprintfA
yellowTxt  . . . . . . . . . . .	Number	 0000000Eh   
yellow . . . . . . . . . . . . .	Number	 0000000Eh   

	   0 Warnings
	   0 Errors
