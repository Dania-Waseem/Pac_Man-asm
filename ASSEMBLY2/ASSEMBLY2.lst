Microsoft (R) Macro Assembler Version 14.42.34436.0	    05/12/25 08:47:46
CODE.asm						     Page 1 - 1


				; 23i-2622
				; DS A
				; COAL SEMESTER PROJECT 



				include irvine32.inc
			      C ; Include file for Irvine32.lib             (Irvine32.inc)
			      C 
			      C ;OPTION CASEMAP:NONE		; optional: make identifiers case-sensitive
			      C 
			      C INCLUDE SmallWin.inc		; MS-Windows prototypes, structures, and constants
			      C .NOLIST
			      C .LIST
			      C 
			      C INCLUDE VirtualKeys.inc
			      C ; VirtualKeys.inc
			      C .NOLIST
			      C .LIST
			      C 
			      C 
			      C .NOLIST
			      C .LIST
			      C 
				includelib winmm.lib  ; Windows multimedia library

				; the below are variables for sound (took help from internet to load sounds)

 = 00020000			SND_FILENAME      EQU 00020000h
 = 00000001			SND_ASYNC         EQU 00000001h
 = 00000000			SND_SYNC          EQU 00000000h
 = 00000000			NULL              EQU 0


				PlaySound PROTO STDCALL, 
				    pszSound:DWORD, 
				    hmod:DWORD, 
				    fdwSound:DWORD

 = 00000050			GAME_WIDTH = 80 
 = 0000005A			INFO_START = 90

 00000000			.data

 00000000 43 3A 5C 55 73	    midSound db "C:\Users\DELL\OneDrive\Desktop\game.wav",0
	   65 72 73 5C 44
	   45 4C 4C 5C 4F
	   6E 65 44 72 69
	   76 65 5C 44 65
	   73 6B 74 6F 70
	   5C 67 61 6D 65
	   2E 77 61 76 00
 00000028 43 3A 5C 55 73	    PacmanIntro db "C:\Users\DELL\OneDrive\Desktop\pacman_beginning.wav",0
	   65 72 73 5C 44
	   45 4C 4C 5C 4F
	   6E 65 44 72 69
	   76 65 5C 44 65
	   73 6B 74 6F 70
	   5C 70 61 63 6D
	   61 6E 5F 62 65
	   67 69 6E 6E 69
	   6E 67 2E 77 61
	   76 00

 0000005C 53 6F 75 6E 64	    SoundError db "Sound file not found or couldn't be played!",0
	   20 66 69 6C 65
	   20 6E 6F 74 20
	   66 6F 75 6E 64
	   20 6F 72 20 63
	   6F 75 6C 64 6E
	   27 74 20 62 65
	   20 70 6C 61 79
	   65 64 21 00
				    
 00000088 45 6E 74 65 72		inputName db "Enter your name ... ",0
	   20 79 6F 75 72
	   20 6E 61 6D 65
	   20 2E 2E 2E 20
	   00
 0000009D  00000032 [		    username  db 50 dup(0)
	    00
	   ]

 000000CF 50 72 65 73 73	    returnMsg db 'Press 1 to return to main menu...', 0
	   20 31 20 74 6F
	   20 72 65 74 75
	   72 6E 20 74 6F
	   20 6D 61 69 6E
	   20 6D 65 6E 75
	   2E 2E 2E 00



 000000F1 23 23 23 23 23	    pmtitle1 db "#################################################################################",0
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 00
 00000143 23 20 20 20 20	    pmtitle2 db "#                                                                               #",0
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   23 00
 00000195 23 20 20 20 20	    pmtitle3 db "#      %%%%%%%%  %%%%%%%  %%%%%%%%     %%%%%   %%%%%  %%%%%%%%   %%      %      #",0
	   20 20 25 25 25
	   25 25 25 25 25
	   20 20 25 25 25
	   25 25 25 25 20
	   20 25 25 25 25
	   25 25 25 25 20
	   20 20 20 20 25
	   25 25 25 25 20
	   20 20 25 25 25
	   25 25 20 20 25
	   25 25 25 25 25
	   25 25 20 20 20
	   25 25 20 20 20
	   20 20 20 25 20
	   20 20 20 20 20
	   23 00
 000001E7 23 20 20 20 20		pmtitle4 db "#      %%     %  %     %  %            %   %   %   %  %      %   % %     %      #",0
	   20 20 25 25 20
	   20 20 20 20 25
	   20 20 25 20 20
	   20 20 20 25 20
	   20 25 20 20 20
	   20 20 20 20 20
	   20 20 20 20 25
	   20 20 20 25 20
	   20 20 25 20 20
	   20 25 20 20 25
	   20 20 20 20 20
	   20 25 20 20 20
	   25 20 25 20 20
	   20 20 20 25 20
	   20 20 20 20 20
	   23 00
 00000239 23 20 20 20 20		pmtitle5 db "#      %%     %  %     %  %            %   %   %   %  %      %   %  %    %      #",0
	   20 20 25 25 20
	   20 20 20 20 25
	   20 20 25 20 20
	   20 20 20 25 20
	   20 25 20 20 20
	   20 20 20 20 20
	   20 20 20 20 25
	   20 20 20 25 20
	   20 20 25 20 20
	   20 25 20 20 25
	   20 20 20 20 20
	   20 25 20 20 20
	   25 20 20 25 20
	   20 20 20 25 20
	   20 20 20 20 20
	   23 00
 0000028B 23 20 20 20 20		pmtitle6 db "#      %%%%%%%%  %%%%%%%  %       %%%  %   %%%%%   %  %%%%%%%%   %   %   %      #",0
	   20 20 25 25 25
	   25 25 25 25 25
	   20 20 25 25 25
	   25 25 25 25 20
	   20 25 20 20 20
	   20 20 20 20 25
	   25 25 20 20 25
	   20 20 20 25 25
	   25 25 25 20 20
	   20 25 20 20 25
	   25 25 25 25 25
	   25 25 20 20 20
	   25 20 20 20 25
	   20 20 20 25 20
	   20 20 20 20 20
	   23 00
 000002DD 23 20 20 20 20		pmtitle7 db "#      %%        %     %  %            %           %  %      %   %    %  %      #",0
	   20 20 25 25 20
	   20 20 20 20 20
	   20 20 25 20 20
	   20 20 20 25 20
	   20 25 20 20 20
	   20 20 20 20 20
	   20 20 20 20 25
	   20 20 20 20 20
	   20 20 20 20 20
	   20 25 20 20 25
	   20 20 20 20 20
	   20 25 20 20 20
	   25 20 20 20 20
	   25 20 20 25 20
	   20 20 20 20 20
	   23 00
 0000032F 23 20 20 20 20		pmtitle8 db "#      %%        %     %  %            %           %  %      %   %     % %      #",0
	   20 20 25 25 20
	   20 20 20 20 20
	   20 20 25 20 20
	   20 20 20 25 20
	   20 25 20 20 20
	   20 20 20 20 20
	   20 20 20 20 25
	   20 20 20 20 20
	   20 20 20 20 20
	   20 25 20 20 25
	   20 20 20 20 20
	   20 25 20 20 20
	   25 20 20 20 20
	   20 25 20 25 20
	   20 20 20 20 20
	   23 00
 00000381 23 20 20 20 20		pmtitle9 db "#      %%        %     %  %%%%%%%%     %           %  %      %   %      %%      #",0
	   20 20 25 25 20
	   20 20 20 20 20
	   20 20 25 20 20
	   20 20 20 25 20
	   20 25 25 25 25
	   25 25 25 25 20
	   20 20 20 20 25
	   20 20 20 20 20
	   20 20 20 20 20
	   20 25 20 20 25
	   20 20 20 20 20
	   20 25 20 20 20
	   25 20 20 20 20
	   20 20 25 25 20
	   20 20 20 20 20
	   23 00
 000003D3 23 20 20 20 20		pmtitle10 db"#                                                                               #",0
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   23 00
 00000425 23 23 23 23 23		pmtitle11 db"#################################################################################",0
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 23 23 23 23
	   23 00

 00000477 20 5F 5F 5F 20	    menutitle0 db " ___     ___ _________  ___     ___ ___   ___ ",0
	   20 20 20 20 5F
	   5F 5F 20 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 20 20 5F
	   5F 5F 20 20 20
	   20 20 5F 5F 5F
	   20 5F 5F 5F 20
	   20 20 5F 5F 5F
	   20 00
 000004A6 20 7C 20 20 5C	    menutitle1 db " |  \   /  | |  ______| |  \    | | | |   | | ",0
	   20 20 20 2F 20
	   20 7C 20 7C 20
	   20 5F 5F 5F 5F
	   5F 5F 7C 20 7C
	   20 20 5C 20 20
	   20 20 7C 20 7C
	   20 7C 20 7C 20
	   20 20 7C 20 7C
	   20 00
 000004D5 20 7C 20 7C 5C	    menutitle2 db " | |\\_//| | | |______  | |\\   | | | |   | |",0
	   5C 5F 2F 2F 7C
	   20 7C 20 7C 20
	   7C 5F 5F 5F 5F
	   5F 5F 20 20 7C
	   20 7C 5C 5C 20
	   20 20 7C 20 7C
	   20 7C 20 7C 20
	   20 20 7C 20 7C
	   00
 00000503 20 7C 20 7C 20	    menutitle3 db " | | \_/ | | | _______| | | \\  | | | |   | | ",0
	   5C 5F 2F 20 7C
	   20 7C 20 7C 20
	   5F 5F 5F 5F 5F
	   5F 5F 7C 20 7C
	   20 7C 20 5C 5C
	   20 20 7C 20 7C
	   20 7C 20 7C 20
	   20 20 7C 20 7C
	   20 00
 00000532 20 7C 20 7C 20	    menutitle4 db " | |     | | | |______  | |  \\ | | | |___| |",0
	   20 20 20 20 7C
	   20 7C 20 7C 20
	   7C 5F 5F 5F 5F
	   5F 5F 20 20 7C
	   20 7C 20 20 5C
	   5C 20 7C 20 7C
	   20 7C 20 7C 5F
	   5F 5F 7C 20 7C
	   00
 00000560 20 7C 5F 7C 20	    menutitle5 db " |_|     |_| |________| |_|   \\|_| |_______| ",0
	   20 20 20 20 7C
	   5F 7C 20 7C 5F
	   5F 5F 5F 5F 5F
	   5F 5F 7C 20 7C
	   5F 7C 20 20 20
	   5C 5C 7C 5F 7C
	   20 7C 5F 5F 5F
	   5F 5F 5F 5F 7C
	   20 00

 0000058F 2D 2D 2D 2D 2D	    menuopt0 db "---------------------------------",0
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 00
 000005B1 7C 20 20 31 2E	    menuopt1 db "|  1. Start Game ( 3 levels)    |",0
	   20 53 74 61 72
	   74 20 47 61 6D
	   65 20 28 20 33
	   20 6C 65 76 65
	   6C 73 29 20 20
	   20 20 7C 00
 000005D3 7C 20 20 32 2E	    menuopt2 db "|  2. Display Game Instructions |",0
	   20 44 69 73 70
	   6C 61 79 20 47
	   61 6D 65 20 49
	   6E 73 74 72 75
	   63 74 69 6F 6E
	   73 20 7C 00
 000005F5 7C 20 20 33 2E	    menuopt3 db "|  3. View Highscores /scores   |",0
	   20 56 69 65 77
	   20 48 69 67 68
	   73 63 6F 72 65
	   73 20 2F 73 63
	   6F 72 65 73 20
	   20 20 7C 00
 00000617 7C 20 20 34 2E	    menuopt4 db "|  4. Exit Game                 |",0
	   20 45 78 69 74
	   20 47 61 6D 65
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 7C 00
 00000639 7C 5F 5F 5F 5F	    menuopt5 db "|_______________________________|",0
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 7C 00

 0000065B 45 6E 74 65 72	    menuoptchoose db "Enter your choice:  ",0
	   20 79 6F 75 72
	   20 63 68 6F 69
	   63 65 3A 20 20
	   00

 00000670 2A 20 20 20 20	    level1opt0 db "*     ***** *       * *****  *          **    ",0
	   20 2A 2A 2A 2A
	   2A 20 2A 20 20
	   20 20 20 20 20
	   2A 20 2A 2A 2A
	   2A 2A 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   2A 2A 20 20 20
	   20 00
 0000069F 2A 20 20 20 20	    level1opt1 db "*     *      *     *  *      *          **    ",0
	   20 2A 20 20 20
	   20 20 20 2A 20
	   20 20 20 20 2A
	   20 20 2A 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   2A 2A 20 20 20
	   20 00
 000006CE 2A 20 20 20 20	    level1opt2 db "*     *****   *   *   *****  *          **    ",0
	   20 2A 2A 2A 2A
	   2A 20 20 20 2A
	   20 20 20 2A 20
	   20 20 2A 2A 2A
	   2A 2A 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   2A 2A 20 20 20
	   20 00
 000006FD 2A 20 20 20 20	    level1opt3 db "*     *        * *    *      *          **    ",0
	   20 2A 20 20 20
	   20 20 20 20 20
	   2A 20 2A 20 20
	   20 20 2A 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   2A 2A 20 20 20
	   20 00
 0000072C 2A 2A 2A 2A 2A	    level1opt4 db "***** *****     *     *****  *****      **    ",0
	   20 2A 2A 2A 2A
	   2A 20 20 20 20
	   20 2A 20 20 20
	   20 20 2A 2A 2A
	   2A 2A 20 20 2A
	   2A 2A 2A 2A 20
	   20 20 20 20 20
	   2A 2A 20 20 20
	   20 00

 0000075B 2A 20 20 20 20	    level2opt0 db "*     ***** *       * *****  *         *****  ",0
	   20 2A 2A 2A 2A
	   2A 20 2A 20 20
	   20 20 20 20 20
	   2A 20 2A 2A 2A
	   2A 2A 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 2A
	   2A 2A 2A 2A 20
	   20 00
 0000078A 2A 20 20 20 20	    level2opt1 db "*     *      *     *  *      *             *  ",0
	   20 2A 20 20 20
	   20 20 20 2A 20
	   20 20 20 20 2A
	   20 20 2A 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 2A 20
	   20 00
 000007B9 2A 20 20 20 20	    level2opt2 db "*     *****   *   *   *****  *         *****  ",0
	   20 2A 2A 2A 2A
	   2A 20 20 20 2A
	   20 20 20 2A 20
	   20 20 2A 2A 2A
	   2A 2A 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 2A
	   2A 2A 2A 2A 20
	   20 00
 000007E8 2A 20 20 20 20	    level2opt3 db "*     *        * *    *      *         *      ",0
	   20 2A 20 20 20
	   20 20 20 20 20
	   2A 20 2A 20 20
	   20 20 2A 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 00
 00000817 2A 2A 2A 2A 2A	    level2opt4 db "***** *****     *     *****  *****     *****  ",0
	   20 2A 2A 2A 2A
	   2A 20 20 20 20
	   20 2A 20 20 20
	   20 20 2A 2A 2A
	   2A 2A 20 20 2A
	   2A 2A 2A 2A 20
	   20 20 20 20 2A
	   2A 2A 2A 2A 20
	   20 00

 00000846 2A 20 20 20 20	    level3opt0 db "*     ***** *       * *****  *         *****  ",0
	   20 2A 2A 2A 2A
	   2A 20 2A 20 20
	   20 20 20 20 20
	   2A 20 2A 2A 2A
	   2A 2A 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 2A
	   2A 2A 2A 2A 20
	   20 00
 00000875 2A 20 20 20 20	    level3opt1 db "*     *      *     *  *      *             *  ",0
	   20 2A 20 20 20
	   20 20 20 2A 20
	   20 20 20 20 2A
	   20 20 2A 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 2A 20
	   20 00
 000008A4 2A 20 20 20 20	    level3opt2 db "*     *****   *   *   *****  *         *****  ",0
	   20 2A 2A 2A 2A
	   2A 20 20 20 2A
	   20 20 20 2A 20
	   20 20 2A 2A 2A
	   2A 2A 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 2A
	   2A 2A 2A 2A 20
	   20 00
 000008D3 2A 20 20 20 20	    level3opt3 db "*     *        * *    *      *             *  ",0
	   20 2A 20 20 20
	   20 20 20 20 20
	   2A 20 2A 20 20
	   20 20 2A 20 20
	   20 20 20 20 2A
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 2A 20
	   20 00
 00000902 2A 2A 2A 2A 2A	    level3opt4 db "***** *****     *     *****  *****     *****  ",0
	   20 2A 2A 2A 2A
	   2A 20 20 20 20
	   20 2A 20 20 20
	   20 20 2A 2A 2A
	   2A 2A 20 20 2A
	   2A 2A 2A 2A 20
	   20 20 20 20 2A
	   2A 2A 2A 2A 20
	   20 00

 00000931 20 45 6E 74 65	    leveloptchoose1 db " Enter you choice (1: Level 1, 2: Level 2 , 3: Level 3) ",0
	   72 20 79 6F 75
	   20 63 68 6F 69
	   63 65 20 28 31
	   3A 20 4C 65 76
	   65 6C 20 31 2C
	   20 32 3A 20 4C
	   65 76 65 6C 20
	   32 20 2C 20 33
	   3A 20 4C 65 76
	   65 6C 20 33 29
	   20 00
 0000096A 20 52 65 74 75	    leveloptchoose2 db " Return to Main Menu (press 4), Exit Game (press 5) ",0
	   72 6E 20 74 6F
	   20 4D 61 69 6E
	   20 4D 65 6E 75
	   20 28 70 72 65
	   73 73 20 34 29
	   2C 20 45 78 69
	   74 20 47 61 6D
	   65 20 28 70 72
	   65 73 73 20 35
	   29 20 00


 0000099F 20 20 20 20 20	    instruc1 db "                          INSTRUCTIONS                             ",0
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 49 4E 53 54
	   52 55 43 54 49
	   4F 4E 53 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 00
 000009E3 5F 5F 5F 5F 5F	    instruc2 db "_______________________________________________________________________",0
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 00
 00000A2B 2D 2D 2D 2D 2D	    instruc3 db "-----------------------------------------------------------------------",0
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 00
 00000A73 20 31 2E 20 54	    instruc4 db " 1. To earn points eat the pellets.",0
	   6F 20 65 61 72
	   6E 20 70 6F 69
	   6E 74 73 20 65
	   61 74 20 74 68
	   65 20 70 65 6C
	   6C 65 74 73 2E
	   00
 00000A97 20 32 2E 20 45	    instruc5 db " 2. Each pellet is worth one point.",0
	   61 63 68 20 70
	   65 6C 6C 65 74
	   20 69 73 20 77
	   6F 72 74 68 20
	   6F 6E 65 20 70
	   6F 69 6E 74 2E
	   00
 00000ABB 20 33 20 20 53	    instruc6 db " 3  Stay away from the ghosts, if one catches you, You lose a life.",0
	   74 61 79 20 61
	   77 61 79 20 66
	   72 6F 6D 20 74
	   68 65 20 67 68
	   6F 73 74 73 2C
	   20 69 66 20 6F
	   6E 65 20 63 61
	   74 63 68 65 73
	   20 79 6F 75 2C
	   20 59 6F 75 20
	   6C 6F 73 65 20
	   61 20 6C 69 66
	   65 2E 00
 00000AFF 20 34 2E 20 55	    instruc7 db " 4. Use W,A,S,D keys move up,down,left and right respectively.",0
	   73 65 20 57 2C
	   41 2C 53 2C 44
	   20 6B 65 79 73
	   20 6D 6F 76 65
	   20 75 70 2C 64
	   6F 77 6E 2C 6C
	   65 66 74 20 61
	   6E 64 20 72 69
	   67 68 74 20 72
	   65 73 70 65 63
	   74 69 76 65 6C
	   79 2E 00
 00000B3E 5F 5F 5F 5F 5F	    instruc8 db "________________________________________________________________________",0
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 5F 5F 5F
	   5F 5F 00
 00000B87 2D 2D 2D 2D 2D	    instruc9 db "------------------------------------------------------------------------",0
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 00

 00000BD0 50 72 65 73 73	    instrucChoose db "Press 1 to return to menu, Press 2 to Exit Game: ",0
	   20 31 20 74 6F
	   20 72 65 74 75
	   72 6E 20 74 6F
	   20 6D 65 6E 75
	   2C 20 50 72 65
	   73 73 20 32 20
	   74 6F 20 45 78
	   69 74 20 47 61
	   6D 65 3A 20 00

 00000C02 20 20 20 20 20	    hsTitle0 db "        ______        _____  _____ ______ _____ _____ _____  ",0
	   20 20 20 5F 5F
	   5F 5F 5F 5F 20
	   20 20 20 20 20
	   20 20 5F 5F 5F
	   5F 5F 20 20 5F
	   5F 5F 5F 5F 20
	   5F 5F 5F 5F 5F
	   5F 20 5F 5F 5F
	   5F 5F 20 5F 5F
	   5F 5F 5F 20 5F
	   5F 5F 5F 5F 20
	   20 00
 00000C40 7C 20 20 20 7C	    hsTitle1 db "|   | | |      |   |  |      |     |    | |   | |     |      ",0
	   20 7C 20 7C 20
	   20 20 20 20 20
	   7C 20 20 20 7C
	   20 20 7C 20 20
	   20 20 20 20 7C
	   20 20 20 20 20
	   7C 20 20 20 20
	   7C 20 7C 20 20
	   20 7C 20 7C 20
	   20 20 20 20 7C
	   20 20 20 20 20
	   20 00
 00000C7E 7C 5F 5F 5F 7C	    hsTitle2 db "|___| | |  ___ |___|  |____  |     |    | |___| |____ |____  ",0
	   20 7C 20 7C 20
	   20 5F 5F 5F 20
	   7C 5F 5F 5F 7C
	   20 20 7C 5F 5F
	   5F 5F 20 20 7C
	   20 20 20 20 20
	   7C 20 20 20 20
	   7C 20 7C 5F 5F
	   5F 7C 20 7C 5F
	   5F 5F 5F 20 7C
	   5F 5F 5F 5F 20
	   20 00
 00000CBC 7C 20 20 20 7C	    hsTitle3 db "|   | | |    | |   |       | |     |    | | \   |          | ",0
	   20 7C 20 7C 20
	   20 20 20 7C 20
	   7C 20 20 20 7C
	   20 20 20 20 20
	   20 20 7C 20 7C
	   20 20 20 20 20
	   7C 20 20 20 20
	   7C 20 7C 20 5C
	   20 20 20 7C 20
	   20 20 20 20 20
	   20 20 20 20 7C
	   20 00
 00000CFA 7C 20 20 20 7C	    hsTitle4 db "|   | | |____| |   |  _____| |____ |____| |  \  |____  ____| ",0
	   20 7C 20 7C 5F
	   5F 5F 5F 7C 20
	   7C 20 20 20 7C
	   20 20 5F 5F 5F
	   5F 5F 7C 20 7C
	   5F 5F 5F 5F 20
	   7C 5F 5F 5F 5F
	   7C 20 7C 20 20
	   5C 20 20 7C 5F
	   5F 5F 5F 20 20
	   5F 5F 5F 5F 7C
	   20 00

 00000D38 2E 2E 2E 47 41	    gamePause1 db "...GAME PAUSED...",0
	   4D 45 20 50 41
	   55 53 45 44 2E
	   2E 2E 00
 00000D4A 50 72 65 73 73	    gamePause2 db "Press 1: Resume Game",0
	   20 31 3A 20 52
	   65 73 75 6D 65
	   20 47 61 6D 65
	   00
 00000D5F 50 72 65 73 73	    gamePause3 db "Press 2: Go to Menu",0
	   20 32 3A 20 47
	   6F 20 74 6F 20
	   4D 65 6E 75 00
 00000D73 50 72 65 73 73	    gamePause4 db "Press 3: Exit Game",0
	   20 33 3A 20 45
	   78 69 74 20 47
	   61 6D 65 00


 00000D86 20 20 5F 5F 5F	    gameOverMsg1 db "  ____                         ___                 ",0
	   5F 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 5F 5F 5F 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 20 20 20
	   20 00
 00000DBA 20 2F 20 5F 5F	    gameOverMsg2 db " / ___| __ _ _ __ ___   ___   / _ \__   _____ _ __",0
	   5F 7C 20 5F 5F
	   20 5F 20 5F 20
	   5F 5F 20 5F 5F
	   5F 20 20 20 5F
	   5F 5F 20 20 20
	   2F 20 5F 20 5C
	   5F 5F 20 20 20
	   5F 5F 5F 5F 5F
	   20 5F 20 5F 5F
	   00
 00000DED 7C 20 7C 20 20	    gameOverMsg3 db "| |  _ / _` | '_ ` _ \ / _ \ | | | \ \ / / _ \ '__|",0
	   5F 20 2F 20 5F
	   60 20 7C 20 27
	   5F 20 60 20 5F
	   20 5C 20 2F 20
	   5F 20 5C 20 7C
	   20 7C 20 7C 20
	   5C 20 5C 20 2F
	   20 2F 20 5F 20
	   5C 20 27 5F 5F
	   7C 00
 00000E21 7C 20 7C 5F 7C	    gameOverMsg4 db "| |_| | (_| | | | | | |  __/ | |_| |\ V /  __/ |   ",0
	   20 7C 20 28 5F
	   7C 20 7C 20 7C
	   20 7C 20 7C 20
	   7C 20 7C 20 20
	   5F 5F 2F 20 7C
	   20 7C 5F 7C 20
	   7C 5C 20 56 20
	   2F 20 20 5F 5F
	   2F 20 7C 20 20
	   20 00
 00000E55 20 5C 5F 5F 5F	    gameOverMsg5 db " \____|\__,_|_| |_| |_|\___|  \___/  \_/ \___|_|   ",0
	   5F 7C 5C 5F 5F
	   2C 5F 7C 5F 7C
	   20 7C 5F 7C 20
	   7C 5F 7C 5C 5F
	   5F 5F 7C 20 20
	   5C 5F 5F 5F 2F
	   20 20 5C 5F 2F
	   20 5C 5F 5F 5F
	   7C 5F 7C 20 20
	   20 00
 00000E89 59 4F 55 52 20	    scoreDisplay db "YOUR FINAL SCORE: ",0
	   46 49 4E 41 4C
	   20 53 43 4F 52
	   45 3A 20 00
 00000E9C 50 52 45 53 53	    returnOption db "PRESS 1 TO RETURN TO MENU",0
	   20 31 20 54 4F
	   20 52 45 54 55
	   52 4E 20 54 4F
	   20 4D 45 4E 55
	   00


 00000EB6 20 2A 20 20 20	    levelCompleteMsg1 db " *       *   *****   *     * ",0
	   20 20 20 20 2A
	   20 20 20 2A 2A
	   2A 2A 2A 20 20
	   20 2A 20 20 20
	   20 20 2A 20 00
 00000ED4 20 2A 20 20 20	    levelCompleteMsg2 db " *       *   *   *   **    * ",0
	   20 20 20 20 2A
	   20 20 20 2A 20
	   20 20 2A 20 20
	   20 2A 2A 20 20
	   20 20 2A 20 00
 00000EF2 20 2A 20 20 20	    levelCompleteMsg3 db " *   *   *   *   *   * *   * ",0
	   2A 20 20 20 2A
	   20 20 20 2A 20
	   20 20 2A 20 20
	   20 2A 20 2A 20
	   20 20 2A 20 00
 00000F10 20 2A 20 20 2A	    levelCompleteMsg4 db " *  * *  *   *   *   *  *  * ",0
	   20 2A 20 20 2A
	   20 20 20 2A 20
	   20 20 2A 20 20
	   20 2A 20 20 2A
	   20 20 2A 20 00
 00000F2E 20 2A 20 2A 20	    levelCompleteMsg5 db " * *   * *   *   *   *   * * ",0
	   20 20 2A 20 2A
	   20 20 20 2A 20
	   20 20 2A 20 20
	   20 2A 20 20 20
	   2A 20 2A 20 00
 00000F4C 20 2A 20 20 20	    levelCompleteMsg6 db " *       *   *****   *    ** ",0
	   20 20 20 20 2A
	   20 20 20 2A 2A
	   2A 2A 2A 20 20
	   20 2A 20 20 20
	   20 2A 2A 20 00




				    ;yeh colors hain 
 = 00000004			    redTxt = red+(black*16);
 = 0000000E			    yellowTxt =yellow+(black*16);
 = 00000002			    greenTxt =green+ (black*16);
 = 00000001			    blueTxt =blue+ (black*16);
 = 0000000F			    whiteTxt =white+ (black *16);
 = 00000005			    purpleTxt = magenta + (black*16)
 = 00000000			    blackTxt= black +(black*16)



				; Add these procedures to your code section

 00000F6A 00			    userChoice db ?
 00000F6B 00			    temp db ?
 00000F6C 00			    currentLevel db ?

				;-----------------------------------------
				;level 1 vars for drawing
 00000F6D 50 6C 61 79 65	    playerName  BYTE "Player 1", 0
	   72 20 31 00
 00000F76 53 63 6F 72 65	    scoreMsg    BYTE "Score: ", 0
	   3A 20 00
 00000F7E 4C 69 76 65 73	    livesMsg    BYTE "Lives: ", 0
	   3A 20 00
 00000F86 4C 65 76 65 6C	    levelMsg    BYTE "Level: ", 0
	   3A 20 00


 00000F8E 23			wallChar    BYTE '#'
 00000F8F 20			emptyChar   BYTE ' '

				;---------------------------------------
				;other level 1 vars 

 00000F90 6F 00			pelletChar db 'o',0
 00000F92 58 00			pacmanChar db 'X',0
 00000F94 47 00			ghostChar db 'G',0
 00000F96 14			pelletCount db 20
 00000F97  00000014 [		pelletPositions db 20 dup(0,0) ; Array of x,y positions
	    00 00
	   ]
 00000FBF 0A			pacmanX db 10
 00000FC0 0F			pacmanY db 15
 00000FC1 32			ghostX db 50
 00000FC2 0F			ghostY db 15
 00000FC3 00000000		score dd 0
 00000FC7 00000003		lives dd 3
 00000FCB 00000001		level dd 1
 00000FCF 00			oldPacmanX db ?
 00000FD0 00			oldPacmanY db ?

				;.................................................
				;level 1 ghost vars
 00000FD1 01			    ghostDir db 1  ; 1=right, 2=left, 3=up, 4=down
 00000FD2 00			    oldGhostX db ?
 00000FD3 00			    oldGhostY db ?

				;.................................
				;pause variables
 00000FD4 50 52 45 53 53	    pauseMsg db "PRESS Q TO PAUSE GAME",0
	   20 51 20 54 4F
	   20 50 41 55 53
	   45 20 47 41 4D
	   45 00
 00000FEA 47 41 4D 45 20	    pausedMsg db "GAME PAUSED - PRESS Q TO RESUME ",0
	   50 41 55 53 45
	   44 20 2D 20 50
	   52 45 53 53 20
	   51 20 54 4F 20
	   52 45 53 55 4D
	   45 20 00
 0000100B 00			    gamePaused db 0
 0000100C 00			    prevPauseState db 0  ; To track state changes
				; ==================== FILE HANDLING DATA ====================

				; File handling constants
 = 00000400			BUFFER_SIZE = 1024
 = 0000000A			MAX_SCORES = 10
 = 00000010			MAX_NAME_LEN = 16

				; File operations
 0000100D 73 63 6F 72 65	filename    BYTE "scores.txt",0
	   73 2E 74 78 74
	   00
 00001018 00000000		fileHandle  DWORD ?
 0000101C 00000000		bytesRead   DWORD ?

				; Buffers
 00001020  00000400 [		fileBuffer  BYTE BUFFER_SIZE DUP(?)
	    00
	   ]
 00001420  00000400 [		tempBuffer  BYTE BUFFER_SIZE DUP(?)
	    00
	   ]

				; Formatting
 00001820 2C 00			comma       BYTE ",",0
 00001822 0D 0A 00		newline     BYTE 0Dh,0Ah,0

				; Score storage
 00001825  0000000A [		scores      DWORD MAX_SCORES DUP(0)
	    00000000
	   ]
 0000184D  000000A0 [		names       BYTE MAX_SCORES * MAX_NAME_LEN DUP(0)
	    00
	   ]
 000018ED  0000000A [		levels      BYTE MAX_SCORES DUP(0)
	    00
	   ]
 000018F7 00000000		scoreCount  DWORD 0

				; Score processing
 000018FB  0000000A [		arr_score   BYTE 10 DUP(0)
	    00
	   ]
 00001905  00000010 [		arr_name    BYTE MAX_NAME_LEN DUP(0)
	    00
	   ]
 00001915 00			score_size  BYTE 0
 00001916 00			name_size   BYTE 0
 00001917 00000000		score1      DWORD 0
 0000191B 00000000		userCount   DWORD 0

				; ============================================================

				; Display strings
 0000191F 52 61 6E 6B 20	hsHeader1 db "Rank  Name            Score  Level", 0
	   20 4E 61 6D 65
	   20 20 20 20 20
	   20 20 20 20 20
	   20 20 53 63 6F
	   72 65 20 20 4C
	   65 76 65 6C 00
 00001942 2D 2D 2D 2D 2D	hsHeader2 db "-------------------------------", 0
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 2D 2D 2D 2D
	   2D 00
 00001962 4E 6F 20 68 69	noScoresMsg db "No high scores yet!", 0
	   67 68 20 73 63
	   6F 72 65 73 20
	   79 65 74 21 00


				; ==================== LEVEL 2,3 VARIABLES ====================
				; Ghost variables for level 2
 00001976 46			ghost2X db 70
 00001977 0F			ghost2Y db 15
 00001978 00			oldGhost2X db ?
 00001979 00			oldGhost2Y db ?
 0000197A 03			ghost2Dir db 3  ; Different initial direction for variety
 = 00000005			ghost2Color = magenta + (black*16)
 = 0000000E			ghost3Color = yellow + (black*16)
 0000197B 50			ghost3X db 80
 0000197C 0F			ghost3Y db 15
 0000197D 00			oldGhost3X db ?
 0000197E 00			oldGhost3Y db ?

				; Fruit variables
 0000197F 4F 00			fruitChar db 'O',0
 00001981 00			fruit1X db ?
 00001982 00			fruit1Y db ?
 00001983 00			fruit2X db ?
 00001984 00			fruit2Y db ?
 00001985 00 00			fruitActive db 0, 0  ; Track if fruits are active
 00001987 00000000		fruitTimer dd 0
 = 00001770			FRUIT_SPAWN_TIME = 6000  ; 6 seconds
 = 0000000A			FRUIT_POINTS = 10

 0000198B 00			portal1X db ?
 0000198C 00			portal1Y db ?
 0000198D 00			portal2X db ?
 0000198E 00			portal2Y db ?

 0000198F 29			portalChar db ')'
 00001990 2A			hiddenWallChar db '*'
				;=============================================================================================
				;============================================================================================
 00000000			.code
 00000000			main proc
 00000000  E8 00000000 E	    call Clrscr
 00000005  E8 00000059		    call WelcomeScreen
 0000000A  E8 0000018D		    call MenuScreen
 0000000F  E8 00000739		    call Level1Screen
				    
				    exit
 00000014  6A 00	   *	    push   +000000000h
 00000016  E8 00000000 E   *	    call   ExitProcess
 0000001B			main endp

				;-----------------------------------------------------
 0000001B			introSound PROC
 0000001B  50			    push eax
 0000001C  52			    push edx

				    INVOKE PlaySound, OFFSET PacmanIntro, NULL, SND_FILENAME OR SND_ASYNC
 0000001D  68 00020001	   *	    push   +000020001h
 00000022  6A 00	   *	    push   +000000000h
 00000024  68 00000028 R   *	    push   dword  ptr OFFSET FLAT: PacmanIntro
 00000029  E8 00000000 E   *	    call   PlaySound
				    
 0000002E  85 C0		    test eax, eax
 00000030  75 0A		    jnz no_error1
 00000032  BA 0000005C R	    mov edx, OFFSET SoundError
 00000037  E8 00000000 E	    call WriteString
 0000003C			no_error1:
 0000003C  5A			    pop edx
 0000003D  58			    pop eax
 0000003E  C3			    ret
 0000003F			introSound ENDP

				;-----------------------------------------------------
 0000003F			levelSound PROC
 0000003F  50			    push eax
 00000040  52			    push edx
				    INVOKE PlaySound, OFFSET midSound, NULL, SND_FILENAME OR SND_ASYNC
 00000041  68 00020001	   *	    push   +000020001h
 00000046  6A 00	   *	    push   +000000000h
 00000048  68 00000000 R   *	    push   dword  ptr OFFSET FLAT: midSound
 0000004D  E8 00000000 E   *	    call   PlaySound
 00000052  85 C0		    test eax, eax
 00000054  75 0A		    jnz no_error2
 00000056  BA 0000005C R	    mov edx, OFFSET SoundError
 0000005B  E8 00000000 E	    call WriteString
 00000060			no_error2:
 00000060  5A			    pop edx
 00000061  58			    pop eax
 00000062  C3			    ret
 00000063			levelSound ENDP

				;-----------------------------------------------------
 00000063			WelcomeScreen proc

 00000063  E8 FFFFFFB3		    call introSound

				    ; Red Color
 00000068  B8 00000004		    mov eax, redTxt
 0000006D  E8 00000000 E	    call SetTextColor

 00000072  B6 05		    mov dh,5
 00000074  B2 0C		    mov dl,12
 00000076  E8 00000000 E	    call Gotoxy
 0000007B  BA 000000F1 R	    mov edx, offset pmtitle1
 00000080  E8 00000000 E	    call WriteString

 00000085  B6 06		    mov dh, 6
 00000087  B2 0C		    mov dl, 12
 00000089  E8 00000000 E	    call Gotoxy
 0000008E  BA 00000143 R	    mov edx, offset pmtitle2
 00000093  E8 00000000 E	    call WriteString

 00000098  B6 07		    mov dh, 7
 0000009A  B2 0C		    mov dl, 12
 0000009C  E8 00000000 E	    call Gotoxy
 000000A1  BA 00000195 R	    mov edx, offset pmtitle3
 000000A6  E8 00000000 E	    call WriteString

				    ; Blue Color
 000000AB  B8 00000001		    mov eax, blueTxt
 000000B0  E8 00000000 E	    call SetTextColor

 000000B5  B6 08		    mov dh, 8
 000000B7  B2 0C		    mov dl, 12
 000000B9  E8 00000000 E	    call Gotoxy
 000000BE  BA 000001E7 R	    mov edx, offset pmtitle4
 000000C3  E8 00000000 E	    call WriteString

 000000C8  B6 09		    mov dh, 9
 000000CA  B2 0C		    mov dl, 12
 000000CC  E8 00000000 E	    call Gotoxy
 000000D1  BA 00000239 R	    mov edx, offset pmtitle5
 000000D6  E8 00000000 E	    call WriteString

 000000DB  B6 0A		    mov dh, 10
 000000DD  B2 0C		    mov dl, 12
 000000DF  E8 00000000 E	    call Gotoxy
 000000E4  BA 0000028B R	    mov edx, offset pmtitle6
 000000E9  E8 00000000 E	    call WriteString

 000000EE  B6 0B		    mov dh, 11
 000000F0  B2 0C		    mov dl, 12
 000000F2  E8 00000000 E	    call Gotoxy
 000000F7  BA 000002DD R	    mov edx, offset pmtitle7
 000000FC  E8 00000000 E	    call WriteString

				    ; Green Color 
 00000101  B8 00000002		    mov eax, greenTxt
 00000106  E8 00000000 E	    call SetTextColor

 0000010B  B6 0C		    mov dh, 12
 0000010D  B2 0C		    mov dl, 12
 0000010F  E8 00000000 E	    call Gotoxy
 00000114  BA 0000032F R	    mov edx, offset pmtitle8
 00000119  E8 00000000 E	    call WriteString

 0000011E  B6 0D		    mov dh,13
 00000120  B2 0C		    mov dl,12
 00000122  E8 00000000 E	    call Gotoxy
 00000127  BA 00000381 R	    mov edx, offset pmtitle9
 0000012C  E8 00000000 E	    call WriteString

 00000131  B6 0E		    mov dh, 14
 00000133  B2 0C		    mov dl, 12
 00000135  E8 00000000 E	    call Gotoxy
 0000013A  BA 000003D3 R	    mov edx, offset pmtitle10
 0000013F  E8 00000000 E	    call WriteString

 00000144  B6 0F		    mov dh, 15
 00000146  B2 0C		    mov dl, 12
 00000148  E8 00000000 E	    call Gotoxy
 0000014D  BA 00000425 R	    mov edx, offset pmtitle11
 00000152  E8 00000000 E	    call WriteString

				    
 00000157  B8 0000000E		    mov eax, yellowTxt
 0000015C  E8 00000000 E	    call SetTextColor

 00000161  B6 13		    mov dh, 19
 00000163  B2 0C		    mov dl, 12
 00000165  E8 00000000 E	    call Gotoxy
 0000016A  BA 00000088 R	    mov edx, offset inputName
 0000016F  E8 00000000 E	    call WriteString

				    ; asking for user input
 00000174  BA 0000009D R	    mov edx, offset userName
 00000179  B9 00000032		    mov ecx, lengthof userName
 0000017E  E8 00000000 E	    call ReadString

 00000183  B6 16		    mov dh, 22
 00000185  B2 0B		    mov dl,11
 00000187  E8 00000000 E	    call Gotoxy
 0000018C  BA 00000F6B R	    mov edx, offset temp
 00000191  E8 00000000 E	    call WaitMsg
 00000196  E8 00000000 E	    call Clrscr
 0000019B  C3			    ret
 0000019C			WelcomeScreen endp


				;-----------------------------------------------------
 0000019C			MenuScreen proc

 0000019C  E8 FFFFFE7A		    call introSound

 000001A1  E8 00000000 E	    call Clrscr
				    
 000001A6  B8 00000001		    mov eax, blueTxt
 000001AB  E8 00000000 E	    call SetTextColor
				    
 000001B0  B6 05		    mov dh, 5
 000001B2  B2 1E		    mov dl, 30
 000001B4  E8 00000000 E	    call Gotoxy
 000001B9  BA 00000477 R	    mov edx, offset menutitle0
 000001BE  E8 00000000 E	    call WriteString
				    
 000001C3  B6 06		    mov dh, 6
 000001C5  B2 1E		    mov dl, 30
 000001C7  E8 00000000 E	    call Gotoxy
 000001CC  BA 000004A6 R	    mov edx, offset menutitle1
 000001D1  E8 00000000 E	    call WriteString
				    
 000001D6  B6 07		    mov dh, 7
 000001D8  B2 1E		    mov dl, 30
 000001DA  E8 00000000 E	    call Gotoxy
 000001DF  BA 000004D5 R	    mov edx, offset menutitle2
 000001E4  E8 00000000 E	    call WriteString
				    
 000001E9  B6 08		    mov dh, 8
 000001EB  B2 1E		    mov dl, 30
 000001ED  E8 00000000 E	    call Gotoxy
 000001F2  BA 00000503 R	    mov edx, offset menutitle3
 000001F7  E8 00000000 E	    call WriteString
				    
 000001FC  B6 09		    mov dh, 9
 000001FE  B2 1E		    mov dl, 30
 00000200  E8 00000000 E	    call Gotoxy
 00000205  BA 00000532 R	    mov edx, offset menutitle4
 0000020A  E8 00000000 E	    call WriteString
				    
 0000020F  B6 0A		    mov dh, 10
 00000211  B2 1E		    mov dl, 30
 00000213  E8 00000000 E	    call Gotoxy
 00000218  BA 00000560 R	    mov edx, offset menutitle5
 0000021D  E8 00000000 E	    call WriteString
				    
				    ;menu options in green
 00000222  B8 00000002		    mov eax, greenTxt
 00000227  E8 00000000 E	    call SetTextColor
				    
 0000022C  B6 0D		    mov dh, 13
 0000022E  B2 23		    mov dl, 35
 00000230  E8 00000000 E	    call Gotoxy
 00000235  BA 0000058F R	    mov edx, offset menuopt0
 0000023A  E8 00000000 E	    call WriteString
				    
 0000023F  B6 0E		    mov dh, 14
 00000241  B2 23		    mov dl, 35
 00000243  E8 00000000 E	    call Gotoxy
 00000248  BA 000005B1 R	    mov edx, offset menuopt1
 0000024D  E8 00000000 E	    call WriteString
				    
 00000252  B6 0F		    mov dh, 15
 00000254  B2 23		    mov dl, 35
 00000256  E8 00000000 E	    call Gotoxy
 0000025B  BA 000005D3 R	    mov edx, offset menuopt2
 00000260  E8 00000000 E	    call WriteString
				    
 00000265  B6 10		    mov dh, 16
 00000267  B2 23		    mov dl, 35
 00000269  E8 00000000 E	    call Gotoxy
 0000026E  BA 000005F5 R	    mov edx, offset menuopt3
 00000273  E8 00000000 E	    call WriteString
				    
 00000278  B6 11		    mov dh, 17
 0000027A  B2 23		    mov dl, 35
 0000027C  E8 00000000 E	    call Gotoxy
 00000281  BA 00000617 R	    mov edx, offset menuopt4
 00000286  E8 00000000 E	    call WriteString
				    
 0000028B  B6 12		    mov dh, 18
 0000028D  B2 23		    mov dl, 35
 0000028F  E8 00000000 E	    call Gotoxy
 00000294  BA 00000639 R	    mov edx, offset menuopt5
 00000299  E8 00000000 E	    call WriteString
				    
				    ; user choice
 0000029E  B8 0000000F		    mov eax, whiteTxt
 000002A3  E8 00000000 E	    call SetTextColor
				    
 000002A8  B6 14		    mov dh, 20
 000002AA  B2 23		    mov dl, 35
 000002AC  E8 00000000 E	    call Gotoxy
 000002B1  BA 0000065B R	    mov edx, offset menuoptchoose
 000002B6  E8 00000000 E	    call WriteString
				    
 000002BB  E8 00000000 E	    call ReadInt
 000002C0  A2 00000F6A R	    mov userChoice, al
				    
				  
 000002C5  80 3D 00000F6A R	    cmp userChoice, 1
	   01
 000002CC  74 20		    je LevelSelection
 000002CE  80 3D 00000F6A R	    cmp userChoice, 2
	   02
 000002D5  74 21		    je ShowInstructions
 000002D7  80 3D 00000F6A R	    cmp userChoice, 3
	   03
 000002DE  74 22		    je ShowHighscores
 000002E0  80 3D 00000F6A R	    cmp userChoice, 4
	   04
 000002E7  74 23		    je ExitGame
				    
				    ;if user ghalat option then go to menu (already udhr he)
 000002E9  E9 FFFFFEAE		    jmp MenuScreen
				    
 000002EE			LevelSelection:
 000002EE  E8 00000025		    call LevelSelectScreen
 000002F3  E9 FFFFFEA4		    jmp MenuScreen
				    
 000002F8			ShowInstructions:
 000002F8  E8 000001E1		    call InstructionsScreen
 000002FD  E9 FFFFFE9A		    jmp MenuScreen
				    
 00000302			ShowHighscores:
 00000302  E8 000002B1		    call HighscoresScreen
 00000307  E9 FFFFFE90		    jmp MenuScreen
				    
 0000030C			ExitGame:
 0000030C  E8 00000000 E	    call Clrscr
				    exit
 00000311  6A 00	   *	    push   +000000000h
 00000313  E8 00000000 E   *	    call   ExitProcess
 00000318			MenuScreen endp

				;-----------------------------------------------------
 00000318			LevelSelectScreen proc

 00000318  E8 FFFFFCFE		    call introSound

 0000031D  E8 00000000 E	    call Clrscr
				    
				    ; Display level selection title
 00000322  B8 00000001		    mov eax, blueTxt
 00000327  E8 00000000 E	    call SetTextColor
				    
				    
				    ; level options
 0000032C  B8 00000004		    mov eax, redTxt
 00000331  E8 00000000 E	    call SetTextColor
				    
				    ; Level 1
 00000336  B6 03		    mov dh, 3
 00000338  B2 1E		    mov dl, 30
 0000033A  E8 00000000 E	    call Gotoxy
 0000033F  BA 00000670 R	    mov edx, offset level1opt0
 00000344  E8 00000000 E	    call WriteString
				    
 00000349  B6 04		    mov dh, 4
 0000034B  B2 1E		    mov dl, 30
 0000034D  E8 00000000 E	    call Gotoxy
 00000352  BA 0000069F R	    mov edx, offset level1opt1
 00000357  E8 00000000 E	    call WriteString
				    
 0000035C  B6 05		    mov dh, 5
 0000035E  B2 1E		    mov dl, 30
 00000360  E8 00000000 E	    call Gotoxy
 00000365  BA 000006CE R	    mov edx, offset level1opt2
 0000036A  E8 00000000 E	    call WriteString
				    
 0000036F  B6 06		    mov dh, 6
 00000371  B2 1E		    mov dl, 30
 00000373  E8 00000000 E	    call Gotoxy
 00000378  BA 000006FD R	    mov edx, offset level1opt3
 0000037D  E8 00000000 E	    call WriteString
				    
 00000382  B6 07		    mov dh, 7
 00000384  B2 1E		    mov dl, 30
 00000386  E8 00000000 E	    call Gotoxy
 0000038B  BA 0000072C R	    mov edx, offset level1opt4
 00000390  E8 00000000 E	    call WriteString
				    
				    ; Level 2
 00000395  B6 0A		    mov dh, 10
 00000397  B2 1E		    mov dl, 30
 00000399  E8 00000000 E	    call Gotoxy
 0000039E  BA 0000075B R	    mov edx, offset level2opt0
 000003A3  E8 00000000 E	    call WriteString
				    
 000003A8  B6 0B		    mov dh, 11
 000003AA  B2 1E		    mov dl, 30
 000003AC  E8 00000000 E	    call Gotoxy
 000003B1  BA 0000078A R	    mov edx, offset level2opt1
 000003B6  E8 00000000 E	    call WriteString
				    
 000003BB  B6 0C		    mov dh, 12
 000003BD  B2 1E		    mov dl, 30
 000003BF  E8 00000000 E	    call Gotoxy
 000003C4  BA 000007B9 R	    mov edx, offset level2opt2
 000003C9  E8 00000000 E	    call WriteString
				    
 000003CE  B6 0D		    mov dh, 13
 000003D0  B2 1E		    mov dl, 30
 000003D2  E8 00000000 E	    call Gotoxy
 000003D7  BA 000007E8 R	    mov edx, offset level2opt3
 000003DC  E8 00000000 E	    call WriteString
				    
 000003E1  B6 0E		    mov dh, 14
 000003E3  B2 1E		    mov dl, 30
 000003E5  E8 00000000 E	    call Gotoxy
 000003EA  BA 00000817 R	    mov edx, offset level2opt4
 000003EF  E8 00000000 E	    call WriteString
				    
				    ; Level 3
 000003F4  B6 11		    mov dh, 17
 000003F6  B2 1E		    mov dl, 30
 000003F8  E8 00000000 E	    call Gotoxy
 000003FD  BA 00000846 R	    mov edx, offset level3opt0
 00000402  E8 00000000 E	    call WriteString
				    
 00000407  B6 12		    mov dh, 18
 00000409  B2 1E		    mov dl, 30
 0000040B  E8 00000000 E	    call Gotoxy
 00000410  BA 00000875 R	    mov edx, offset level3opt1
 00000415  E8 00000000 E	    call WriteString
				    
 0000041A  B6 13		    mov dh, 19
 0000041C  B2 1E		    mov dl, 30
 0000041E  E8 00000000 E	    call Gotoxy
 00000423  BA 000008A4 R	    mov edx, offset level3opt2
 00000428  E8 00000000 E	    call WriteString
				    
 0000042D  B6 14		    mov dh, 20
 0000042F  B2 1E		    mov dl, 30
 00000431  E8 00000000 E	    call Gotoxy
 00000436  BA 000008D3 R	    mov edx, offset level3opt3
 0000043B  E8 00000000 E	    call WriteString
				    
 00000440  B6 15		    mov dh, 21
 00000442  B2 1E		    mov dl, 30
 00000444  E8 00000000 E	    call Gotoxy
 00000449  BA 00000902 R	    mov edx, offset level3opt4
 0000044E  E8 00000000 E	    call WriteString
				    
				    ;user choice
 00000453  B8 0000000F		    mov eax, whiteTxt
 00000458  E8 00000000 E	    call SetTextColor
				    
 0000045D  B6 17		    mov dh, 23
 0000045F  B2 14		    mov dl, 20
 00000461  E8 00000000 E	    call Gotoxy
 00000466  BA 00000931 R	    mov edx, offset leveloptchoose1
 0000046B  E8 00000000 E	    call WriteString
				    
 00000470  B6 18		    mov dh, 24
 00000472  B2 14		    mov dl, 20
 00000474  E8 00000000 E	    call Gotoxy
 00000479  BA 0000096A R	    mov edx, offset leveloptchoose2
 0000047E  E8 00000000 E	    call WriteString
				    
 00000483  B6 19		    mov dh, 25
 00000485  B2 14		    mov dl, 20
 00000487  E8 00000000 E	    call Gotoxy
 0000048C  E8 00000000 E	    call ReadInt
				    
				    ; Processing choice made
 00000491  3C 01		    cmp al, 1
 00000493  74 15		    je StartLevel1
 00000495  3C 02		    cmp al, 2
 00000497  74 1E		    je StartLevel2
 00000499  3C 03		    cmp al, 3
 0000049B  74 27		    je StartLevel3
 0000049D  3C 04		    cmp al, 4
 0000049F  74 30		    je ReturnToMenu
 000004A1  3C 05		    cmp al, 5
 000004A3  74 2D		    je ExitGame
				    
				    ; Invalid choice - show menu again
 000004A5  E9 FFFFFE6E		    jmp LevelSelectScreen

 000004AA			StartLevel1:
 000004AA  C6 05 00000F6C R	    mov currentLevel, 1
	   01
 000004B1  E8 00000297		    call Level1Screen
 000004B6  C3			    ret

 000004B7			StartLevel2:
 000004B7  C6 05 00000F6C R	    mov currentLevel, 2
	   02
 000004BE  E8 00000DFE		    call Level2Screen  
 000004C3  C3			    ret
 000004C4			StartLevel3:
 000004C4  C6 05 00000F6C R	    mov currentLevel, 3
	   03
 000004CB  E8 00001F93		    call Level3Screen  
 000004D0  C3			    ret
 000004D1			ReturnToMenu:
 000004D1  C3			    ret
				    
 000004D2			ExitGame:
 000004D2  E8 00000000 E	    call Clrscr
				    exit
 000004D7  6A 00	   *	    push   +000000000h
 000004D9  E8 00000000 E   *	    call   ExitProcess
 000004DE			LevelSelectScreen endp

				;-----------------------------------------------------
 000004DE			InstructionsScreen proc

 000004DE  E8 FFFFFB38		    call introSound

 000004E3  E8 00000000 E	    call Clrscr
				    
				    ; Display instructions title
 000004E8  B8 00000001		    mov eax, blueTxt
 000004ED  E8 00000000 E	    call SetTextColor
				    
 000004F2  B6 05		    mov dh, 5
 000004F4  B2 0F		    mov dl, 15
 000004F6  E8 00000000 E	    call Gotoxy
 000004FB  BA 0000099F R	    mov edx, offset instruc1
 00000500  E8 00000000 E	    call WriteString
				    
 00000505  B6 06		    mov dh, 6
 00000507  B2 0F		    mov dl, 15
 00000509  E8 00000000 E	    call Gotoxy
 0000050E  BA 000009E3 R	    mov edx, offset instruc2
 00000513  E8 00000000 E	    call WriteString
				    
				    ; Display instructions text
 00000518  B8 00000002		    mov eax, greenTxt
 0000051D  E8 00000000 E	    call SetTextColor
				    
 00000522  B6 08		    mov dh, 8
 00000524  B2 0F		    mov dl, 15
 00000526  E8 00000000 E	    call Gotoxy
 0000052B  BA 00000A73 R	    mov edx, offset instruc4
 00000530  E8 00000000 E	    call WriteString
				    
 00000535  B6 09		    mov dh, 9
 00000537  B2 0F		    mov dl, 15
 00000539  E8 00000000 E	    call Gotoxy
 0000053E  BA 00000A97 R	    mov edx, offset instruc5
 00000543  E8 00000000 E	    call WriteString
				    
 00000548  B6 0A		    mov dh, 10
 0000054A  B2 0F		    mov dl, 15
 0000054C  E8 00000000 E	    call Gotoxy
 00000551  BA 00000ABB R	    mov edx, offset instruc6
 00000556  E8 00000000 E	    call WriteString
				    
 0000055B  B6 0B		    mov dh, 11
 0000055D  B2 0F		    mov dl, 15
 0000055F  E8 00000000 E	    call Gotoxy
 00000564  BA 00000AFF R	    mov edx, offset instruc7
 00000569  E8 00000000 E	    call WriteString
				    
 0000056E  B6 0C		    mov dh, 12
 00000570  B2 0F		    mov dl, 15
 00000572  E8 00000000 E	    call Gotoxy
 00000577  BA 00000B3E R	    mov edx, offset instruc8
 0000057C  E8 00000000 E	    call WriteString
				    
				    ; Get user choice
 00000581  B8 0000000F		    mov eax, whiteTxt
 00000586  E8 00000000 E	    call SetTextColor
				    
 0000058B  B6 0E		    mov dh, 14
 0000058D  B2 0F		    mov dl, 15
 0000058F  E8 00000000 E	    call Gotoxy
 00000594  BA 00000BD0 R	    mov edx, offset instrucChoose
 00000599  E8 00000000 E	    call WriteString
				    
 0000059E  E8 00000000 E	    call ReadInt
				    
				    ; Process choice
 000005A3  3C 01		    cmp al, 1
 000005A5  74 04		    je ReturnToMenu
 000005A7  3C 02		    cmp al, 2
 000005A9  74 01		    je ExitGame
				    
 000005AB			ReturnToMenu:
 000005AB  C3			    ret
				    
 000005AC			ExitGame:
 000005AC  E8 00000000 E	    call Clrscr
				    exit
 000005B1  6A 00	   *	    push   +000000000h
 000005B3  E8 00000000 E   *	    call   ExitProcess
 000005B8			InstructionsScreen endp

				;-----------------------------------------------------
 000005B8			HighscoresScreen proc


 000005B8  E8 FFFFFA5E		    call introSound

 000005BD  E8 00000000 E	    call Clrscr
				  ;  call LoadScores
				  ;  call SortScores

 000005C2  B8 0000000E		    mov eax, yellowTxt
 000005C7  E8 00000000 E	    call SetTextColor
				    
 000005CC  B6 05		    mov dh, 5
 000005CE  B2 14		    mov dl, 20
 000005D0  E8 00000000 E	    call Gotoxy
 000005D5  BA 00000C02 R	    mov edx, offset hsTitle0
 000005DA  E8 00000000 E	    call WriteString
				    
 000005DF  B6 06		    mov dh, 6
 000005E1  B2 14		    mov dl, 20
 000005E3  E8 00000000 E	    call Gotoxy
 000005E8  BA 00000C40 R	    mov edx, offset hsTitle1
 000005ED  E8 00000000 E	    call WriteString
				    
 000005F2  B6 07		    mov dh, 7
 000005F4  B2 14		    mov dl, 20
 000005F6  E8 00000000 E	    call Gotoxy
 000005FB  BA 00000C7E R	    mov edx, offset hsTitle2
 00000600  E8 00000000 E	    call WriteString
				    
 00000605  B6 08		    mov dh, 8
 00000607  B2 14		    mov dl, 20
 00000609  E8 00000000 E	    call Gotoxy
 0000060E  BA 00000CBC R	    mov edx, offset hsTitle3
 00000613  E8 00000000 E	    call WriteString
				    
 00000618  B6 09		    mov dh, 9
 0000061A  B2 14		    mov dl, 20
 0000061C  E8 00000000 E	    call Gotoxy
 00000621  BA 00000CFA R	    mov edx, offset hsTitle4
 00000626  E8 00000000 E	    call WriteString
				    
				    ; Here you would normally display the actual high scores
				    ; For now, just display a message
 0000062B  B8 0000000F		    mov eax, whiteTxt
 00000630  E8 00000000 E	    call SetTextColor
				    
 00000635  B6 0C		    mov dh, 12
 00000637  B2 1E		    mov dl, 30
 00000639  E8 00000000 E	    call Gotoxy
 0000063E  BA 00000BD0 R	    mov edx, offset instrucChoose
 00000643  E8 00000000 E	    call WriteString
				    
 00000648  E8 00000000 E	    call ReadInt
 0000064D  83 3D 0000191B R	        cmp userCount, 0
	   00
 00000654  0F 84 000000B3	    je NoScores
				    
				    ; Display headers
 0000065A  B8 0000000F		    mov eax, whiteTxt
 0000065F  E8 00000000 E	    call SetTextColor
				    
 00000664  B6 0A		    mov dh, 10
 00000666  B2 14		    mov dl, 20
 00000668  E8 00000000 E	    call Gotoxy
 0000066D  BA 0000191F R	    mov edx, OFFSET hsHeader1
 00000672  E8 00000000 E	    call WriteString
				    
 00000677  B6 0B		    mov dh, 11
 00000679  B2 14		    mov dl, 20
 0000067B  E8 00000000 E	    call Gotoxy
 00000680  BA 00001942 R	    mov edx, OFFSET hsHeader2
 00000685  E8 00000000 E	    call WriteString
				    
				    ; Display each score (top 10)
 0000068A  8B 0D 0000191B R	    mov ecx, userCount
 00000690  83 F9 0A		    cmp ecx, 10
 00000693  76 05		    jbe DisplayLoop
 00000695  B9 0000000A		    mov ecx, 10
				    
 0000069A			DisplayLoop:
 0000069A  51			    push ecx
 0000069B  B8 0000000A		    mov eax, 10
 000006A0  2B C1		    sub eax, ecx    ; Calculate rank (10,9,...1)
 000006A2  40			    inc eax
				    
				    ; Position cursor
 000006A3  8A F0		    mov dh, al
 000006A5  80 C6 0B		    add dh, 11      ; Start at row 12
 000006A8  B2 14		    mov dl, 20
 000006AA  E8 00000000 E	    call Gotoxy
				    
				    ; Display rank
 000006AF  E8 00000000 E	    call WriteDec
 000006B4  80 C2 06		    add dl, 6
 000006B7  E8 00000000 E	    call Gotoxy
				    
				    ; Display name
 000006BC  B8 0000000A		    mov eax, 10
 000006C1  2B C1		    sub eax, ecx
 000006C3  6B C0 10		    imul eax, MAX_NAME_LEN
 000006C6  05 0000184D R	    add eax, OFFSET names
 000006CB  8B D0		    mov edx, eax
 000006CD  E8 00000000 E	    call WriteString
				    
				    ; Display score
 000006D2  80 C2 10		    add dl, 16
 000006D5  E8 00000000 E	    call Gotoxy
 000006DA  B8 0000000A		    mov eax, 10
 000006DF  2B C1		    sub eax, ecx
 000006E1  8B 04 85		    mov eax, scores[eax*4]
	   00001825 R
 000006E8  E8 00000000 E	    call WriteDec
				    
				    ; Display level
 000006ED  80 C2 08		    add dl, 8
 000006F0  E8 00000000 E	    call Gotoxy
 000006F5  B8 0000000A		    mov eax, 10
 000006FA  2B C1		    sub eax, ecx
 000006FC  0F B6 80		    movzx eax, levels[eax]
	   000018ED R
 00000703  E8 00000000 E	    call WriteDec
				    
 00000708  59			    pop ecx
 00000709  E2 8F		    loop DisplayLoop
				    
 0000070B  EB 1D		    jmp DisplayReturn
				    
 0000070D			NoScores:
 0000070D  B8 00000004		    mov eax, redTxt
 00000712  E8 00000000 E	    call SetTextColor
 00000717  B6 0C		    mov dh, 12
 00000719  B2 1E		    mov dl, 30
 0000071B  E8 00000000 E	    call Gotoxy
 00000720  BA 00001962 R	    mov edx, OFFSET noScoresMsg
 00000725  E8 00000000 E	    call WriteString
				    
 0000072A			DisplayReturn:
				    ; Display return message
 0000072A  B8 0000000F		    mov eax, whiteTxt
 0000072F  E8 00000000 E	    call SetTextColor
 00000734  B6 17		    mov dh, 23
 00000736  B2 19		    mov dl, 25
 00000738  E8 00000000 E	    call Gotoxy
 0000073D  BA 00000E9C R	    mov edx, OFFSET returnOption
 00000742  E8 00000000 E	    call WriteString
				    
				    ; Wait for key press
 00000747  E8 00000000 E	    call ReadChar
 0000074C  C3			    ret

 0000074D			HighscoresScreen endp

				;***********************************************************
				;***********************************************************
 0000074D			Level1Screen PROC
 0000074D  E8 00000000 E	    call Clrscr
 00000752  E8 FFFFF8E8		    call levelSound

				    ; Initialize game state
 00000757  C6 05 00000FBF R	    mov pacmanX, 10
	   0A
 0000075E  C6 05 00000FC0 R	    mov pacmanY, 15
	   0F
 00000765  C6 05 00000FCF R	    mov oldPacmanX, 10     
	   0A
 0000076C  C6 05 00000FD0 R	    mov oldPacmanY, 15
	   0F
 00000773  C6 05 00000FC1 R	    mov ghostX, 50
	   32
 0000077A  C6 05 00000FC2 R	    mov ghostY, 15
	   0F
 00000781  C6 05 00000FD2 R	    mov oldGhostX, 50
	   32
 00000788  C6 05 00000FD3 R	    mov oldGhostY, 15
	   0F
 0000078F  C7 05 00000FC3 R	    mov score, 0
	   00000000
 00000799  C6 05 00000F96 R	    mov pelletCount, 20
	   14
 000007A0  C6 05 0000100B R	    mov gamePaused, 0    
	   00
 000007A7  C6 05 00000F6C R	    mov currentLevel,1
	   01
 000007AE  E8 00000462		    call InitializePellets
 000007B3  E8 00000307		    call DrawStaticElements

 000007B8			GameLoop:
 000007B8  E8 00000000 E	    call ReadKey
 000007BD  0F 84 000000F6	    jz NoPlayerInput     ; No key pressed

				    ; Check for pause input
 000007C3  3C 71		    cmp al, 'q'
 000007C5  0F 84 0000014D	    je TogglePause
 000007CB  3C 51		    cmp al, 'Q'
 000007CD  0F 84 00000145	    je TogglePause

				    ; Handle movement and menu keys
 000007D3  3C 77		    cmp al, 'w'
 000007D5  74 1D		    je MoveUp
 000007D7  3C 61		    cmp al, 'a'
 000007D9  74 4A		    je MoveLeft
 000007DB  3C 73		    cmp al, 's'
 000007DD  74 71		    je MoveDown
 000007DF  3C 64		    cmp al, 'd'
 000007E1  0F 84 00000094	    je MoveRight
 000007E7  3C 31		    cmp al, '1'    ; Return to menu
 000007E9  0F 84 00000156	    je ExitLevel
 000007EF  E9 000000C5		    jmp NoPlayerInput

 000007F4			MoveUp:
 000007F4  A0 00000FBF R	    mov al, pacmanX
 000007F9  A2 00000FCF R	    mov oldPacmanX, al
 000007FE  A0 00000FC0 R	    mov al, pacmanY
 00000803  A2 00000FD0 R	    mov oldPacmanY, al
 00000808  FE 0D 00000FC0 R	    dec pacmanY
 0000080E  E8 00000505		    call CheckWallCollision
 00000813  72 05		    jc CancelMoveUp
 00000815  E9 0000008C		    jmp AfterMove
 0000081A			CancelMoveUp:
 0000081A  FE 05 00000FC0 R	    inc pacmanY
 00000820  E9 00000081		    jmp AfterMove

 00000825			MoveLeft:
 00000825  A0 00000FBF R	    mov al, pacmanX
 0000082A  A2 00000FCF R	    mov oldPacmanX, al
 0000082F  A0 00000FC0 R	    mov al, pacmanY
 00000834  A2 00000FD0 R	    mov oldPacmanY, al
 00000839  FE 0D 00000FBF R	    dec pacmanX
 0000083F  E8 000004D4		    call CheckWallCollision
 00000844  72 02		    jc CancelMoveLeft
 00000846  EB 5E		    jmp AfterMove
 00000848			CancelMoveLeft:
 00000848  FE 05 00000FBF R	    inc pacmanX
 0000084E  EB 56		    jmp AfterMove

 00000850			MoveDown:
 00000850  A0 00000FBF R	    mov al, pacmanX
 00000855  A2 00000FCF R	    mov oldPacmanX, al
 0000085A  A0 00000FC0 R	    mov al, pacmanY
 0000085F  A2 00000FD0 R	    mov oldPacmanY, al
 00000864  FE 05 00000FC0 R	    inc pacmanY
 0000086A  E8 000004A9		    call CheckWallCollision
 0000086F  72 02		    jc CancelMoveDown
 00000871  EB 33		    jmp AfterMove
 00000873			CancelMoveDown:
 00000873  FE 0D 00000FC0 R	    dec pacmanY
 00000879  EB 2B		    jmp AfterMove

 0000087B			MoveRight:
 0000087B  A0 00000FBF R	    mov al, pacmanX
 00000880  A2 00000FCF R	    mov oldPacmanX, al
 00000885  A0 00000FC0 R	    mov al, pacmanY
 0000088A  A2 00000FD0 R	    mov oldPacmanY, al
 0000088F  FE 05 00000FBF R	    inc pacmanX
 00000895  E8 0000047E		    call CheckWallCollision
 0000089A  72 02		    jc CancelMoveRight
 0000089C  EB 08		    jmp AfterMove
 0000089E			CancelMoveRight:
 0000089E  FE 0D 00000FBF R	    dec pacmanX
 000008A4  EB 00		    jmp AfterMove

 000008A6			AfterMove:
 000008A6  E8 0000047F		    call CheckPelletCollision
 000008AB  E8 000006A6		    call CheckGhostCollision
 000008B0  83 F8 01		    cmp eax, 1
 000008B3  0F 84 00000098	    je GameLost

 000008B9			NoPlayerInput:
				    ; Skip ghost and game logic if paused
 000008B9  80 3D 0000100B R	    cmp gamePaused, 1
	   01
 000008C0  74 28		    je PausedLoop

 000008C2  E8 0000054A		    call ClearOldPositions
 000008C7  E8 00000586		    call GhostMovement
 000008CC  E8 000002D1		    call DrawGameElements

				    ; Small delay
 000008D1  B8 00000064		    mov eax, 100
 000008D6  E8 00000000 E	    call Delay

				    ; Check win condition
 000008DB  80 3D 00000F96 R	    cmp pelletCount, 0
	   00
 000008E2  0F 85 FFFFFED0	    jne GameLoop
 000008E8  74 5C		    je LevelWon

 000008EA			PausedLoop:
				    ; Show pause message once
 000008EA  B8 0000000E		    mov eax, yellowTxt
 000008EF  E8 00000000 E	    call SetTextColor
 000008F4  B6 0C		    mov dh, 12
 000008F6  B2 14		    mov dl, 20
 000008F8  E8 00000000 E	    call Gotoxy
 000008FD  BA 00000FEA R	    mov edx, OFFSET pausedMsg
 00000902  E8 00000000 E	    call WriteString

 00000907			WaitWhilePaused:
 00000907  E8 00000000 E	    call ReadKey
 0000090C  74 F9		    jz WaitWhilePaused

 0000090E  3C 71		    cmp al, 'q'
 00000910  74 06		    je TogglePause
 00000912  3C 51		    cmp al, 'Q'
 00000914  74 02		    je TogglePause
 00000916  EB EF		    jmp WaitWhilePaused

 00000918			TogglePause:
 00000918  80 35 0000100B R	    xor gamePaused, 1
	   01

				    ; Clear pause message
 0000091F  B8 00000000		    mov eax, blackTxt
 00000924  E8 00000000 E	    call SetTextColor
 00000929  B6 0C		    mov dh, 12
 0000092B  B2 14		    mov dl, 20
 0000092D  E8 00000000 E	    call Gotoxy
 00000932  B9 00000028		    mov ecx, 40
 00000937			ClearPauseText:
 00000937  B0 20		    mov al, ' '
 00000939  E8 00000000 E	    call WriteChar
 0000093E  E2 F7		    loop ClearPauseText

 00000940  E9 FFFFFE73		    jmp GameLoop

 00000945			ExitLevel:
 00000945  C3			    ret

 00000946			LevelWon:
 00000946  E8 000006AD		    call SaveScore
 0000094B  E8 000000B4		    call LevelCompleteScreen
 00000950  C3			    ret

 00000951			GameLost:
 00000951  E8 000006A2		    call SaveScore
 00000956  E8 00000001		    call GameOverScreen
 0000095B  C3			    ret

 0000095C			GameOverScreen:
 0000095C  E8 00000000 E	    call Clrscr
 00000961  B8 00000004		    mov eax, redTxt
 00000966  E8 00000000 E	    call SetTextColor

				    ; Draw game over message
 0000096B  B6 05		    mov dh, 5
 0000096D  B2 14		    mov dl, 20
 0000096F  E8 00000000 E	    call Gotoxy
 00000974  BA 00000D86 R	    mov edx, OFFSET gameOverMsg1
 00000979  E8 00000000 E	    call WriteString

 0000097E  B6 06		    mov dh, 6
 00000980  B2 14		    mov dl, 20
 00000982  E8 00000000 E	    call Gotoxy
 00000987  BA 00000DBA R	    mov edx, OFFSET gameOverMsg2
 0000098C  E8 00000000 E	    call WriteString

 00000991  B6 06		    mov dh, 6
 00000993  B2 14		    mov dl, 20
 00000995  E8 00000000 E	    call Gotoxy
 0000099A  BA 00000DED R	    mov edx, OFFSET gameOverMsg3
 0000099F  E8 00000000 E	    call WriteString

 000009A4  B6 07		    mov dh, 7
 000009A6  B2 14		    mov dl, 20
 000009A8  E8 00000000 E	    call Gotoxy
 000009AD  BA 00000E21 R	    mov edx, OFFSET gameOverMsg4
 000009B2  E8 00000000 E	    call WriteString

 000009B7  B6 08		    mov dh, 8
 000009B9  B2 14		    mov dl, 20
 000009BB  E8 00000000 E	    call Gotoxy
 000009C0  BA 00000E55 R	    mov edx, OFFSET gameOverMsg5
 000009C5  E8 00000000 E	    call WriteString

				    ; Display score
 000009CA  B6 0C		    mov dh, 12
 000009CC  B2 14		    mov dl, 20
 000009CE  E8 00000000 E	    call Gotoxy
 000009D3  BA 00000E89 R	    mov edx, OFFSET scoreDisplay
 000009D8  E8 00000000 E	    call WriteString
 000009DD  A1 00000FC3 R	    mov eax, score
 000009E2  E8 00000000 E	    call WriteDec

				    ; Display return option
 000009E7  B6 0E		    mov dh, 14
 000009E9  B2 14		    mov dl, 20
 000009EB  E8 00000000 E	    call Gotoxy
 000009F0  BA 00000E9C R	    mov edx, OFFSET returnOption
 000009F5  E8 00000000 E	    call WriteString

 000009FA			WaitForInput:
 000009FA  E8 00000000 E	    call ReadChar
 000009FF  3C 31		    cmp al, '1'
 00000A01  75 F7		    jne WaitForInput
 00000A03  C3			    ret


 00000A04			LevelCompleteScreen:
 00000A04  E8 00000000 E	    call Clrscr
 00000A09  B8 00000002		    mov eax, greenTxt
 00000A0E  E8 00000000 E	    call SetTextColor

				    ; Draw level complete message
 00000A13  B6 05		    mov dh, 5
 00000A15  B2 14		    mov dl, 20
 00000A17  E8 00000000 E	    call Gotoxy
 00000A1C  BA 00000EB6 R	    mov edx, OFFSET levelCompleteMsg1
 00000A21  E8 00000000 E	    call WriteString

 00000A26  B6 06		    mov dh, 6
 00000A28  B2 14		    mov dl, 20
 00000A2A  E8 00000000 E	    call Gotoxy
 00000A2F  BA 00000ED4 R	    mov edx, OFFSET levelCompleteMsg2
 00000A34  E8 00000000 E	    call WriteString

 00000A39  B6 07		    mov dh, 7
 00000A3B  B2 14		    mov dl, 20
 00000A3D  E8 00000000 E	    call Gotoxy
 00000A42  BA 00000EF2 R	    mov edx, OFFSET levelCompleteMsg3
 00000A47  E8 00000000 E	    call WriteString

 00000A4C  B6 08		    mov dh, 8
 00000A4E  B2 14		    mov dl, 20
 00000A50  E8 00000000 E	    call Gotoxy
 00000A55  BA 00000F10 R	    mov edx, OFFSET levelCompleteMsg4
 00000A5A  E8 00000000 E	    call WriteString

 00000A5F  B6 09		    mov dh, 9
 00000A61  B2 14		    mov dl, 20
 00000A63  E8 00000000 E	    call Gotoxy
 00000A68  BA 00000F2E R	    mov edx, OFFSET levelCompleteMsg5
 00000A6D  E8 00000000 E	    call WriteString

 00000A72  B6 0A		    mov dh, 10
 00000A74  B2 14		    mov dl, 20
 00000A76  E8 00000000 E	    call Gotoxy
 00000A7B  BA 00000F4C R	    mov edx, OFFSET levelCompleteMsg6
 00000A80  E8 00000000 E	    call WriteString

				    
				    ; Display score
 00000A85  B6 0C		    mov dh, 12
 00000A87  B2 14		    mov dl, 20
 00000A89  E8 00000000 E	    call Gotoxy
 00000A8E  BA 00000E89 R	    mov edx, OFFSET scoreDisplay
 00000A93  E8 00000000 E	    call WriteString
 00000A98  A1 00000FC3 R	    mov eax, score
 00000A9D  E8 00000000 E	    call WriteDec

				    ; Display return option
 00000AA2  B6 0E		    mov dh, 14
 00000AA4  B2 14		    mov dl, 20
 00000AA6  E8 00000000 E	    call Gotoxy
 00000AAB  BA 00000E9C R	    mov edx, OFFSET returnOption
 00000AB0  E8 00000000 E	    call WriteString

 00000AB5			WaitForInput2:
 00000AB5  E8 00000000 E	    call ReadChar
 00000ABA  3C 31		    cmp al, '1'
 00000ABC  75 F7		    jne WaitForInput2
 00000ABE  C3			    ret

 00000ABF			Level1Screen ENDP

				;***********************************************************

 00000ABF			DrawStaticElements PROC
				    ; Draw info bar
 00000ABF  B8 0000000F		    mov eax, whiteTxt
 00000AC4  E8 00000000 E	    call SetTextColor
				    
 00000AC9  B6 00		    mov dh, 0
 00000ACB  B2 00		    mov dl, 0
 00000ACD  E8 00000000 E	    call Gotoxy
 00000AD2  BA 00000F7E R	    mov edx, OFFSET livesMsg
 00000AD7  E8 00000000 E	    call WriteString
 00000ADC  A1 00000FC7 R	    mov eax, lives
 00000AE1  E8 00000000 E	    call WriteDec

 00000AE6  B6 01		    mov dh, 1
 00000AE8  B2 00		    mov dl, 0
 00000AEA  E8 00000000 E	    call Gotoxy
 00000AEF  BA 0000009D R	    mov edx, OFFSET userName
 00000AF4  E8 00000000 E	    call WriteString

 00000AF9  B6 02		    mov dh,2
 00000AFB  B2 4B		    mov dl, 75
 00000AFD  E8 00000000 E	    call Gotoxy
 00000B02  BA 00000F86 R	    mov edx, OFFSET levelMsg
 00000B07  E8 00000000 E	    call WriteString
 00000B0C  A1 00000FCB R	    mov eax, level
 00000B11  E8 00000000 E	    call WriteDec

 00000B16  B6 04		    mov dh, 4       
 00000B18  B2 01		    mov dl, 1
 00000B1A  E8 00000000 E	    call Gotoxy
 00000B1F  BA 00000FD4 R	    mov edx, OFFSET pauseMsg
 00000B24  E8 00000000 E	    call WriteString

				    ; Draw borders and walls (your existing code)
				    ; Top border
 00000B29  B6 05		    mov dh, 5
 00000B2B  B2 00		    mov dl, 0
 00000B2D  B9 00000073		    mov ecx, 115
 00000B32  A0 00000F8E R	    mov al, wallChar
 00000B37			topBorder:
 00000B37  E8 00000000 E	    call Gotoxy
 00000B3C  E8 00000000 E	    call WriteChar
 00000B41  FE C2		    inc dl
 00000B43  E2 F2		    loop topBorder

				    ; Bottom border
 00000B45  B6 1D		    mov dh, 29
 00000B47  B2 00		    mov dl, 0
 00000B49  B9 00000073		    mov ecx, 115
 00000B4E			bottomBorder:
 00000B4E  E8 00000000 E	    call Gotoxy
 00000B53  E8 00000000 E	    call WriteChar
 00000B58  FE C2		    inc dl
 00000B5A  E2 F2		    loop bottomBorder

				    ; Left and right borders 
 00000B5C  B6 05		    mov dh, 5
 00000B5E  B9 0000001B		    mov ecx, 27        ; Height
 00000B63			sideBorders:
				    ; Left border
 00000B63  B2 00		    mov dl, 0
 00000B65  E8 00000000 E	    call Gotoxy
 00000B6A  A0 00000F8E R	    mov al, wallChar
 00000B6F  E8 00000000 E	    call WriteChar
				    ; Right border
 00000B74  B2 72		    mov dl, 114
 00000B76  E8 00000000 E	    call Gotoxy
 00000B7B  A0 00000F8E R	    mov al, wallChar
 00000B80  E8 00000000 E	    call WriteChar
 00000B85  FE C6		    inc dh
 00000B87  E2 DA		    loop sideBorders

				    ; Inner walls (your existing code)
 00000B89  E8 000001FE		    call DrawInnerWalls

				    ; Return message
 00000B8E  B6 03		    mov dh, 3
 00000B90  B2 02		    mov dl, 2
 00000B92  E8 00000000 E	    call Gotoxy
 00000B97  BA 000000CF R	    mov edx, offset returnMsg
 00000B9C  E8 00000000 E	    call WriteString
				    
 00000BA1  C3			    ret
 00000BA2			DrawStaticElements ENDP
				;...........................................
 00000BA2			DrawGameElements PROC
				    ; Draw pellets
 00000BA2  B8 00000005		    mov eax, purpleTxt
 00000BA7  E8 00000000 E	    call SetTextColor
 00000BAC  BE 00000F97 R	    mov esi, OFFSET pelletPositions
 00000BB1  B9 00000014		    mov ecx, 20

 00000BB6			DrawPellets:
 00000BB6  80 3E 00		    cmp byte ptr [esi], 0  ; Skip if pellet collected
 00000BB9  74 14		    je SkipPellet
				    
 00000BBB  8A 16		    mov dl, [esi]    ; X
 00000BBD  8A 76 01		    mov dh, [esi+1]  ; Y
 00000BC0  E8 00000000 E	    call Gotoxy
 00000BC5  A0 00000F90 R	    mov al, pelletChar
 00000BCA  E8 00000000 E	    call WriteChar

 00000BCF			SkipPellet:
 00000BCF  83 C6 02		    add esi, 2
 00000BD2  E2 E2		    loop DrawPellets

				    ; Draw Pac-Man
 00000BD4  B8 0000000F		    mov eax, whiteTxt
 00000BD9  E8 00000000 E	    call SetTextColor
 00000BDE  8A 15 00000FBF R	    mov dl, pacmanX
 00000BE4  8A 35 00000FC0 R	    mov dh, pacmanY
 00000BEA  E8 00000000 E	    call Gotoxy
 00000BEF  A0 00000F92 R	    mov al, pacmanChar
 00000BF4  E8 00000000 E	    call WriteChar

				    ; Draw Ghost
 00000BF9  8A 15 00000FC1 R	    mov dl, ghostX
 00000BFF  8A 35 00000FC2 R	    mov dh, ghostY
 00000C05  E8 00000000 E	    call Gotoxy
 00000C0A  A0 00000F94 R	    mov al, ghostChar
 00000C0F  E8 00000000 E	    call WriteChar

 00000C14  C3			    ret
 00000C15			DrawGameElements ENDP
				;...........................................
 00000C15			InitializePellets PROC
 00000C15  60			    pushad
 00000C16  B9 00000014		    mov ecx, 20
 00000C1B  BE 00000F97 R	    mov esi, OFFSET pelletPositions

 00000C20			PlacePellet:
				    ; Generate random position within play area
 00000C20  B8 00000071		    mov eax, 113    
 00000C25  E8 00000000 E	    call RandomRange
 00000C2A  40			    inc eax          ; X = 1-114
 00000C2B  88 06		    mov [esi], al    ; Store X
				    
 00000C2D  B8 00000017		    mov eax, 23      ; Max Y (29-6)
 00000C32  E8 00000000 E	    call RandomRange
 00000C37  83 C0 06		    add eax, 6       ; Y = 6-29
 00000C3A  88 46 01		    mov [esi+1], al  ; Store Y

				    ; Check if position is valid (not on wall)
 00000C3D  8A 16		    mov dl, [esi]
 00000C3F  8A 76 01		    mov dh, [esi+1]
 00000C42  E8 00000009		    call CheckWallPosition
 00000C47  72 D7		    jc PlacePellet  ; If invalid, try again

 00000C49  83 C6 02		    add esi, 2
 00000C4C  E2 D2		    loop PlacePellet

 00000C4E  61			    popad
 00000C4F  C3			    ret
 00000C50			InitializePellets ENDP
				;..........................................
 00000C50			CheckWallPosition PROC
				    ; Checks if position (dl=X, dh=Y) is a wall
				    ; Returns CF=1 if wall, CF=0 if empty
				    
				    ; Check borders
 00000C50  80 FA 00		    cmp dl, 0
 00000C53  0F 84 000000BD	    je IsWall
 00000C59  80 FA 72		    cmp dl, 114
 00000C5C  0F 84 000000B4	    je IsWall
 00000C62  80 FE 05		    cmp dh, 5
 00000C65  0F 84 000000AB	    je IsWall
 00000C6B  80 FE 1D		    cmp dh, 29
 00000C6E  0F 84 000000A2	    je IsWall

				    ; Check inner walls (based on your DrawInnerWalls)
				    
				    ; Horizontal wall at Y=10, X=20-34
 00000C74  80 FE 0A		    cmp dh, 10
 00000C77  75 0F		    jne NotWall1
 00000C79  80 FA 14		    cmp dl, 20
 00000C7C  72 0A		    jb NotWall1
 00000C7E  80 FA 22		    cmp dl, 34
 00000C81  77 05		    ja NotWall1
 00000C83  E9 0000008E		    jmp IsWall

 00000C88			NotWall1:
				    ; Horizontal wall at Y=10, X=70-84
 00000C88  80 FE 0A		    cmp dh, 10
 00000C8B  75 0C		    jne NotWall2
 00000C8D  80 FA 46		    cmp dl, 70
 00000C90  72 07		    jb NotWall2
 00000C92  80 FA 54		    cmp dl, 84
 00000C95  77 02		    ja NotWall2
 00000C97  EB 7D		    jmp IsWall

 00000C99			NotWall2:
				    ; Horizontal walls at Y=14
 00000C99  80 FE 0E		    cmp dh, 14
 00000C9C  75 3C		    jne NotWall3
				    ; X=15-22
 00000C9E  80 FA 0F		    cmp dl, 15
 00000CA1  72 07		    jb NotWall3a
 00000CA3  80 FA 16		    cmp dl, 22
 00000CA6  77 02		    ja NotWall3a
 00000CA8  EB 6C		    jmp IsWall
 00000CAA			NotWall3a:
				    ; X=35-42
 00000CAA  80 FA 23		    cmp dl, 35
 00000CAD  72 07		    jb NotWall3b
 00000CAF  80 FA 2A		    cmp dl, 42
 00000CB2  77 02		    ja NotWall3b
 00000CB4  EB 60		    jmp IsWall
 00000CB6			NotWall3b:
				    ; X=55-62
 00000CB6  80 FA 37		    cmp dl, 55
 00000CB9  72 07		    jb NotWall3c
 00000CBB  80 FA 3E		    cmp dl, 62
 00000CBE  77 02		    ja NotWall3c
 00000CC0  EB 54		    jmp IsWall
 00000CC2			NotWall3c:
				    ; X=75-82
 00000CC2  80 FA 4B		    cmp dl, 75
 00000CC5  72 07		    jb NotWall3d
 00000CC7  80 FA 52		    cmp dl, 82
 00000CCA  77 02		    ja NotWall3d
 00000CCC  EB 48		    jmp IsWall
 00000CCE			NotWall3d:
				    ; X=95-102
 00000CCE  80 FA 5F		    cmp dl, 95
 00000CD1  72 07		    jb NotWall3
 00000CD3  80 FA 66		    cmp dl, 102
 00000CD6  77 02		    ja NotWall3
 00000CD8  EB 3C		    jmp IsWall

 00000CDA			NotWall3:
				    ; Horizontal walls at Y=17
 00000CDA  80 FE 11		    cmp dh, 17
 00000CDD  75 18		    jne NotWall4
				    ; X=30-39
 00000CDF  80 FA 1E		    cmp dl, 30
 00000CE2  72 07		    jb NotWall4a
 00000CE4  80 FA 27		    cmp dl, 39
 00000CE7  77 02		    ja NotWall4a
 00000CE9  EB 2B		    jmp IsWall
 00000CEB			NotWall4a:
				    ; X=80-89
 00000CEB  80 FA 50		    cmp dl, 80
 00000CEE  72 07		    jb NotWall4
 00000CF0  80 FA 59		    cmp dl, 89
 00000CF3  77 02		    ja NotWall4
 00000CF5  EB 1F		    jmp IsWall

 00000CF7			NotWall4:
				    ; Horizontal walls at Y=22
 00000CF7  80 FE 16		    cmp dh, 22
 00000CFA  75 18		    jne NotWall
				    ; X=25-44
 00000CFC  80 FA 19		    cmp dl, 25
 00000CFF  72 07		    jb NotWall5a
 00000D01  80 FA 2C		    cmp dl, 44
 00000D04  77 02		    ja NotWall5a
 00000D06  EB 0E		    jmp IsWall
 00000D08			NotWall5a:
				    ; X=85-104
 00000D08  80 FA 55		    cmp dl, 85
 00000D0B  72 07		    jb NotWall
 00000D0D  80 FA 68		    cmp dl, 104
 00000D10  77 02		    ja NotWall
 00000D12  EB 02		    jmp IsWall

 00000D14			NotWall:
 00000D14  F8			    clc
 00000D15  C3			    ret
 00000D16			IsWall:
 00000D16  F9			    stc
 00000D17  C3			    ret
 00000D18			CheckWallPosition ENDP
				;...........................................
 00000D18			CheckWallCollision PROC
				    ; Checks if Pac-Man's current position is a wall
				    ; Returns CF=1 if collision
 00000D18  8A 15 00000FBF R	    mov dl, pacmanX
 00000D1E  8A 35 00000FC0 R	    mov dh, pacmanY
 00000D24  E8 FFFFFF27		    call CheckWallPosition
 00000D29  C3			    ret
 00000D2A			CheckWallCollision ENDP
				;.........................................
 00000D2A			CheckPelletCollision PROC
 00000D2A  60			    pushad
 00000D2B  BE 00000F97 R	    mov esi, OFFSET pelletPositions
 00000D30  B9 00000014		    mov ecx, 20

 00000D35			CheckPellets:
 00000D35  80 3E 00		    cmp byte ptr [esi], 0  ; Skip if pellet already collected
 00000D38  74 4B		    je NextPellet
				    
 00000D3A  8A 06		    mov al, [esi]    ; Pellet X
 00000D3C  3A 05 00000FBF R	    cmp al, pacmanX
 00000D42  75 41		    jne NextPellet
				    
 00000D44  8A 46 01		    mov al, [esi+1]  ; Pellet Y
 00000D47  3A 05 00000FC0 R	    cmp al, pacmanY
 00000D4D  75 36		    jne NextPellet

				    ; Pac-Man is on this pellet!
 00000D4F  C6 06 00		    mov byte ptr [esi], 0  ; Remove pellet
 00000D52  FF 05 00000FC3 R	    inc score
 00000D58  FE 0D 00000F96 R	    dec pelletCount

				    ; Update score display
 00000D5E  B8 0000000F		    mov eax, whiteTxt
 00000D63  E8 00000000 E	    call SetTextColor
 00000D68  B6 01		    mov dh, 1
 00000D6A  B2 37		    mov dl, 55
 00000D6C  E8 00000000 E	    call Gotoxy
 00000D71  BA 00000F76 R	    mov edx, OFFSET scoreMsg
 00000D76  E8 00000000 E	    call WriteString
 00000D7B  A1 00000FC3 R	    mov eax, score
 00000D80  E8 00000000 E	    call WriteDec

 00000D85			NextPellet:
 00000D85  83 C6 02		    add esi, 2
 00000D88  E2 AB		    loop CheckPellets

 00000D8A  61			    popad
 00000D8B  C3			    ret
 00000D8C			CheckPelletCollision ENDP

				;.....................................
 00000D8C			DrawInnerWalls PROC
 00000D8C  B6 0A		    mov dh, 10
 00000D8E  B2 14		    mov dl, 20
 00000D90  B9 0000000F		    mov ecx, 15
 00000D95  E8 00000061		    call DrawWall
 00000D9A  B2 46		    mov dl, 70
 00000D9C  B9 0000000F		    mov ecx, 15
 00000DA1  E8 00000055		    call DrawWall

 00000DA6  B6 0E		    mov dh, 14
 00000DA8  B2 0F		    mov dl, 15
 00000DAA  B9 00000008		    mov ecx, 8
 00000DAF  E8 00000047		    call DrawWall
 00000DB4  B2 23		    mov dl, 35
 00000DB6  E8 00000040		    call DrawWall
 00000DBB  B2 37		    mov dl, 55
 00000DBD  E8 00000039		    call DrawWall
 00000DC2  B2 4B		    mov dl, 75
 00000DC4  E8 00000032		    call DrawWall
 00000DC9  B2 5F		    mov dl, 95
 00000DCB  E8 0000002B		    call DrawWall

 00000DD0  B6 11		    mov dh, 17
 00000DD2  B2 1E		    mov dl, 30
 00000DD4  B9 0000000A		    mov ecx, 10
 00000DD9  E8 0000001D		    call DrawWall
 00000DDE  B2 50		    mov dl, 80
 00000DE0  E8 00000016		    call DrawWall

 00000DE5  B6 16		    mov dh, 22
 00000DE7  B2 19		    mov dl, 25
 00000DE9  B9 00000014		    mov ecx, 20
 00000DEE  E8 00000008		    call DrawWall
 00000DF3  B2 55		    mov dl, 85
 00000DF5  E8 00000001		    call DrawWall
 00000DFA  C3			    ret
 00000DFB			DrawInnerWalls ENDP
				;.................................................
 00000DFB			DrawWall PROC
 00000DFB  51			    push ecx
 00000DFC			wallLoop:
 00000DFC  E8 00000000 E	    call Gotoxy
 00000E01  A0 00000F8E R	    mov al, wallChar
 00000E06  E8 00000000 E	    call WriteChar
 00000E0B  FE C2		    inc dl
 00000E0D  E2 ED		    loop wallLoop
 00000E0F  59			    pop ecx
 00000E10  C3			    ret
 00000E11			DrawWall ENDP
				;....................................................
 00000E11			ClearOldPositions PROC
				    ; Clear old Pac-Man position
 00000E11  B8 00000000		    mov eax, blackTxt
 00000E16  E8 00000000 E	    call SetTextColor
 00000E1B  8A 15 00000FCF R	    mov dl, oldPacmanX
 00000E21  8A 35 00000FD0 R	    mov dh, oldPacmanY
 00000E27  E8 00000000 E	    call Gotoxy
 00000E2C  A0 00000F8F R	    mov al, emptyChar
 00000E31  E8 00000000 E	    call WriteChar
				    
				    ; Clear old ghost position
 00000E36  8A 15 00000FD2 R	    mov dl, oldGhostX
 00000E3C  8A 35 00000FD3 R	    mov dh, oldGhostY
 00000E42  E8 00000000 E	    call Gotoxy
 00000E47  A0 00000F8F R	    mov al, emptyChar
 00000E4C  E8 00000000 E	    call WriteChar
 00000E51  C3			    ret
 00000E52			ClearOldPositions ENDP
				;.................................................
 00000E52			GhostMovement PROC
 00000E52  A0 00000FC1 R	    mov al, ghostX
 00000E57  A2 00000FD2 R	    mov oldGhostX, al
 00000E5C  A0 00000FC2 R	    mov al, ghostY
 00000E61  A2 00000FD3 R	    mov oldGhostY, al
				    
				    ; 70% chance to move toward Pac-Man, 30% random
 00000E66  E8 00000000 E	    call Randomize
 00000E6B  B8 0000000A		    mov eax, 10
 00000E70  E8 00000000 E	    call RandomRange
 00000E75  83 F8 07		    cmp eax, 7  ; 0-2 = random (30%), 3-9 = toward (70%)
 00000E78  72 5E		    jb RandomMove
				    
				    ; Move toward Pac-Man
 00000E7A  8A 1D 00000FBF R	    mov bl, pacmanX
 00000E80  8A 3D 00000FC0 R	    mov bh, pacmanY
				    
 00000E86  38 1D 00000FC1 R	    cmp ghostX, bl
 00000E8C  7C 0E		    jl MoveGhostRight
 00000E8E  7F 1E		    jg MoveGhostLeft
 00000E90  38 3D 00000FC2 R	    cmp ghostY, bh
 00000E96  7C 32		    jl MoveGhostDown
 00000E98  7F 22		    jg MoveGhostUp
 00000E9A  EB 3C		    jmp RandomMove

 00000E9C			MoveGhostRight:
 00000E9C  FE 05 00000FC1 R	    inc ghostX
 00000EA2  E8 0000009D		    call CheckGhostWallCollision
 00000EA7  0F 82 00000082	    jc UndoGhostMove
 00000EAD  C3			    ret
 00000EAE			MoveGhostLeft:
 00000EAE  FE 0D 00000FC1 R	    dec ghostX
 00000EB4  E8 0000008B		    call CheckGhostWallCollision
 00000EB9  72 74		    jc UndoGhostMove
 00000EBB  C3			    ret
 00000EBC			MoveGhostUp:
 00000EBC  FE 0D 00000FC2 R	    dec ghostY
 00000EC2  E8 0000007D		    call CheckGhostWallCollision
 00000EC7  72 66		    jc UndoGhostMove
 00000EC9  C3			    ret
 00000ECA			MoveGhostDown:
 00000ECA  FE 05 00000FC2 R	    inc ghostY
 00000ED0  E8 0000006F		    call CheckGhostWallCollision
 00000ED5  72 58		    jc UndoGhostMove
 00000ED7  C3			    ret

 00000ED8			RandomMove:
				    ; Random direction (1-4)
 00000ED8  B8 00000004		    mov eax, 4
 00000EDD  E8 00000000 E	    call RandomRange
 00000EE2  40			    inc eax
				    
 00000EE3  83 F8 01		    cmp eax, 1
 00000EE6  74 0F		    je TryRight
 00000EE8  83 F8 02		    cmp eax, 2
 00000EEB  74 18		    je TryLeft
 00000EED  83 F8 03		    cmp eax, 3
 00000EF0  74 21		    je TryUp
 00000EF2  83 F8 04		    cmp eax, 4
 00000EF5  74 2A		    je TryDown

 00000EF7			TryRight:
 00000EF7  FE 05 00000FC1 R	    inc ghostX
 00000EFD  E8 00000042		    call CheckGhostWallCollision
 00000F02  72 2B		    jc UndoGhostMove
 00000F04  C3			    ret
 00000F05			TryLeft:
 00000F05  FE 0D 00000FC1 R	    dec ghostX
 00000F0B  E8 00000034		    call CheckGhostWallCollision
 00000F10  72 1D		    jc UndoGhostMove
 00000F12  C3			    ret
 00000F13			TryUp:
 00000F13  FE 0D 00000FC2 R	    dec ghostY
 00000F19  E8 00000026		    call CheckGhostWallCollision
 00000F1E  72 0F		    jc UndoGhostMove
 00000F20  C3			    ret
 00000F21			TryDown:
 00000F21  FE 05 00000FC2 R	    inc ghostY
 00000F27  E8 00000018		    call CheckGhostWallCollision
 00000F2C  72 01		    jc UndoGhostMove
 00000F2E  C3			    ret

 00000F2F			UndoGhostMove:
 00000F2F  A0 00000FD2 R	    mov al, oldGhostX
 00000F34  A2 00000FC1 R	    mov ghostX, al
 00000F39  A0 00000FD3 R	    mov al, oldGhostY
 00000F3E  A2 00000FC2 R	    mov ghostY, al
 00000F43  C3			    ret
 00000F44			GhostMovement ENDP
				;.......................................
 00000F44			CheckGhostWallCollision PROC
 00000F44  8A 15 00000FC1 R	    mov dl, ghostX
 00000F4A  8A 35 00000FC2 R	    mov dh, ghostY
 00000F50  E8 FFFFFCFB		    call CheckWallPosition
 00000F55  C3			    ret
 00000F56			CheckGhostWallCollision ENDP
				;............................................
 00000F56			CheckGhostCollision PROC
				    ; Check X proximity (pacmanX - ghostX <= 1)
 00000F56  A0 00000FBF R	    mov al, pacmanX
 00000F5B  2A 05 00000FC1 R	    sub al, ghostX
 00000F61  3C FF		    cmp al, -1
 00000F63  0F 8C 00000083	    jl NoCollisionX
 00000F69  3C 01		    cmp al, 1
 00000F6B  7F 7F		    jg NoCollisionX

				    ; Check Y proximity
 00000F6D  A0 00000FC0 R	    mov al, pacmanY
 00000F72  2A 05 00000FC2 R	    sub al, ghostY
 00000F78  3C FF		    cmp al, -1
 00000F7A  7C 70		    jl NoCollision
 00000F7C  3C 01		    cmp al, 1
 00000F7E  7F 6C		    jg NoCollision

				    ; Close enough in both X and Y  COLLISION
 00000F80  FF 0D 00000FC7 R	    dec lives

				    ; Update lives display
 00000F86  B8 0000000F		    mov eax, whiteTxt
 00000F8B  E8 00000000 E	    call SetTextColor
 00000F90  B6 00		    mov dh, 0
 00000F92  B2 07		    mov dl, 7
 00000F94  E8 00000000 E	    call Gotoxy
 00000F99  A1 00000FC7 R	    mov eax, lives
 00000F9E  0F B6 C0		    movzx eax, al
 00000FA1  E8 00000000 E	    call WriteDec

				    ; Clear ghost from screen
 00000FA6  8A 15 00000FC1 R	    mov dl, ghostX
 00000FAC  8A 35 00000FC2 R	    mov dh, ghostY
 00000FB2  E8 00000000 E	    call Gotoxy
 00000FB7  A0 00000F8F R	    mov al, emptyChar
 00000FBC  E8 00000000 E	    call WriteChar

				    ; Reset positions
 00000FC1  C6 05 00000FBF R	    mov pacmanX, 10
	   0A
 00000FC8  C6 05 00000FC0 R	    mov pacmanY, 15
	   0F
 00000FCF  C6 05 00000FC1 R	    mov ghostX, 50
	   32
 00000FD6  C6 05 00000FC2 R	    mov ghostY, 15
	   0F

 00000FDD  83 3D 00000FC7 R	    cmp lives, 0
	   00
 00000FE4  7E 0C		    jle GameOver

 00000FE6  B8 00000000		    mov eax, 0
 00000FEB  C3			    ret

 00000FEC			NoCollisionX:
 00000FEC			NoCollision:
 00000FEC  B8 00000000		    mov eax, 0
 00000FF1  C3			    ret

 00000FF2			GameOver:
 00000FF2  B8 00000001		    mov eax, 1
 00000FF7  C3			    ret
 00000FF8			CheckGhostCollision ENDP

				; ==================== FILE HANDLING PROCEDURES ====================


				; Save current score to file
 00000FF8			saveScore PROC
 00000FF8  60			    pushad
				    
				    ; Prepare data for writing
 00000FF9  BE 0000009D R	    mov esi, OFFSET userName
 00000FFE  BF 00001420 R	    mov edi, OFFSET tempBuffer
 00001003  E8 00000153		    call CopyStringToBuffer
				    
				    ; Add comma
 00001008  B0 2C		    mov al, ','
 0000100A  88 07		    mov [edi], al
 0000100C  47			    inc edi
				    
				    ; Convert score to string
 0000100D  A1 00000FC3 R	    mov eax, score
 00001012  E8 0000011F		    call ConvertNumberToString
				    
				    ; Add comma
 00001017  B0 2C		    mov al, ','
 00001019  88 07		    mov [edi], al
 0000101B  47			    inc edi
				    
				    ; Convert level to string
 0000101C  0F B6 05		    movzx eax, currentLevel
	   00000F6C R
 00001023  E8 0000010E		    call ConvertNumberToString
				    
				    ; Add newline
 00001028  B0 0D		    mov al, 0Dh
 0000102A  88 07		    mov [edi], al
 0000102C  47			    inc edi
 0000102D  B0 0A		    mov al, 0Ah
 0000102F  88 07		    mov [edi], al
 00001031  47			    inc edi
				    
				    ; Open/Create file
 00001032  BA 0000100D R	    mov edx, OFFSET filename
 00001037  E8 00000000 E	    call OpenInputFile
 0000103C  83 F8 FF		    cmp eax, INVALID_HANDLE_VALUE
 0000103F  74 16		    je CreateNew
				    
				    ; File exists - close and reopen for append
 00001041  A3 00001018 R	    mov fileHandle, eax
 00001046  E8 00000000 E	    call CloseFile
 0000104B  BA 0000100D R	    mov edx, OFFSET filename
 00001050  E8 00000000 E	    call CreateOutputFile
 00001055  EB 0A		    jmp FileReady
				    
 00001057			CreateNew:
 00001057  BA 0000100D R	    mov edx, OFFSET filename
 0000105C  E8 00000000 E	    call CreateOutputFile
				    
 00001061			FileReady:
 00001061  A3 00001018 R	    mov fileHandle, eax
 00001066  83 F8 FF		    cmp eax, INVALID_HANDLE_VALUE
 00001069  74 0E		    je ErrorExit
				    
				    ; Write the prepared buffer
 0000106B  BA 00001420 R	    mov edx, OFFSET tempBuffer
 00001070  8B CF		    mov ecx, edi
 00001072  2B CA		    sub ecx, edx
 00001074  E8 00000000 E	    call WriteToFile
				    
 00001079			ErrorExit:
 00001079  A1 00001018 R	    mov eax, fileHandle
 0000107E  E8 00000000 E	    call CloseFile
 00001083  61			    popad
 00001084  C3			    ret
 00001085			saveScore ENDP

				; Read scores from file
 00001085			readScoresFromFile PROC
 00001085  60			    pushad

 00001086  BA 0000100D R	    mov edx, OFFSET filename
 0000108B  E8 00000000 E	    call OpenInputFile
 00001090  83 F8 FF		    cmp eax, INVALID_HANDLE_VALUE
 00001093  74 28		    je Done

 00001095  A3 00001018 R	    mov fileHandle, eax
 0000109A  BA 00001020 R	    mov edx, OFFSET fileBuffer
 0000109F  B9 00000400		    mov ecx, BUFFER_SIZE
 000010A4  E8 00000000 E	    call ReadFromFile
 000010A9  A3 0000101C R	    mov bytesRead, eax

				    ; Parse the file buffer
 000010AE  BE 00001020 R	    mov esi, OFFSET fileBuffer
 000010B3  BF 00000000		    mov edi, 0
 000010B8  E8 0000000C		    call ParseScoreData

 000010BD			Done:
 000010BD  A1 00001018 R	    mov eax, fileHandle
 000010C2  E8 00000000 E	    call CloseFile
 000010C7  61			    popad
 000010C8  C3			    ret
 000010C9			readScoresFromFile ENDP

				; Helper procedure to parse score data
 000010C9			ParseScoreData PROC
 000010C9			ParseLoop:
 000010C9  83 FF 0A		    cmp edi, MAX_SCORES
 000010CC  7D 24		    jge DoneReading

				    ; Read name
 000010CE  8B DF		    mov ebx, edi
 000010D0  6B DB 10		    imul ebx, MAX_NAME_LEN
 000010D3  E8 00000021		    call ReadName

				    ; Read score
 000010D8  E8 00000038		    call ReadNumber
 000010DD  89 04 BD		    mov scores[edi*4], eax
	   00001825 R

				    ; Read level
 000010E4  E8 0000002C		    call ReadNumber
 000010E9  88 87 000018ED R	    mov levels[edi], al

 000010EF  47			    inc edi
 000010F0  EB D7		    jmp ParseLoop

 000010F2			DoneReading:
 000010F2  89 3D 000018F7 R	    mov scoreCount, edi
 000010F8  C3			    ret
 000010F9			ParseScoreData ENDP

				; Helper to read a name from buffer
 000010F9			ReadName PROC
 000010F9  33 C9		    xor ecx, ecx
 000010FB			ReadNameChar:
 000010FB  8A 06		    mov al, [esi]
 000010FD  3C 2C		    cmp al, ','
 000010FF  74 0B		    je StoreName
 00001101  88 83 0000184D R	    mov names[ebx], al
 00001107  43			    inc ebx
 00001108  41			    inc ecx
 00001109  46			    inc esi
 0000110A  EB EF		    jmp ReadNameChar
 0000110C			StoreName:
 0000110C  C6 83 0000184D R	    mov names[ebx], 0
	   00
 00001113  46			    inc esi
 00001114  C3			    ret
 00001115			ReadName ENDP

				; Helper to read a number from buffer
 00001115			ReadNumber PROC
 00001115  33 C0		    xor eax, eax
 00001117			ReadDigit:
 00001117  8A 1E		    mov bl, [esi]
 00001119  80 FB 2C		    cmp bl, ','
 0000111C  74 10		    je NumberDone
 0000111E  80 FB 0D		    cmp bl, 0Dh
 00001121  74 0B		    je NumberDone
 00001123  80 EB 30		    sub bl, '0'
 00001126  6B C0 0A		    imul eax, 10
 00001129  03 C3		    add eax, ebx
 0000112B  46			    inc esi
 0000112C  EB E9		    jmp ReadDigit
 0000112E			NumberDone:
 0000112E  46			    inc esi
 0000112F  80 FB 0D		    cmp bl, 0Dh
 00001132  75 01		    jne Return
 00001134  46			    inc esi  ; Skip LF
 00001135			Return:
 00001135  C3			    ret
 00001136			ReadNumber ENDP

				; Helper to convert number to string
 00001136			ConvertNumberToString PROC
 00001136  53			    push ebx
 00001137  52			    push edx
 00001138  51			    push ecx
				    
 00001139  BB 0000000A		    mov ebx, 10
 0000113E  33 C9		    xor ecx, ecx
				    
 00001140			DivLoop:
 00001140  33 D2		    xor edx, edx
 00001142  F7 F3		    div ebx
 00001144  66| 52		    push dx
 00001146  66| 41		    inc cx
 00001148  85 C0		    test eax, eax
 0000114A  75 F4		    jnz DivLoop
				    
 0000114C			WriteDigits:
 0000114C  66| 58		    pop ax
 0000114E  04 30		    add al, '0'
 00001150  88 07		    mov [edi], al
 00001152  47			    inc edi
 00001153  66| 49		    dec cx
 00001155  75 F5		    jnz WriteDigits
				    
 00001157  59			    pop ecx
 00001158  5A			    pop edx
 00001159  5B			    pop ebx
 0000115A  C3			    ret
 0000115B			ConvertNumberToString ENDP

				; Helper to copy string to buffer
 0000115B			CopyStringToBuffer PROC
 0000115B			CopyChar:
 0000115B  8A 06		    mov al, [esi]
 0000115D  88 07		    mov [edi], al
 0000115F  46			    inc esi
 00001160  47			    inc edi
 00001161  84 C0		    test al, al
 00001163  75 F6		    jnz CopyChar
 00001165  4F			    dec edi  ; Back up over null terminator
 00001166  C3			    ret
 00001167			CopyStringToBuffer ENDP

				; Add new score to arrays
 00001167			addNewScore PROC
 00001167  60			    pushad
 00001168  A1 000018F7 R	    mov eax, scoreCount
 0000116D  83 F8 0A		    cmp eax, MAX_SCORES
 00001170  7D 3A		    jge SkipAdd

				    ; Copy name
 00001172  B9 00000010		    mov ecx, MAX_NAME_LEN
 00001177  BE 0000009D R	    mov esi, OFFSET userName
 0000117C  8B F8		    mov edi, eax
 0000117E  6B FF 10		    imul edi, MAX_NAME_LEN
 00001181  81 C7 0000184D R	    add edi, OFFSET names
 00001187  F3/ A4		    rep movsb

				    ; Store score and level
 00001189  8B 1D 000018F7 R	    mov ebx, scoreCount
 0000118F  A1 00000FC3 R	    mov eax, score
 00001194  89 04 9D		    mov scores[ebx*4], eax
	   00001825 R
 0000119B  A0 00000F6C R	    mov al, currentLevel
 000011A0  88 83 000018ED R	    mov levels[ebx], al

 000011A6  FF 05 000018F7 R	    inc scoreCount
 000011AC			SkipAdd:
 000011AC  61			    popad
 000011AD  C3			    ret
 000011AE			addNewScore ENDP

				; Sort scores in descending order
 000011AE			sortScores PROC
 000011AE  60			    pushad
				    
 000011AF  8B 0D 000018F7 R	    mov ecx, scoreCount
 000011B5  49			    dec ecx
 000011B6  7E 66		    jle DoneSorting
				    
 000011B8			OuterLoop:
 000011B8  51			    push ecx
 000011B9  BE 00000000		    mov esi, 0
				    
 000011BE			InnerLoop:
 000011BE  8B 04 B5		    mov eax, scores[esi*4]
	   00001825 R
 000011C5  3B 04 B5		    cmp eax, scores[esi*4 + 4]
	   00001829 R
 000011CC  7D 48		    jge NoSwap
				    
				    ; Swap scores
 000011CE  8B 14 B5		    mov edx, scores[esi*4 + 4]
	   00001829 R
 000011D5  89 14 B5		    mov scores[esi*4], edx
	   00001825 R
 000011DC  89 04 B5		    mov scores[esi*4 + 4], eax
	   00001829 R
				    
				    ; Swap names
 000011E3  56			    push esi
 000011E4  6B F6 10		    imul esi, MAX_NAME_LEN
 000011E7  8D BE 0000184D R	    lea edi, names[esi]
 000011ED  8D B6 0000185D R	    lea esi, names[esi + MAX_NAME_LEN]
 000011F3  B9 00000010		    mov ecx, MAX_NAME_LEN
 000011F8  E8 00000023		    call SwapMemory
				    
				    ; Swap levels
 000011FD  5E			    pop esi
 000011FE  8A 86 000018ED R	    mov al, levels[esi]
 00001204  8A 9E 000018EE R	    mov bl, levels[esi+1]
 0000120A  88 86 000018EE R	    mov levels[esi+1], al
 00001210  88 9E 000018ED R	    mov levels[esi], bl
				    
 00001216			NoSwap:
 00001216  46			    inc esi
 00001217  49			    dec ecx
 00001218  75 A4		    jnz InnerLoop
				    
 0000121A  59			    pop ecx
 0000121B  49			    dec ecx
 0000121C  75 9A		    jnz OuterLoop
				    
 0000121E			DoneSorting:
 0000121E  61			    popad
 0000121F  C3			    ret
 00001220			sortScores ENDP

				; Helper to swap memory blocks
 00001220			SwapMemory PROC
 00001220			SwapByte:
 00001220  8A 07		    mov al, [edi]
 00001222  8A 1E		    mov bl, [esi]
 00001224  88 06		    mov [esi], al
 00001226  88 1F		    mov [edi], bl
 00001228  47			    inc edi
 00001229  46			    inc esi
 0000122A  E2 F4		    loop SwapByte
 0000122C  C3			    ret
 0000122D			SwapMemory ENDP

				; Write all scores to file
 0000122D			writeAllScoresToFile PROC
 0000122D  60			    pushad
 0000122E  BA 0000100D R	    mov edx, OFFSET filename
 00001233  E8 00000000 E	    call CreateOutputFile
 00001238  A3 00001018 R	    mov fileHandle, eax

 0000123D  8B 0D 000018F7 R	    mov ecx, scoreCount
 00001243  BE 00000000		    mov esi, 0
 00001248			WriteLoop:
				    ; Prepare record in tempBuffer
 00001248  BF 00001420 R	    mov edi, OFFSET tempBuffer
				    
				    ; Write name
 0000124D  8B C6		    mov eax, esi
 0000124F  6B C0 10		    imul eax, MAX_NAME_LEN
 00001252  05 0000184D R	    add eax, OFFSET names
 00001257  8B F0		    mov esi, eax
 00001259  E8 FFFFFEFD		    call CopyStringToBuffer
 0000125E  8B F0		    mov esi, eax
				    
				    ; Add comma
 00001260  B0 2C		    mov al, ','
 00001262  88 07		    mov [edi], al
 00001264  47			    inc edi
				    
				    ; Write score
 00001265  8B 04 B5		    mov eax, scores[esi*4]
	   00001825 R
 0000126C  E8 FFFFFEC5		    call ConvertNumberToString
				    
				    ; Add comma
 00001271  B0 2C		    mov al, ','
 00001273  88 07		    mov [edi], al
 00001275  47			    inc edi
				    
				    ; Write level
 00001276  0F B6 86		    movzx eax, levels[esi]
	   000018ED R
 0000127D  E8 FFFFFEB4		    call ConvertNumberToString
				    
				    ; Add newline
 00001282  B0 0D		    mov al, 0Dh
 00001284  88 07		    mov [edi], al
 00001286  47			    inc edi
 00001287  B0 0A		    mov al, 0Ah
 00001289  88 07		    mov [edi], al
 0000128B  47			    inc edi
				    
				    ; Write record to file
 0000128C  BA 00001420 R	    mov edx, OFFSET tempBuffer
 00001291  8B CF		    mov ecx, edi
 00001293  2B CA		    sub ecx, edx
 00001295  E8 00000000 E	    call WriteToFile
				    
 0000129A  46			    inc esi
 0000129B  49			    dec ecx
 0000129C  75 AA		    jnz WriteLoop

 0000129E  A1 00001018 R	    mov eax, fileHandle
 000012A3  E8 00000000 E	    call CloseFile
 000012A8  61			    popad
 000012A9  C3			    ret
 000012AA			writeAllScoresToFile ENDP

				; Helper procedure to write string to file
 000012AA			WriteStringToFile PROC
 000012AA  60			    pushad
 000012AB  B9 00000000		    mov ecx, 0
 000012B0			NextChar:
 000012B0  8A 04 0A		    mov al, [edx + ecx]
 000012B3  3C 00		    cmp al, 0
 000012B5  74 03		    je WriteStr
 000012B7  41			    inc ecx
 000012B8  EB F6		    jmp NextChar
 000012BA			WriteStr:
 000012BA  E8 00000000 E	    call WriteToFile
 000012BF  61			    popad
 000012C0  C3			    ret
 000012C1			WriteStringToFile ENDP
				; ============================================================
 000012C1			Level2Screen PROC
 000012C1  E8 00000000 E	    call Clrscr
 000012C6  E8 FFFFED74		    call levelSound

				    ; Initialize game state
 000012CB  C6 05 00000FBF R	    mov pacmanX, 10
	   0A
 000012D2  C6 05 00000FC0 R	    mov pacmanY, 15
	   0F
 000012D9  C6 05 00000FCF R	    mov oldPacmanX, 10     
	   0A
 000012E0  C6 05 00000FD0 R	    mov oldPacmanY, 15
	   0F
				    
				    ; Initialize both ghosts
 000012E7  C6 05 00000FC1 R	    mov ghostX, 50
	   32
 000012EE  C6 05 00000FC2 R	    mov ghostY, 15
	   0F
 000012F5  C6 05 00000FD2 R	    mov oldGhostX, 50
	   32
 000012FC  C6 05 00000FD3 R	    mov oldGhostY, 15
	   0F
 00001303  C6 05 00001976 R	    mov ghost2X, 70
	   46
 0000130A  C6 05 00001977 R	    mov ghost2Y, 15
	   0F
 00001311  C6 05 00001978 R	    mov oldGhost2X, 70
	   46
 00001318  C6 05 00001979 R	    mov oldGhost2Y, 15
	   0F
				    
 0000131F  C7 05 00000FC3 R	    mov score, 0
	   00000000
 00001329  C6 05 00000F96 R	    mov pelletCount, 20
	   14
 00001330  C6 05 0000100B R	    mov gamePaused, 0    
	   00
 00001337  C6 05 00000F6C R	    mov currentLevel, 2
	   02
				    
				    ; Initialize fruits as inactive
 0000133E  C6 05 00001985 R	    mov fruitActive[0], 0
	   00
 00001345  C6 05 00001986 R	    mov fruitActive[1], 0
	   00
 0000134C  C7 05 00001987 R	    mov fruitTimer, 0
	   00000000
				    
 00001356  E8 FFFFF8BA		    call InitializePellets
 0000135B  E8 00000319		    call DrawStaticElementsLevel2

 00001360			GameLoop:
				    ; Update fruit timer
 00001360  E8 0000096F		    call UpdateFruitTimer
				    
 00001365  E8 00000000 E	    call ReadKey
 0000136A  0F 84 000000FB	    jz NoPlayerInput

				    ; Check for pause input
 00001370  3C 71		    cmp al, 'q'
 00001372  0F 84 0000015A	    je TogglePause
 00001378  3C 51		    cmp al, 'Q'
 0000137A  0F 84 00000152	    je TogglePause

				    ; Handle movement and menu keys
 00001380  3C 77		    cmp al, 'w'
 00001382  74 1D		    je MoveUp
 00001384  3C 61		    cmp al, 'a'
 00001386  74 4A		    je MoveLeft
 00001388  3C 73		    cmp al, 's'
 0000138A  74 71		    je MoveDown
 0000138C  3C 64		    cmp al, 'd'
 0000138E  0F 84 00000094	    je MoveRight
 00001394  3C 31		    cmp al, '1'    ; Return to menu
 00001396  0F 84 00000163	    je ExitLevel
 0000139C  E9 000000CA		    jmp NoPlayerInput

 000013A1			MoveUp:
 000013A1  A0 00000FBF R	    mov al, pacmanX
 000013A6  A2 00000FCF R	    mov oldPacmanX, al
 000013AB  A0 00000FC0 R	    mov al, pacmanY
 000013B0  A2 00000FD0 R	    mov oldPacmanY, al
 000013B5  FE 0D 00000FC0 R	    dec pacmanY
 000013BB  E8 00000EBA		    call CheckWallCollision2
 000013C0  72 05		    jc CancelMoveUp
 000013C2  E9 0000008C		    jmp AfterMove
 000013C7			CancelMoveUp:
 000013C7  FE 05 00000FC0 R	    inc pacmanY
 000013CD  E9 00000081		    jmp AfterMove

 000013D2			MoveLeft:
 000013D2  A0 00000FBF R	    mov al, pacmanX
 000013D7  A2 00000FCF R	    mov oldPacmanX, al
 000013DC  A0 00000FC0 R	    mov al, pacmanY
 000013E1  A2 00000FD0 R	    mov oldPacmanY, al
 000013E6  FE 0D 00000FBF R	    dec pacmanX
 000013EC  E8 00000E89		    call CheckWallCollision2
 000013F1  72 02		    jc CancelMoveLeft
 000013F3  EB 5E		    jmp AfterMove
 000013F5			CancelMoveLeft:
 000013F5  FE 05 00000FBF R	    inc pacmanX
 000013FB  EB 56		    jmp AfterMove

 000013FD			MoveDown:
 000013FD  A0 00000FBF R	    mov al, pacmanX
 00001402  A2 00000FCF R	    mov oldPacmanX, al
 00001407  A0 00000FC0 R	    mov al, pacmanY
 0000140C  A2 00000FD0 R	    mov oldPacmanY, al
 00001411  FE 05 00000FC0 R	    inc pacmanY
 00001417  E8 00000E5E		    call CheckWallCollision2
 0000141C  72 02		    jc CancelMoveDown
 0000141E  EB 33		    jmp AfterMove
 00001420			CancelMoveDown:
 00001420  FE 0D 00000FC0 R	    dec pacmanY
 00001426  EB 2B		    jmp AfterMove

 00001428			MoveRight:
 00001428  A0 00000FBF R	    mov al, pacmanX
 0000142D  A2 00000FCF R	    mov oldPacmanX, al
 00001432  A0 00000FC0 R	    mov al, pacmanY
 00001437  A2 00000FD0 R	    mov oldPacmanY, al
 0000143C  FE 05 00000FBF R	    inc pacmanX
 00001442  E8 00000E33		    call CheckWallCollision2
 00001447  72 02		    jc CancelMoveRight
 00001449  EB 08		    jmp AfterMove
 0000144B			CancelMoveRight:
 0000144B  FE 0D 00000FBF R	    dec pacmanX
 00001451  EB 00		    jmp AfterMove

 00001453			AfterMove:
 00001453  E8 FFFFF8D2		    call CheckPelletCollision
 00001458  E8 0000098F		    call CheckFruitCollision
 0000145D  E8 00000773		    call CheckGhostCollisionLevel2
 00001462  83 F8 01		    cmp eax, 1
 00001465  0F 84 000000A0	    je GameLost

 0000146B			NoPlayerInput:
				    ; Skip ghost and game logic if paused
 0000146B  80 3D 0000100B R	    cmp gamePaused, 1
	   01
 00001472  74 30		    je PausedLoop

 00001474  E8 000004A1		    call ClearOldPositionsLevel2
 00001479  E8 000004F8		    call GhostMovementLevel2
 0000147E  E8 000003A3		    call DrawGameElementsLevel2

				    ; Small delay
 00001483  B8 00000050		    mov eax, 80  ; Slightly faster than level 1
 00001488  E8 00000000 E	    call Delay

				    ; Check win condition (25 points to win)
 0000148D  83 3D 00000FC3 R	    cmp score, 25
	   19
 00001494  7D 6A		    jge LevelWon
 00001496  83 3D 00000FC7 R	    cmp lives, 0
	   00
 0000149D  7E 6C		    jle GameLost
 0000149F  E9 FFFFFEBC		    jmp GameLoop

 000014A4			PausedLoop:
				    ; Show pause message once
 000014A4  B8 0000000E		    mov eax, yellowTxt
 000014A9  E8 00000000 E	    call SetTextColor
 000014AE  B6 0C		    mov dh, 12
 000014B0  B2 14		    mov dl, 20
 000014B2  E8 00000000 E	    call Gotoxy
 000014B7  BA 00000FEA R	    mov edx, OFFSET pausedMsg
 000014BC  E8 00000000 E	    call WriteString

 000014C1			WaitWhilePaused:
 000014C1  E8 00000000 E	    call ReadKey
 000014C6  74 F9		    jz WaitWhilePaused

 000014C8  3C 71		    cmp al, 'q'
 000014CA  74 06		    je TogglePause
 000014CC  3C 51		    cmp al, 'Q'
 000014CE  74 02		    je TogglePause
 000014D0  EB EF		    jmp WaitWhilePaused

 000014D2			TogglePause:
 000014D2  80 35 0000100B R	    xor gamePaused, 1
	   01

				    ; Clear pause message
 000014D9  B8 00000000		    mov eax, blackTxt
 000014DE  E8 00000000 E	    call SetTextColor
 000014E3  B6 0C		    mov dh, 12
 000014E5  B2 14		    mov dl, 20
 000014E7  E8 00000000 E	    call Gotoxy
 000014EC  B9 00000028		    mov ecx, 40
 000014F1			ClearPauseText:
 000014F1  B0 20		    mov al, ' '
 000014F3  E8 00000000 E	    call WriteChar
 000014F8  E2 F7		    loop ClearPauseText

 000014FA  E9 FFFFFE61		    jmp GameLoop

 000014FF			ExitLevel:
 000014FF  C3			    ret

 00001500			LevelWon:
 00001500  E8 FFFFFAF3		    call SaveScore
 00001505  E8 000000B4		    call LevelCompleteScreen
 0000150A  C3			    ret

 0000150B			GameLost:
 0000150B  E8 FFFFFAE8		    call SaveScore
 00001510  E8 00000001		    call GameOverScreen
 00001515  C3			    ret

 00001516			GameOverScreen:
 00001516  E8 00000000 E	    call Clrscr
 0000151B  B8 00000004		    mov eax, redTxt
 00001520  E8 00000000 E	    call SetTextColor

				    ; Draw game over message
 00001525  B6 05		    mov dh, 5
 00001527  B2 14		    mov dl, 20
 00001529  E8 00000000 E	    call Gotoxy
 0000152E  BA 00000D86 R	    mov edx, OFFSET gameOverMsg1
 00001533  E8 00000000 E	    call WriteString

 00001538  B6 06		    mov dh, 6
 0000153A  B2 14		    mov dl, 20
 0000153C  E8 00000000 E	    call Gotoxy
 00001541  BA 00000DBA R	    mov edx, OFFSET gameOverMsg2
 00001546  E8 00000000 E	    call WriteString

 0000154B  B6 06		    mov dh, 6
 0000154D  B2 14		    mov dl, 20
 0000154F  E8 00000000 E	    call Gotoxy
 00001554  BA 00000DED R	    mov edx, OFFSET gameOverMsg3
 00001559  E8 00000000 E	    call WriteString

 0000155E  B6 07		    mov dh, 7
 00001560  B2 14		    mov dl, 20
 00001562  E8 00000000 E	    call Gotoxy
 00001567  BA 00000E21 R	    mov edx, OFFSET gameOverMsg4
 0000156C  E8 00000000 E	    call WriteString

 00001571  B6 08		    mov dh, 8
 00001573  B2 14		    mov dl, 20
 00001575  E8 00000000 E	    call Gotoxy
 0000157A  BA 00000E55 R	    mov edx, OFFSET gameOverMsg5
 0000157F  E8 00000000 E	    call WriteString

				    ; Display score
 00001584  B6 0C		    mov dh, 12
 00001586  B2 14		    mov dl, 20
 00001588  E8 00000000 E	    call Gotoxy
 0000158D  BA 00000E89 R	    mov edx, OFFSET scoreDisplay
 00001592  E8 00000000 E	    call WriteString
 00001597  A1 00000FC3 R	    mov eax, score
 0000159C  E8 00000000 E	    call WriteDec

				    ; Display return option
 000015A1  B6 0E		    mov dh, 14
 000015A3  B2 14		    mov dl, 20
 000015A5  E8 00000000 E	    call Gotoxy
 000015AA  BA 00000E9C R	    mov edx, OFFSET returnOption
 000015AF  E8 00000000 E	    call WriteString

 000015B4			WaitForInput:
 000015B4  E8 00000000 E	    call ReadChar
 000015B9  3C 31		    cmp al, '1'
 000015BB  75 F7		    jne WaitForInput
 000015BD  C3			    ret


 000015BE			LevelCompleteScreen:
 000015BE  E8 00000000 E	    call Clrscr
 000015C3  B8 00000002		    mov eax, greenTxt
 000015C8  E8 00000000 E	    call SetTextColor

				    ; Draw level complete message
 000015CD  B6 05		    mov dh, 5
 000015CF  B2 14		    mov dl, 20
 000015D1  E8 00000000 E	    call Gotoxy
 000015D6  BA 00000EB6 R	    mov edx, OFFSET levelCompleteMsg1
 000015DB  E8 00000000 E	    call WriteString

 000015E0  B6 06		    mov dh, 6
 000015E2  B2 14		    mov dl, 20
 000015E4  E8 00000000 E	    call Gotoxy
 000015E9  BA 00000ED4 R	    mov edx, OFFSET levelCompleteMsg2
 000015EE  E8 00000000 E	    call WriteString

 000015F3  B6 07		    mov dh, 7
 000015F5  B2 14		    mov dl, 20
 000015F7  E8 00000000 E	    call Gotoxy
 000015FC  BA 00000EF2 R	    mov edx, OFFSET levelCompleteMsg3
 00001601  E8 00000000 E	    call WriteString

 00001606  B6 08		    mov dh, 8
 00001608  B2 14		    mov dl, 20
 0000160A  E8 00000000 E	    call Gotoxy
 0000160F  BA 00000F10 R	    mov edx, OFFSET levelCompleteMsg4
 00001614  E8 00000000 E	    call WriteString

 00001619  B6 09		    mov dh, 9
 0000161B  B2 14		    mov dl, 20
 0000161D  E8 00000000 E	    call Gotoxy
 00001622  BA 00000F2E R	    mov edx, OFFSET levelCompleteMsg5
 00001627  E8 00000000 E	    call WriteString

 0000162C  B6 0A		    mov dh, 10
 0000162E  B2 14		    mov dl, 20
 00001630  E8 00000000 E	    call Gotoxy
 00001635  BA 00000F4C R	    mov edx, OFFSET levelCompleteMsg6
 0000163A  E8 00000000 E	    call WriteString

				    
				    ; Display score
 0000163F  B6 0C		    mov dh, 12
 00001641  B2 14		    mov dl, 20
 00001643  E8 00000000 E	    call Gotoxy
 00001648  BA 00000E89 R	    mov edx, OFFSET scoreDisplay
 0000164D  E8 00000000 E	    call WriteString
 00001652  A1 00000FC3 R	    mov eax, score
 00001657  E8 00000000 E	    call WriteDec

				    ; Display return option
 0000165C  B6 0E		    mov dh, 14
 0000165E  B2 14		    mov dl, 20
 00001660  E8 00000000 E	    call Gotoxy
 00001665  BA 00000E9C R	    mov edx, OFFSET returnOption
 0000166A  E8 00000000 E	    call WriteString

 0000166F			WaitForInput2:
 0000166F  E8 00000000 E	    call ReadChar
 00001674  3C 31		    cmp al, '1'
 00001676  75 F7		    jne WaitForInput2
 00001678  C3			    ret

 00001679			Level2Screen ENDP


				; ==================== LEVEL 2 SPECIFIC PROCEDURES ====================

 00001679			DrawStaticElementsLevel2 PROC
				    ; Draw info bar (same as level 1)
 00001679  B8 0000000F		    mov eax, whiteTxt
 0000167E  E8 00000000 E	    call SetTextColor
				    
 00001683  B6 00		    mov dh, 0
 00001685  B2 00		    mov dl, 0
 00001687  E8 00000000 E	    call Gotoxy
 0000168C  BA 00000F7E R	    mov edx, OFFSET livesMsg
 00001691  E8 00000000 E	    call WriteString
 00001696  A1 00000FC7 R	    mov eax, lives
 0000169B  E8 00000000 E	    call WriteDec

 000016A0  B6 01		    mov dh, 1
 000016A2  B2 00		    mov dl, 0
 000016A4  E8 00000000 E	    call Gotoxy
 000016A9  BA 0000009D R	    mov edx, OFFSET userName
 000016AE  E8 00000000 E	    call WriteString

 000016B3  B6 02		    mov dh,2
 000016B5  B2 4B		    mov dl, 75
 000016B7  E8 00000000 E	    call Gotoxy
 000016BC  BA 00000F86 R	    mov edx, OFFSET levelMsg
 000016C1  E8 00000000 E	    call WriteString
 000016C6  A1 00000FCB R	    mov eax, level
 000016CB  E8 00000000 E	    call WriteDec

 000016D0  B6 04		    mov dh, 4       
 000016D2  B2 01		    mov dl, 1
 000016D4  E8 00000000 E	    call Gotoxy
 000016D9  BA 00000FD4 R	    mov edx, OFFSET pauseMsg
 000016DE  E8 00000000 E	    call WriteString

				    ; Draw borders and walls (same as level 1)
				    ; Top border
 000016E3  B6 05		    mov dh, 5
 000016E5  B2 00		    mov dl, 0
 000016E7  B9 00000073		    mov ecx, 115
 000016EC  A0 00000F8E R	    mov al, wallChar
 000016F1			topBorder:
 000016F1  E8 00000000 E	    call Gotoxy
 000016F6  E8 00000000 E	    call WriteChar
 000016FB  FE C2		    inc dl
 000016FD  E2 F2		    loop topBorder

				    ; Bottom border
 000016FF  B6 1D		    mov dh, 29
 00001701  B2 00		    mov dl, 0
 00001703  B9 00000073		    mov ecx, 115
 00001708			bottomBorder:
 00001708  E8 00000000 E	    call Gotoxy
 0000170D  E8 00000000 E	    call WriteChar
 00001712  FE C2		    inc dl
 00001714  E2 F2		    loop bottomBorder

				    ; Left and right borders 
 00001716  B6 05		    mov dh, 5
 00001718  B9 0000001B		    mov ecx, 27        ; Height
 0000171D			sideBorders:
				    ; Left border
 0000171D  B2 00		    mov dl, 0
 0000171F  E8 00000000 E	    call Gotoxy
 00001724  A0 00000F8E R	    mov al, wallChar
 00001729  E8 00000000 E	    call WriteChar
				    ; Right border
 0000172E  B2 72		    mov dl, 114
 00001730  E8 00000000 E	    call Gotoxy
 00001735  A0 00000F8E R	    mov al, wallChar
 0000173A  E8 00000000 E	    call WriteChar
 0000173F  FE C6		    inc dh
 00001741  E2 DA		    loop sideBorders

				    ; Inner walls - different pattern for level 2
 00001743  E8 00000014		    call DrawInnerWallsLevel2

				    ; Return message
 00001748  B6 03		    mov dh, 3
 0000174A  B2 02		    mov dl, 2
 0000174C  E8 00000000 E	    call Gotoxy
 00001751  BA 000000CF R	    mov edx, offset returnMsg
 00001756  E8 00000000 E	    call WriteString
				    
 0000175B  C3			    ret
 0000175C			DrawStaticElementsLevel2 ENDP
				;....................................................................
 0000175C			DrawInnerWallsLevel2 PROC
				    ; Vertical wall at column 5 (X=5), rows 4-10 (length 7)
 0000175C  B6 04		    mov dh, 4
 0000175E  B2 05		    mov dl, 5
 00001760  B9 00000007		    mov ecx, 7
 00001765			VerticalWall1:
 00001765  E8 00000000 E	    call Gotoxy
 0000176A  A0 00000F8E R	    mov al, wallChar
 0000176F  E8 00000000 E	    call WriteChar
 00001774  FE C6		    inc dh
 00001776  E2 ED		    loop VerticalWall1

				    ; Original horizontal walls
 00001778  B6 08		    mov dh, 8
 0000177A  B2 0F		    mov dl, 15
 0000177C  B9 00000014		    mov ecx, 20
 00001781  E8 FFFFF675		    call DrawWall
 00001786  B2 3C		    mov dl, 60
 00001788  B9 00000014		    mov ecx, 20
 0000178D  E8 FFFFF669		    call DrawWall

				    ; First new horizontal wall at row 12 (Y=12), columns 25-34 (length 10)
 00001792  B6 0C		    mov dh, 12
 00001794  B2 19		    mov dl, 25
 00001796  B9 0000000A		    mov ecx, 10
 0000179B			HorizontalWall3:
 0000179B  E8 00000000 E	    call Gotoxy
 000017A0  A0 00000F8E R	    mov al, wallChar
 000017A5  E8 00000000 E	    call WriteChar
 000017AA  FE C2		    inc dl
 000017AC  E2 ED		    loop HorizontalWall3

				    ; Second new horizontal wall at row 16 (Y=16), columns 50-59 (length 10)
 000017AE  B6 10		    mov dh, 16
 000017B0  B2 32		    mov dl, 50
 000017B2  B9 0000000A		    mov ecx, 10
 000017B7			HorizontalWall4:
 000017B7  E8 00000000 E	    call Gotoxy
 000017BC  A0 00000F8E R	    mov al, wallChar
 000017C1  E8 00000000 E	    call WriteChar
 000017C6  FE C2		    inc dl
 000017C8  E2 ED		    loop HorizontalWall4

				    ; Original remaining walls
 000017CA  B6 0C		    mov dh, 12
 000017CC  B2 1E		    mov dl, 30
 000017CE  B9 0000000A		    mov ecx, 10
 000017D3  E8 FFFFF623		    call DrawWall
 000017D8  B2 46		    mov dl, 70
 000017DA  E8 FFFFF61C		    call DrawWall

 000017DF  B6 10		    mov dh, 16
 000017E1  B2 0A		    mov dl, 10
 000017E3  B9 0000000F		    mov ecx, 15
 000017E8  E8 FFFFF60E		    call DrawWall
 000017ED  B2 28		    mov dl, 40
 000017EF  E8 FFFFF607		    call DrawWall
 000017F4  B2 50		    mov dl, 80
 000017F6  E8 FFFFF600		    call DrawWall

 000017FB  B6 14		    mov dh, 20
 000017FD  B2 14		    mov dl, 20
 000017FF  B9 00000019		    mov ecx, 25
 00001804  E8 FFFFF5F2		    call DrawWall
 00001809  B2 46		    mov dl, 70
 0000180B  E8 FFFFF5EB		    call DrawWall

 00001810  B6 18		    mov dh, 24
 00001812  B2 1E		    mov dl, 30
 00001814  B9 0000000A		    mov ecx, 10
 00001819  E8 FFFFF5DD		    call DrawWall
 0000181E  B2 46		    mov dl, 70
 00001820  E8 FFFFF5D6		    call DrawWall
 00001825  C3			    ret
 00001826			DrawInnerWallsLevel2 ENDP
				;....................................................................
 00001826			DrawGameElementsLevel2 PROC
				    ; Draw pellets
 00001826  B8 00000005		    mov eax, purpleTxt
 0000182B  E8 00000000 E	    call SetTextColor
 00001830  BE 00000F97 R	    mov esi, OFFSET pelletPositions
 00001835  B9 00000014		    mov ecx, 20

 0000183A			DrawPellets:
 0000183A  80 3E 00		    cmp byte ptr [esi], 0  ; Skip if pellet collected
 0000183D  74 14		    je SkipPellet
				    
 0000183F  8A 16		    mov dl, [esi]    ; X
 00001841  8A 76 01		    mov dh, [esi+1]  ; Y
 00001844  E8 00000000 E	    call Gotoxy
 00001849  A0 00000F90 R	    mov al, pelletChar
 0000184E  E8 00000000 E	    call WriteChar

 00001853			SkipPellet:
 00001853  83 C6 02		    add esi, 2
 00001856  E2 E2		    loop DrawPellets

				    ; Draw fruits if active
 00001858  80 3D 00001985 R	    cmp fruitActive[0], 1
	   01
 0000185F  75 25		    jne SkipFruit1
 00001861  B8 0000000E		    mov eax, yellowTxt
 00001866  E8 00000000 E	    call SetTextColor
 0000186B  8A 15 00001981 R	    mov dl, fruit1X
 00001871  8A 35 00001982 R	    mov dh, fruit1Y
 00001877  E8 00000000 E	    call Gotoxy
 0000187C  A0 0000197F R	    mov al, fruitChar
 00001881  E8 00000000 E	    call WriteChar

 00001886			SkipFruit1:
 00001886  80 3D 00001986 R	    cmp fruitActive[1], 1
	   01
 0000188D  75 25		    jne SkipFruit2
 0000188F  B8 0000000E		    mov eax, yellowTxt
 00001894  E8 00000000 E	    call SetTextColor
 00001899  8A 15 00001983 R	    mov dl, fruit2X
 0000189F  8A 35 00001984 R	    mov dh, fruit2Y
 000018A5  E8 00000000 E	    call Gotoxy
 000018AA  A0 0000197F R	    mov al, fruitChar
 000018AF  E8 00000000 E	    call WriteChar

 000018B4			SkipFruit2:
				    ; Draw Pac-Man
 000018B4  B8 0000000F		    mov eax, whiteTxt
 000018B9  E8 00000000 E	    call SetTextColor
 000018BE  8A 15 00000FBF R	    mov dl, pacmanX
 000018C4  8A 35 00000FC0 R	    mov dh, pacmanY
 000018CA  E8 00000000 E	    call Gotoxy
 000018CF  A0 00000F92 R	    mov al, pacmanChar
 000018D4  E8 00000000 E	    call WriteChar

				    ; Draw Ghost 1 (normal ghost)
 000018D9  8A 15 00000FC1 R	    mov dl, ghostX
 000018DF  8A 35 00000FC2 R	    mov dh, ghostY
 000018E5  E8 00000000 E	    call Gotoxy
 000018EA  A0 00000F94 R	    mov al, ghostChar
 000018EF  E8 00000000 E	    call WriteChar

				    ; Draw Ghost 2 (Pinky)
 000018F4  B8 00000005		    mov eax, ghost2Color
 000018F9  E8 00000000 E	    call SetTextColor
 000018FE  8A 15 00001976 R	    mov dl, ghost2X
 00001904  8A 35 00001977 R	    mov dh, ghost2Y
 0000190A  E8 00000000 E	    call Gotoxy
 0000190F  A0 00000F94 R	    mov al, ghostChar
 00001914  E8 00000000 E	    call WriteChar

 00001919  C3			    ret
 0000191A			DrawGameElementsLevel2 ENDP
				;....................................................................
 0000191A			ClearOldPositionsLevel2 PROC
				    ; Clear old Pac-Man position
 0000191A  B8 00000000		    mov eax, blackTxt
 0000191F  E8 00000000 E	    call SetTextColor
 00001924  8A 15 00000FCF R	    mov dl, oldPacmanX
 0000192A  8A 35 00000FD0 R	    mov dh, oldPacmanY
 00001930  E8 00000000 E	    call Gotoxy
 00001935  A0 00000F8F R	    mov al, emptyChar
 0000193A  E8 00000000 E	    call WriteChar
				    
				    ; Clear old ghost positions
 0000193F  8A 15 00000FD2 R	    mov dl, oldGhostX
 00001945  8A 35 00000FD3 R	    mov dh, oldGhostY
 0000194B  E8 00000000 E	    call Gotoxy
 00001950  A0 00000F8F R	    mov al, emptyChar
 00001955  E8 00000000 E	    call WriteChar
				    
 0000195A  8A 15 00001978 R	    mov dl, oldGhost2X
 00001960  8A 35 00001979 R	    mov dh, oldGhost2Y
 00001966  E8 00000000 E	    call Gotoxy
 0000196B  A0 00000F8F R	    mov al, emptyChar
 00001970  E8 00000000 E	    call WriteChar
 00001975  C3			    ret
 00001976			ClearOldPositionsLevel2 ENDP
				;....................................................................
 00001976			GhostMovementLevel2 PROC
				    ; Save old positions
 00001976  A0 00000FC1 R	    mov al, ghostX
 0000197B  A2 00000FD2 R	    mov oldGhostX, al
 00001980  A0 00000FC2 R	    mov al, ghostY
 00001985  A2 00000FD3 R	    mov oldGhostY, al
 0000198A  A0 00001976 R	    mov al, ghost2X
 0000198F  A2 00001978 R	    mov oldGhost2X, al
 00001994  A0 00001977 R	    mov al, ghost2Y
 00001999  A2 00001979 R	    mov oldGhost2Y, al
				    
				    ; Move first ghost (same as level 1)
 0000199E  E8 00000000 E	    call Randomize
 000019A3  B8 0000000A		    mov eax, 10
 000019A8  E8 00000000 E	    call RandomRange
 000019AD  83 F8 04		    cmp eax, 4  ; 70% chance to move toward Pac-Man
 000019B0  72 73		    jb RandomMove1
				    
				    ; Move toward Pac-Man
 000019B2  8A 1D 00000FBF R	    mov bl, pacmanX
 000019B8  8A 3D 00000FC0 R	    mov bh, pacmanY
				    
 000019BE  38 1D 00000FC1 R	    cmp ghostX, bl
 000019C4  7C 0E		    jl MoveGhostRight1
 000019C6  7F 2D		    jg MoveGhostLeft1
 000019C8  38 3D 00000FC2 R	    cmp ghostY, bh
 000019CE  7C 46		    jl MoveGhostDown1
 000019D0  7F 35		    jg MoveGhostUp1
 000019D2  EB 51		    jmp RandomMove1

 000019D4			MoveGhostRight1:
 000019D4  FE 05 00000FC1 R	    inc ghostX
 000019DA  E8 000004C9		    call CheckGhost1WallCollision
 000019DF  72 05		    jc UndoGhostMove1
 000019E1  E9 000000A2		    jmp MoveGhost2
 000019E6			UndoGhostMove1:
 000019E6  A0 00000FD2 R	    mov al, oldGhostX
 000019EB  A2 00000FC1 R	    mov ghostX, al
 000019F0  E9 00000093		    jmp MoveGhost2

 000019F5			MoveGhostLeft1:
 000019F5  FE 0D 00000FC1 R	    dec ghostX
 000019FB  E8 000004A8		    call CheckGhost1WallCollision
 00001A00  72 E4		    jc UndoGhostMove1
 00001A02  E9 00000081		    jmp MoveGhost2

 00001A07			MoveGhostUp1:
 00001A07  FE 0D 00000FC2 R	    dec ghostY
 00001A0D  E8 00000496		    call CheckGhost1WallCollision
 00001A12  72 D2		    jc UndoGhostMove1
 00001A14  EB 72		    jmp MoveGhost2

 00001A16			MoveGhostDown1:
 00001A16  FE 05 00000FC2 R	    inc ghostY
 00001A1C  E8 00000487		    call CheckGhost1WallCollision
 00001A21  72 C3		    jc UndoGhostMove1
 00001A23  EB 63		    jmp MoveGhost2

 00001A25			RandomMove1:
				    ; Random direction (1-4)
 00001A25  B8 00000004		    mov eax, 4
 00001A2A  E8 00000000 E	    call RandomRange
 00001A2F  40			    inc eax
				    
 00001A30  83 F8 01		    cmp eax, 1
 00001A33  74 0F		    je TryRight1
 00001A35  83 F8 02		    cmp eax, 2
 00001A38  74 19		    je TryLeft1
 00001A3A  83 F8 03		    cmp eax, 3
 00001A3D  74 23		    je TryUp1
 00001A3F  83 F8 04		    cmp eax, 4
 00001A42  74 31		    je TryDown1

 00001A44			TryRight1:
 00001A44  FE 05 00000FC1 R	    inc ghostX
 00001A4A  E8 00000459		    call CheckGhost1WallCollision
 00001A4F  72 95		    jc UndoGhostMove1
 00001A51  EB 35		    jmp MoveGhost2

 00001A53			TryLeft1:
 00001A53  FE 0D 00000FC1 R	    dec ghostX
 00001A59  E8 0000044A		    call CheckGhost1WallCollision
 00001A5E  72 86		    jc UndoGhostMove1
 00001A60  EB 26		    jmp MoveGhost2

 00001A62			TryUp1:
 00001A62  FE 0D 00000FC2 R	    dec ghostY
 00001A68  E8 0000043B		    call CheckGhost1WallCollision
 00001A6D  0F 82 FFFFFF73	    jc UndoGhostMove1
 00001A73  EB 13		    jmp MoveGhost2

 00001A75			TryDown1:
 00001A75  FE 05 00000FC2 R	    inc ghostY
 00001A7B  E8 00000428		    call CheckGhost1WallCollision
 00001A80  0F 82 FFFFFF60	    jc UndoGhostMove1
 00001A86  EB 00		    jmp MoveGhost2

				; Move second ghost (Pinky - more unpredictable)
 00001A88			MoveGhost2:
				    ; Pinky has different movement patterns
 00001A88  E8 00000000 E	    call Randomize
 00001A8D  B8 00000064		    mov eax, 100
 00001A92  E8 00000000 E	    call RandomRange
				    
				    ; 40% chance to move toward Pac-Man
 00001A97  83 F8 28		    cmp eax, 40
 00001A9A  72 0B		    jb MoveTowardPacman
				    
				    ; 30% chance to move randomly
 00001A9C  83 F8 46		    cmp eax, 70
 00001A9F  0F 82 0000008C	    jb MoveRandomly
				    
				    ; 30% chance to cut off Pac-Man's path
 00001AA5  EB 32		    jmp CutOffPath

 00001AA7			MoveTowardPacman:
 00001AA7  8A 1D 00000FBF R	    mov bl, pacmanX
 00001AAD  8A 3D 00000FC0 R	    mov bh, pacmanY
				    
 00001AB3  38 1D 00001976 R	    cmp ghost2X, bl
 00001AB9  0F 8C 000000C9	    jl MoveGhostRight2
 00001ABF  0F 8F 000000D1	    jg MoveGhostLeft2
 00001AC5  38 3D 00001977 R	    cmp ghost2Y, bh
 00001ACB  0F 8C 000000E1	    jl MoveGhostDown2
 00001AD1  0F 8F 000000CD	    jg MoveGhostUp2
 00001AD7  EB 58		    jmp MoveRandomly

 00001AD9			CutOffPath:
				    ; Try to predict Pac-Man's path
 00001AD9  8A 1D 00000FBF R	    mov bl, pacmanX
 00001ADF  8A 3D 00000FC0 R	    mov bh, pacmanY
				    
				    ; Check Pac-Man's direction by comparing with old position
 00001AE5  A0 00000FBF R	    mov al, pacmanX
 00001AEA  3A 05 00000FCF R	    cmp al, oldPacmanX
 00001AF0  7F 13		    jg MovingRight
 00001AF2  7C 16		    jl MovingLeft
				    
 00001AF4  A0 00000FC0 R	    mov al, pacmanY
 00001AF9  3A 05 00000FD0 R	    cmp al, oldPacmanY
 00001AFF  7F 13		    jg MovingDown
 00001B01  7C 0C		    jl MovingUp
				    
				    ; If not moving, default to toward movement
 00001B03  EB A2		    jmp MoveTowardPacman

 00001B05			MovingRight:
				    ; Try to get ahead to the right
 00001B05  80 C3 05		    add bl, 5
 00001B08  EB 0D		    jmp MoveTowardPoint

 00001B0A			MovingLeft:
				    ; Try to get ahead to the left
 00001B0A  80 EB 05		    sub bl, 5
 00001B0D  EB 08		    jmp MoveTowardPoint

 00001B0F			MovingUp:
				    ; Try to get above
 00001B0F  80 EF 05		    sub bh, 5
 00001B12  EB 03		    jmp MoveTowardPoint

 00001B14			MovingDown:
				    ; Try to get below
 00001B14  80 C7 05		    add bh, 5

 00001B17			MoveTowardPoint:
				    ; Move toward the predicted point (bl,bh)
 00001B17  38 1D 00001976 R	    cmp ghost2X, bl
 00001B1D  7C 69		    jl MoveGhostRight2
 00001B1F  7F 75		    jg MoveGhostLeft2
 00001B21  38 3D 00001977 R	    cmp ghost2Y, bh
 00001B27  0F 8C 00000085	    jl MoveGhostDown2
 00001B2D  7F 75		    jg MoveGhostUp2
 00001B2F  EB 00		    jmp MoveRandomly

 00001B31			MoveRandomly:
				    ; Random direction (1-4)
 00001B31  B8 00000004		    mov eax, 4
 00001B36  E8 00000000 E	    call RandomRange
 00001B3B  40			    inc eax
				    
 00001B3C  83 F8 01		    cmp eax, 1
 00001B3F  74 0F		    je TryRight2
 00001B41  83 F8 02		    cmp eax, 2
 00001B44  74 18		    je TryLeft2
 00001B46  83 F8 03		    cmp eax, 3
 00001B49  74 21		    je TryUp2
 00001B4B  83 F8 04		    cmp eax, 4
 00001B4E  74 2A		    je TryDown2

 00001B50			TryRight2:
 00001B50  FE 05 00001976 R	    inc ghost2X
 00001B56  E8 00000536		    call CheckGhost2WallCollision
 00001B5B  72 63		    jc UndoGhostMove2
 00001B5D  C3			    ret

 00001B5E			TryLeft2:
 00001B5E  FE 0D 00001976 R	    dec ghost2X
 00001B64  E8 00000528		    call CheckGhost2WallCollision
 00001B69  72 55		    jc UndoGhostMove2
 00001B6B  C3			    ret

 00001B6C			TryUp2:
 00001B6C  FE 0D 00001977 R	    dec ghost2Y
 00001B72  E8 0000051A		    call CheckGhost2WallCollision
 00001B77  72 47		    jc UndoGhostMove2
 00001B79  C3			    ret

 00001B7A			TryDown2:
 00001B7A  FE 05 00001977 R	    inc ghost2Y
 00001B80  E8 0000050C		    call CheckGhost2WallCollision
 00001B85  72 39		    jc UndoGhostMove2
 00001B87  C3			    ret

 00001B88			MoveGhostRight2:
 00001B88  FE 05 00001976 R	    inc ghost2X
 00001B8E  E8 000004FE		    call CheckGhost2WallCollision
 00001B93  72 2B		    jc UndoGhostMove2
 00001B95  C3			    ret

 00001B96			MoveGhostLeft2:
 00001B96  FE 0D 00001976 R	    dec ghost2X
 00001B9C  E8 000004F0		    call CheckGhost2WallCollision
 00001BA1  72 1D		    jc UndoGhostMove2
 00001BA3  C3			    ret

 00001BA4			MoveGhostUp2:
 00001BA4  FE 0D 00001977 R	    dec ghost2Y
 00001BAA  E8 000004E2		    call CheckGhost2WallCollision
 00001BAF  72 0F		    jc UndoGhostMove2
 00001BB1  C3			    ret

 00001BB2			MoveGhostDown2:
 00001BB2  FE 05 00001977 R	    inc ghost2Y
 00001BB8  E8 000004D4		    call CheckGhost2WallCollision
 00001BBD  72 01		    jc UndoGhostMove2
 00001BBF  C3			    ret

 00001BC0			UndoGhostMove2:
 00001BC0  A0 00001978 R	    mov al, oldGhost2X
 00001BC5  A2 00001976 R	    mov ghost2X, al
 00001BCA  A0 00001979 R	    mov al, oldGhost2Y
 00001BCF  A2 00001977 R	    mov ghost2Y, al
 00001BD4  C3			    ret
 00001BD5			GhostMovementLevel2 ENDP
				;....................................................................
 00001BD5			CheckGhostCollisionLevel2 PROC
				    ; Check collision with first ghost
 00001BD5  A0 00000FBF R	    mov al, pacmanX
 00001BDA  2A 05 00000FC1 R	    sub al, ghostX
 00001BE0  3C FF		    cmp al, -1
 00001BE2  7C 19		    jl CheckSecondGhost
 00001BE4  3C 01		    cmp al, 1
 00001BE6  7F 15		    jg CheckSecondGhost
				    
 00001BE8  A0 00000FC0 R	    mov al, pacmanY
 00001BED  2A 05 00000FC2 R	    sub al, ghostY
 00001BF3  3C FF		    cmp al, -1
 00001BF5  7C 06		    jl CheckSecondGhost
 00001BF7  3C 01		    cmp al, 1
 00001BF9  7F 02		    jg CheckSecondGhost
				    
				    ; Collision with first ghost
 00001BFB  EB 36		    jmp GhostCollision
				    
 00001BFD			CheckSecondGhost:
				    ; Check collision with second ghost
 00001BFD  A0 00000FBF R	    mov al, pacmanX
 00001C02  2A 05 00001976 R	    sub al, ghost2X
 00001C08  3C FF		    cmp al, -1
 00001C0A  0F 8C 000000B8	    jl NoCollision
 00001C10  3C 01		    cmp al, 1
 00001C12  0F 8F 000000B0	    jg NoCollision
				    
 00001C18  A0 00000FC0 R	    mov al, pacmanY
 00001C1D  2A 05 00001977 R	    sub al, ghost2Y
 00001C23  3C FF		    cmp al, -1
 00001C25  0F 8C 0000009D	    jl NoCollision
 00001C2B  3C 01		    cmp al, 1
 00001C2D  0F 8F 00000095	    jg NoCollision
				    
				    ; Collision with second ghost
 00001C33			GhostCollision:
 00001C33  FF 0D 00000FC7 R	    dec lives

				    ; Update lives display
 00001C39  B8 0000000F		    mov eax, whiteTxt
 00001C3E  E8 00000000 E	    call SetTextColor
 00001C43  B6 00		    mov dh, 0
 00001C45  B2 07		    mov dl, 7
 00001C47  E8 00000000 E	    call Gotoxy
 00001C4C  A1 00000FC7 R	    mov eax, lives
 00001C51  0F B6 C0		    movzx eax, al
 00001C54  E8 00000000 E	    call WriteDec

				    ; Clear ghosts from screen
 00001C59  8A 15 00000FC1 R	    mov dl, ghostX
 00001C5F  8A 35 00000FC2 R	    mov dh, ghostY
 00001C65  E8 00000000 E	    call Gotoxy
 00001C6A  A0 00000F8F R	    mov al, emptyChar
 00001C6F  E8 00000000 E	    call WriteChar
				    
 00001C74  8A 15 00001976 R	    mov dl, ghost2X
 00001C7A  8A 35 00001977 R	    mov dh, ghost2Y
 00001C80  E8 00000000 E	    call Gotoxy
 00001C85  A0 00000F8F R	    mov al, emptyChar
 00001C8A  E8 00000000 E	    call WriteChar

				    ; Reset positions
 00001C8F  C6 05 00000FBF R	    mov pacmanX, 10
	   0A
 00001C96  C6 05 00000FC0 R	    mov pacmanY, 15
	   0F
 00001C9D  C6 05 00000FC1 R	    mov ghostX, 50
	   32
 00001CA4  C6 05 00000FC2 R	    mov ghostY, 15
	   0F
 00001CAB  C6 05 00001976 R	    mov ghost2X, 70
	   46
 00001CB2  C6 05 00001977 R	    mov ghost2Y, 15
	   0F

 00001CB9  83 3D 00000FC7 R	    cmp lives, 0
	   00
 00001CC0  7E 0C		    jle GameOver

 00001CC2  B8 00000000		    mov eax, 0
 00001CC7  C3			    ret

 00001CC8			NoCollision:
 00001CC8  B8 00000000		    mov eax, 0
 00001CCD  C3			    ret

 00001CCE			GameOver:
 00001CCE  B8 00000001		    mov eax, 1
 00001CD3  C3			    ret
 00001CD4			CheckGhostCollisionLevel2 ENDP
				;....................................................................
 00001CD4			UpdateFruitTimer PROC
				    ; Check if we need to spawn fruits
 00001CD4  80 3D 00001985 R	    cmp fruitActive[0], 1
	   01
 00001CDB  74 2D		    je CheckSecondFruit
 00001CDD  80 3D 00001986 R	    cmp fruitActive[1], 1
	   01
 00001CE4  74 24		    je CheckSecondFruit
				    
				    ; No fruits active - check timer
 00001CE6  A1 00001987 R	    mov eax, fruitTimer
 00001CEB  83 C0 64		    add eax, 100  ; Assuming this is called every game loop (100ms)
 00001CEE  A3 00001987 R	    mov fruitTimer, eax
				    
 00001CF3  3D 00001770		    cmp eax, FRUIT_SPAWN_TIME
 00001CF8  72 33		    jb TimerDone
				    
				    ; Time to spawn fruits
 00001CFA  E8 0000002F		    call SpawnFruits
 00001CFF  C7 05 00001987 R	    mov fruitTimer, 0
	   00000000
 00001D09  C3			    ret
				    
 00001D0A			CheckSecondFruit:
				    ; At least one fruit is active - just update timer
 00001D0A  A1 00001987 R	    mov eax, fruitTimer
 00001D0F  83 C0 64		    add eax, 100
 00001D12  A3 00001987 R	    mov fruitTimer, eax
 00001D17  3D 00001770		    cmp eax, FRUIT_SPAWN_TIME
 00001D1C  72 0F		    jb TimerDone
				    
				    ; Time to respawn fruits
 00001D1E  E8 0000000B		    call SpawnFruits
 00001D23  C7 05 00001987 R	    mov fruitTimer, 0
	   00000000
				    
 00001D2D			TimerDone:
 00001D2D  C3			    ret
 00001D2E			UpdateFruitTimer ENDP

 00001D2E			SpawnFruits PROC
				    ; Spawn first fruit if not active
 00001D2E  80 3D 00001985 R	    cmp fruitActive[0], 1
	   01
 00001D35  74 18		    je SpawnSecond
				    
 00001D37  E8 00000035		    call FindEmptyPosition
 00001D3C  88 15 00001981 R	    mov fruit1X, dl
 00001D42  88 35 00001982 R	    mov fruit1Y, dh
 00001D48  C6 05 00001985 R	    mov fruitActive[0], 1
	   01
				    
 00001D4F			SpawnSecond:
				    ; Spawn second fruit if not active
 00001D4F  80 3D 00001986 R	    cmp fruitActive[1], 1
	   01
 00001D56  74 18		    je SpawnDone
				    
 00001D58  E8 00000014		    call FindEmptyPosition
 00001D5D  88 15 00001983 R	    mov fruit2X, dl
 00001D63  88 35 00001984 R	    mov fruit2Y, dh
 00001D69  C6 05 00001986 R	    mov fruitActive[1], 1
	   01
				    
 00001D70			SpawnDone:
 00001D70  C3			    ret
 00001D71			SpawnFruits ENDP
				;....................................................................
 00001D71			FindEmptyPosition PROC
				    ; Find a random empty position (not wall, not pellet, not pacman/ghosts)
 00001D71			TryAgain:
 00001D71  B8 00000071		    mov eax, 113    
 00001D76  E8 00000000 E	    call RandomRange
 00001D7B  40			    inc eax          ; X = 1-114
 00001D7C  8A D0		    mov dl, al
				    
 00001D7E  B8 00000017		    mov eax, 23      ; Max Y (29-6)
 00001D83  E8 00000000 E	    call RandomRange
 00001D88  83 C0 06		    add eax, 6       ; Y = 6-29
 00001D8B  8A F0		    mov dh, al
				    
				    ; Check if position is valid
 00001D8D  E8 FFFFEEBE		    call CheckWallPosition
 00001D92  72 DD		    jc TryAgain
				    
				    ; Check if position has pellet
 00001D94  BE 00000F97 R	    mov esi, OFFSET pelletPositions
 00001D99  B9 00000014		    mov ecx, 20
 00001D9E			CheckPellets:
 00001D9E  80 3E 00		    cmp byte ptr [esi], 0  ; Skip if pellet collected
 00001DA1  74 0D		    je NextPelletCheck
				    
 00001DA3  8A 06		    mov al, [esi]
 00001DA5  3A C2		    cmp al, dl
 00001DA7  75 07		    jne NextPelletCheck
 00001DA9  8A 46 01		    mov al, [esi+1]
 00001DAC  3A C6		    cmp al, dh
 00001DAE  74 C1		    je TryAgain
				    
 00001DB0			NextPelletCheck:
 00001DB0  83 C6 02		    add esi, 2
 00001DB3  E2 E9		    loop CheckPellets
				    
				    ; Check if position is on Pac-Man or ghosts
 00001DB5  A0 00000FBF R	    mov al, pacmanX
 00001DBA  3A C2		    cmp al, dl
 00001DBC  75 09		    jne CheckGhost1
 00001DBE  A0 00000FC0 R	    mov al, pacmanY
 00001DC3  3A C6		    cmp al, dh
 00001DC5  74 AA		    je TryAgain
				    
 00001DC7			CheckGhost1:
 00001DC7  A0 00000FC1 R	    mov al, ghostX
 00001DCC  3A C2		    cmp al, dl
 00001DCE  75 09		    jne CheckGhost2
 00001DD0  A0 00000FC2 R	    mov al, ghostY
 00001DD5  3A C6		    cmp al, dh
 00001DD7  74 98		    je TryAgain
				    
 00001DD9			CheckGhost2:
 00001DD9  A0 00001976 R	    mov al, ghost2X
 00001DDE  3A C2		    cmp al, dl
 00001DE0  75 09		    jne PositionOK
 00001DE2  A0 00001977 R	    mov al, ghost2Y
 00001DE7  3A C6		    cmp al, dh
 00001DE9  74 86		    je TryAgain
				    
 00001DEB			PositionOK:
 00001DEB  C3			    ret
 00001DEC			FindEmptyPosition ENDP
				;....................................................................
 00001DEC			CheckFruitCollision PROC
				    ; Check collision with first fruit
 00001DEC  80 3D 00001985 R	    cmp fruitActive[0], 1
	   01
 00001DF3  75 55		    jne CheckSecondFruit
				    
 00001DF5  A0 00000FBF R	    mov al, pacmanX
 00001DFA  3A 05 00001981 R	    cmp al, fruit1X
 00001E00  75 48		    jne CheckSecondFruit
 00001E02  A0 00000FC0 R	    mov al, pacmanY
 00001E07  3A 05 00001982 R	    cmp al, fruit1Y
 00001E0D  75 3B		    jne CheckSecondFruit
				    
				    ; Collision with first fruit
 00001E0F  C6 05 00001985 R	    mov fruitActive[0], 0
	   00
 00001E16  83 05 00000FC3 R	    add score, FRUIT_POINTS
	   0A
				    
				    ; Update score display
 00001E1D  B8 0000000F		    mov eax, whiteTxt
 00001E22  E8 00000000 E	    call SetTextColor
 00001E27  B6 01		    mov dh, 1
 00001E29  B2 37		    mov dl, 55
 00001E2B  E8 00000000 E	    call Gotoxy
 00001E30  BA 00000F76 R	    mov edx, OFFSET scoreMsg
 00001E35  E8 00000000 E	    call WriteString
 00001E3A  A1 00000FC3 R	    mov eax, score
 00001E3F  E8 00000000 E	    call WriteDec
				    
				    ; Immediately spawn new fruit
 00001E44  E8 FFFFFEE5		    call SpawnFruits
 00001E49  C3			    ret
				    
 00001E4A			CheckSecondFruit:
				    ; Check collision with second fruit
 00001E4A  80 3D 00001986 R	    cmp fruitActive[1], 1
	   01
 00001E51  75 54		    jne NoFruitCollision
				    
 00001E53  A0 00000FBF R	    mov al, pacmanX
 00001E58  3A 05 00001983 R	    cmp al, fruit2X
 00001E5E  75 47		    jne NoFruitCollision
 00001E60  A0 00000FC0 R	    mov al, pacmanY
 00001E65  3A 05 00001984 R	    cmp al, fruit2Y
 00001E6B  75 3A		    jne NoFruitCollision
				    
				    ; Collision with second fruit
 00001E6D  C6 05 00001986 R	    mov fruitActive[1], 0
	   00
 00001E74  83 05 00000FC3 R	    add score, FRUIT_POINTS
	   0A
				    
				    ; Update score display
 00001E7B  B8 0000000F		    mov eax, whiteTxt
 00001E80  E8 00000000 E	    call SetTextColor
 00001E85  B6 01		    mov dh, 1
 00001E87  B2 37		    mov dl, 55
 00001E89  E8 00000000 E	    call Gotoxy
 00001E8E  BA 00000F76 R	    mov edx, OFFSET scoreMsg
 00001E93  E8 00000000 E	    call WriteString
 00001E98  A1 00000FC3 R	    mov eax, score
 00001E9D  E8 00000000 E	    call WriteDec
				    
				    ; Immediately spawn new fruit
 00001EA2  E8 FFFFFE87		    call SpawnFruits
				    
 00001EA7			NoFruitCollision:
 00001EA7  C3			    ret
 00001EA8			CheckFruitCollision ENDP
				;....................................................................

				;-----------------------------------------------------------
				; Ghost 1 Wall Collision Check
				; Checks if ghost position collides with any walls
				; Returns: CF=1 if collision, CF=0 if clear
				;-----------------------------------------------------------
 00001EA8			CheckGhost1WallCollision PROC
				    ; Check boundaries first
 00001EA8  80 3D 00000FC1 R	    cmp ghostX, 0
	   00
 00001EAF  0F 8E 000001DA	    jle Ghost1Collision
 00001EB5  80 3D 00000FC1 R	    cmp ghostX, 114
	   72
 00001EBC  0F 8D 000001CD	    jge Ghost1Collision
 00001EC2  80 3D 00000FC2 R	    cmp ghostY, 5
	   05
 00001EC9  0F 8E 000001C0	    jle Ghost1Collision
 00001ECF  80 3D 00000FC2 R	    cmp ghostY, 29
	   1D
 00001ED6  0F 8D 000001B3	    jge Ghost1Collision

				    ; 1. Vertical wall at X=5 (Y=4-10)
 00001EDC  80 3D 00000FC1 R	    cmp ghostX, 5
	   05
 00001EE3  75 17		    jne CheckGhost1Wall2
 00001EE5  80 3D 00000FC2 R	    cmp ghostY, 4
	   04
 00001EEC  7C 0E		    jl CheckGhost1Wall2
 00001EEE  80 3D 00000FC2 R	    cmp ghostY, 10
	   0A
 00001EF5  7F 05		    jg CheckGhost1Wall2
 00001EF7  E9 00000193		    jmp Ghost1Collision

 00001EFC			CheckGhost1Wall2:
				    ; 2. Horizontal wall at Y=8 (X=15-34)
 00001EFC  80 3D 00000FC2 R	    cmp ghostY, 8
	   08
 00001F03  75 17		    jne CheckGhost1Wall3
 00001F05  80 3D 00000FC1 R	    cmp ghostX, 15
	   0F
 00001F0C  7C 0E		    jl CheckGhost1Wall3
 00001F0E  80 3D 00000FC1 R	    cmp ghostX, 34
	   22
 00001F15  7F 05		    jg CheckGhost1Wall3
 00001F17  E9 00000173		    jmp Ghost1Collision

 00001F1C			CheckGhost1Wall3:
				    ; 3. Horizontal wall at Y=8 (X=60-79)
 00001F1C  80 3D 00000FC2 R	    cmp ghostY, 8
	   08
 00001F23  75 17		    jne CheckGhost1Wall4
 00001F25  80 3D 00000FC1 R	    cmp ghostX, 60
	   3C
 00001F2C  7C 0E		    jl CheckGhost1Wall4
 00001F2E  80 3D 00000FC1 R	    cmp ghostX, 79
	   4F
 00001F35  7F 05		    jg CheckGhost1Wall4
 00001F37  E9 00000153		    jmp Ghost1Collision

 00001F3C			CheckGhost1Wall4:
				    ; 4. Horizontal wall at Y=12 (X=30-39)
 00001F3C  80 3D 00000FC2 R	    cmp ghostY, 12
	   0C
 00001F43  75 17		    jne CheckGhost1Wall5
 00001F45  80 3D 00000FC1 R	    cmp ghostX, 30
	   1E
 00001F4C  7C 0E		    jl CheckGhost1Wall5
 00001F4E  80 3D 00000FC1 R	    cmp ghostX, 39
	   27
 00001F55  7F 05		    jg CheckGhost1Wall5
 00001F57  E9 00000133		    jmp Ghost1Collision

 00001F5C			CheckGhost1Wall5:
				    ; 5. Horizontal wall at Y=12 (X=70-79)
 00001F5C  80 3D 00000FC2 R	    cmp ghostY, 12
	   0C
 00001F63  75 17		    jne CheckGhost1Wall6
 00001F65  80 3D 00000FC1 R	    cmp ghostX, 70
	   46
 00001F6C  7C 0E		    jl CheckGhost1Wall6
 00001F6E  80 3D 00000FC1 R	    cmp ghostX, 79
	   4F
 00001F75  7F 05		    jg CheckGhost1Wall6
 00001F77  E9 00000113		    jmp Ghost1Collision

 00001F7C			CheckGhost1Wall6:
				    ; 6. Horizontal wall at Y=16 (X=10-24)
 00001F7C  80 3D 00000FC2 R	    cmp ghostY, 16
	   10
 00001F83  75 17		    jne CheckGhost1Wall7
 00001F85  80 3D 00000FC1 R	    cmp ghostX, 10
	   0A
 00001F8C  7C 0E		    jl CheckGhost1Wall7
 00001F8E  80 3D 00000FC1 R	    cmp ghostX, 24
	   18
 00001F95  7F 05		    jg CheckGhost1Wall7
 00001F97  E9 000000F3		    jmp Ghost1Collision

 00001F9C			CheckGhost1Wall7:
				    ; 7. Horizontal wall at Y=16 (X=40-54)
 00001F9C  80 3D 00000FC2 R	    cmp ghostY, 16
	   10
 00001FA3  75 17		    jne CheckGhost1Wall8
 00001FA5  80 3D 00000FC1 R	    cmp ghostX, 40
	   28
 00001FAC  7C 0E		    jl CheckGhost1Wall8
 00001FAE  80 3D 00000FC1 R	    cmp ghostX, 54
	   36
 00001FB5  7F 05		    jg CheckGhost1Wall8
 00001FB7  E9 000000D3		    jmp Ghost1Collision

 00001FBC			CheckGhost1Wall8:
				    ; 8. Horizontal wall at Y=16 (X=80-94)
 00001FBC  80 3D 00000FC2 R	    cmp ghostY, 16
	   10
 00001FC3  75 17		    jne CheckGhost1Wall9
 00001FC5  80 3D 00000FC1 R	    cmp ghostX, 80
	   50
 00001FCC  7C 0E		    jl CheckGhost1Wall9
 00001FCE  80 3D 00000FC1 R	    cmp ghostX, 94
	   5E
 00001FD5  7F 05		    jg CheckGhost1Wall9
 00001FD7  E9 000000B3		    jmp Ghost1Collision

 00001FDC			CheckGhost1Wall9:
				    ; 9. Horizontal wall at Y=20 (X=20-44)
 00001FDC  80 3D 00000FC2 R	    cmp ghostY, 20
	   14
 00001FE3  75 17		    jne CheckGhost1Wall10
 00001FE5  80 3D 00000FC1 R	    cmp ghostX, 20
	   14
 00001FEC  7C 0E		    jl CheckGhost1Wall10
 00001FEE  80 3D 00000FC1 R	    cmp ghostX, 44
	   2C
 00001FF5  7F 05		    jg CheckGhost1Wall10
 00001FF7  E9 00000093		    jmp Ghost1Collision

 00001FFC			CheckGhost1Wall10:
				    ; 10. Horizontal wall at Y=20 (X=70-94)
 00001FFC  80 3D 00000FC2 R	    cmp ghostY, 20
	   14
 00002003  75 14		    jne CheckGhost1Wall11
 00002005  80 3D 00000FC1 R	    cmp ghostX, 70
	   46
 0000200C  7C 0B		    jl CheckGhost1Wall11
 0000200E  80 3D 00000FC1 R	    cmp ghostX, 94
	   5E
 00002015  7F 02		    jg CheckGhost1Wall11
 00002017  EB 76		    jmp Ghost1Collision

 00002019			CheckGhost1Wall11:
				    ; 11. Horizontal wall at Y=24 (X=30-39)
 00002019  80 3D 00000FC2 R	    cmp ghostY, 24
	   18
 00002020  75 14		    jne CheckGhost1Wall12
 00002022  80 3D 00000FC1 R	    cmp ghostX, 30
	   1E
 00002029  7C 0B		    jl CheckGhost1Wall12
 0000202B  80 3D 00000FC1 R	    cmp ghostX, 39
	   27
 00002032  7F 02		    jg CheckGhost1Wall12
 00002034  EB 59		    jmp Ghost1Collision

 00002036			CheckGhost1Wall12:
				    ; 12. Horizontal wall at Y=24 (X=70-79)
 00002036  80 3D 00000FC2 R	    cmp ghostY, 24
	   18
 0000203D  75 14		    jne CheckGhost1Wall13
 0000203F  80 3D 00000FC1 R	    cmp ghostX, 70
	   46
 00002046  7C 0B		    jl CheckGhost1Wall13
 00002048  80 3D 00000FC1 R	    cmp ghostX, 79
	   4F
 0000204F  7F 02		    jg CheckGhost1Wall13
 00002051  EB 3C		    jmp Ghost1Collision

 00002053			CheckGhost1Wall13:
				    ; 13. New horizontal wall at Y=12 (X=25-34)
 00002053  80 3D 00000FC2 R	    cmp ghostY, 12
	   0C
 0000205A  75 14		    jne CheckGhost1Wall14
 0000205C  80 3D 00000FC1 R	    cmp ghostX, 25
	   19
 00002063  7C 0B		    jl CheckGhost1Wall14
 00002065  80 3D 00000FC1 R	    cmp ghostX, 34
	   22
 0000206C  7F 02		    jg CheckGhost1Wall14
 0000206E  EB 1F		    jmp Ghost1Collision

 00002070			CheckGhost1Wall14:
				    ; 14. New horizontal wall at Y=16 (X=50-59)
 00002070  80 3D 00000FC2 R	    cmp ghostY, 16
	   10
 00002077  75 14		    jne Ghost1NoCollision
 00002079  80 3D 00000FC1 R	    cmp ghostX, 50
	   32
 00002080  7C 0B		    jl Ghost1NoCollision
 00002082  80 3D 00000FC1 R	    cmp ghostX, 59
	   3B
 00002089  7F 02		    jg Ghost1NoCollision
 0000208B  EB 02		    jmp Ghost1Collision

 0000208D			Ghost1NoCollision:
 0000208D  F8			    clc
 0000208E  C3			    ret

 0000208F			Ghost1Collision:
 0000208F  F9			    stc
 00002090  C3			    ret
 00002091			CheckGhost1WallCollision ENDP


 00002091			CheckGhost2WallCollision PROC
				    ; Check boundaries first
 00002091  80 3D 00001976 R	    cmp ghost2X, 0
	   00
 00002098  0F 8E 000001DA	    jle Ghost2Collision
 0000209E  80 3D 00001976 R	    cmp ghost2X, 114
	   72
 000020A5  0F 8D 000001CD	    jge Ghost2Collision
 000020AB  80 3D 00001977 R	    cmp ghost2Y, 5
	   05
 000020B2  0F 8E 000001C0	    jle Ghost2Collision
 000020B8  80 3D 00001977 R	    cmp ghost2Y, 29
	   1D
 000020BF  0F 8D 000001B3	    jge Ghost2Collision

				    ; 1. Vertical wall at X=5 (Y=4-10)
 000020C5  80 3D 00001976 R	    cmp ghost2X, 5
	   05
 000020CC  75 17		    jne CheckGhost2Wall2
 000020CE  80 3D 00001977 R	    cmp ghost2Y, 4
	   04
 000020D5  7C 0E		    jl CheckGhost2Wall2
 000020D7  80 3D 00001977 R	    cmp ghost2Y, 10
	   0A
 000020DE  7F 05		    jg CheckGhost2Wall2
 000020E0  E9 00000193		    jmp Ghost2Collision

 000020E5			CheckGhost2Wall2:
				    ; 2. Horizontal wall at Y=8 (X=15-34)
 000020E5  80 3D 00001977 R	    cmp ghost2Y, 8
	   08
 000020EC  75 17		    jne CheckGhost2Wall3
 000020EE  80 3D 00001976 R	    cmp ghost2X, 15
	   0F
 000020F5  7C 0E		    jl CheckGhost2Wall3
 000020F7  80 3D 00001976 R	    cmp ghost2X, 34
	   22
 000020FE  7F 05		    jg CheckGhost2Wall3
 00002100  E9 00000173		    jmp Ghost2Collision

 00002105			CheckGhost2Wall3:
				    ; 3. Horizontal wall at Y=8 (X=60-79)
 00002105  80 3D 00001977 R	    cmp ghost2Y, 8
	   08
 0000210C  75 17		    jne CheckGhost2Wall4
 0000210E  80 3D 00001976 R	    cmp ghost2X, 60
	   3C
 00002115  7C 0E		    jl CheckGhost2Wall4
 00002117  80 3D 00001976 R	    cmp ghost2X, 79
	   4F
 0000211E  7F 05		    jg CheckGhost2Wall4
 00002120  E9 00000153		    jmp Ghost2Collision

 00002125			CheckGhost2Wall4:
				    ; 4. Horizontal wall at Y=12 (X=30-39)
 00002125  80 3D 00001977 R	    cmp ghost2Y, 12
	   0C
 0000212C  75 17		    jne CheckGhost2Wall5
 0000212E  80 3D 00001976 R	    cmp ghost2X, 30
	   1E
 00002135  7C 0E		    jl CheckGhost2Wall5
 00002137  80 3D 00001976 R	    cmp ghost2X, 39
	   27
 0000213E  7F 05		    jg CheckGhost2Wall5
 00002140  E9 00000133		    jmp Ghost2Collision

 00002145			CheckGhost2Wall5:
				    ; 5. Horizontal wall at Y=12 (X=70-79)
 00002145  80 3D 00001977 R	    cmp ghost2Y, 12
	   0C
 0000214C  75 17		    jne CheckGhost2Wall6
 0000214E  80 3D 00001976 R	    cmp ghost2X, 70
	   46
 00002155  7C 0E		    jl CheckGhost2Wall6
 00002157  80 3D 00001976 R	    cmp ghost2X, 79
	   4F
 0000215E  7F 05		    jg CheckGhost2Wall6
 00002160  E9 00000113		    jmp Ghost2Collision

 00002165			CheckGhost2Wall6:
				    ; 6. Horizontal wall at Y=16 (X=10-24)
 00002165  80 3D 00001977 R	    cmp ghost2Y, 16
	   10
 0000216C  75 17		    jne CheckGhost2Wall7
 0000216E  80 3D 00001976 R	    cmp ghost2X, 10
	   0A
 00002175  7C 0E		    jl CheckGhost2Wall7
 00002177  80 3D 00001976 R	    cmp ghost2X, 24
	   18
 0000217E  7F 05		    jg CheckGhost2Wall7
 00002180  E9 000000F3		    jmp Ghost2Collision

 00002185			CheckGhost2Wall7:
				    ; 7. Horizontal wall at Y=16 (X=40-54)
 00002185  80 3D 00001977 R	    cmp ghost2Y, 16
	   10
 0000218C  75 17		    jne CheckGhost2Wall8
 0000218E  80 3D 00001976 R	    cmp ghost2X, 40
	   28
 00002195  7C 0E		    jl CheckGhost2Wall8
 00002197  80 3D 00001976 R	    cmp ghost2X, 54
	   36
 0000219E  7F 05		    jg CheckGhost2Wall8
 000021A0  E9 000000D3		    jmp Ghost2Collision

 000021A5			CheckGhost2Wall8:
				    ; 8. Horizontal wall at Y=16 (X=80-94)
 000021A5  80 3D 00001977 R	    cmp ghost2Y, 16
	   10
 000021AC  75 17		    jne CheckGhost2Wall9
 000021AE  80 3D 00001976 R	    cmp ghost2X, 80
	   50
 000021B5  7C 0E		    jl CheckGhost2Wall9
 000021B7  80 3D 00001976 R	    cmp ghost2X, 94
	   5E
 000021BE  7F 05		    jg CheckGhost2Wall9
 000021C0  E9 000000B3		    jmp Ghost2Collision

 000021C5			CheckGhost2Wall9:
				    ; 9. Horizontal wall at Y=20 (X=20-44)
 000021C5  80 3D 00001977 R	    cmp ghost2Y, 20
	   14
 000021CC  75 17		    jne CheckGhost2Wall10
 000021CE  80 3D 00001976 R	    cmp ghost2X, 20
	   14
 000021D5  7C 0E		    jl CheckGhost2Wall10
 000021D7  80 3D 00001976 R	    cmp ghost2X, 44
	   2C
 000021DE  7F 05		    jg CheckGhost2Wall10
 000021E0  E9 00000093		    jmp Ghost2Collision

 000021E5			CheckGhost2Wall10:
				    ; 10. Horizontal wall at Y=20 (X=70-94)
 000021E5  80 3D 00001977 R	    cmp ghost2Y, 20
	   14
 000021EC  75 14		    jne CheckGhost2Wall11
 000021EE  80 3D 00001976 R	    cmp ghost2X, 70
	   46
 000021F5  7C 0B		    jl CheckGhost2Wall11
 000021F7  80 3D 00001976 R	    cmp ghost2X, 94
	   5E
 000021FE  7F 02		    jg CheckGhost2Wall11
 00002200  EB 76		    jmp Ghost2Collision

 00002202			CheckGhost2Wall11:
				    ; 11. Horizontal wall at Y=24 (X=30-39)
 00002202  80 3D 00001977 R	    cmp ghost2Y, 24
	   18
 00002209  75 14		    jne CheckGhost2Wall12
 0000220B  80 3D 00001976 R	    cmp ghost2X, 30
	   1E
 00002212  7C 0B		    jl CheckGhost2Wall12
 00002214  80 3D 00001976 R	    cmp ghost2X, 39
	   27
 0000221B  7F 02		    jg CheckGhost2Wall12
 0000221D  EB 59		    jmp Ghost2Collision

 0000221F			CheckGhost2Wall12:
				    ; 12. Horizontal wall at Y=24 (X=70-79)
 0000221F  80 3D 00001977 R	    cmp ghost2Y, 24
	   18
 00002226  75 14		    jne CheckGhost2Wall13
 00002228  80 3D 00001976 R	    cmp ghost2X, 70
	   46
 0000222F  7C 0B		    jl CheckGhost2Wall13
 00002231  80 3D 00001976 R	    cmp ghost2X, 79
	   4F
 00002238  7F 02		    jg CheckGhost2Wall13
 0000223A  EB 3C		    jmp Ghost2Collision

 0000223C			CheckGhost2Wall13:
				    ; 13. New horizontal wall at Y=12 (X=25-34)
 0000223C  80 3D 00001977 R	    cmp ghost2Y, 12
	   0C
 00002243  75 14		    jne CheckGhost2Wall14
 00002245  80 3D 00001976 R	    cmp ghost2X, 25
	   19
 0000224C  7C 0B		    jl CheckGhost2Wall14
 0000224E  80 3D 00001976 R	    cmp ghost2X, 34
	   22
 00002255  7F 02		    jg CheckGhost2Wall14
 00002257  EB 1F		    jmp Ghost2Collision

 00002259			CheckGhost2Wall14:
				    ; 14. New horizontal wall at Y=16 (X=50-59)
 00002259  80 3D 00001977 R	    cmp ghost2Y, 16
	   10
 00002260  75 14		    jne Ghost2NoCollision
 00002262  80 3D 00001976 R	    cmp ghost2X, 50
	   32
 00002269  7C 0B		    jl Ghost2NoCollision
 0000226B  80 3D 00001976 R	    cmp ghost2X, 59
	   3B
 00002272  7F 02		    jg Ghost2NoCollision
 00002274  EB 02		    jmp Ghost2Collision

 00002276			Ghost2NoCollision:
 00002276  F8			    clc
 00002277  C3			    ret

 00002278			Ghost2Collision:
 00002278  F9			    stc
 00002279  C3			    ret
 0000227A			CheckGhost2WallCollision ENDP

 0000227A			CheckWallCollision2 PROC
				    ; Check boundaries first
 0000227A  80 3D 00000FBF R	    cmp pacmanX, 0
	   00
 00002281  0F 8E 000001DA	    jle Collision
 00002287  80 3D 00000FBF R	    cmp pacmanX, 114
	   72
 0000228E  0F 8D 000001CD	    jge Collision
 00002294  80 3D 00000FC0 R	    cmp pacmanY, 5
	   05
 0000229B  0F 8E 000001C0	    jle Collision
 000022A1  80 3D 00000FC0 R	    cmp pacmanY, 29
	   1D
 000022A8  0F 8D 000001B3	    jge Collision

				    ; 1. Vertical wall at X=5 (Y=4-10)
 000022AE  80 3D 00000FBF R	    cmp pacmanX, 5
	   05
 000022B5  75 17		    jne CheckWall2
 000022B7  80 3D 00000FC0 R	    cmp pacmanY, 4
	   04
 000022BE  7C 0E		    jl CheckWall2
 000022C0  80 3D 00000FC0 R	    cmp pacmanY, 10
	   0A
 000022C7  7F 05		    jg CheckWall2
 000022C9  E9 00000193		    jmp Collision

 000022CE			CheckWall2:
				    ; 2. Horizontal wall at Y=8 (X=15-34)
 000022CE  80 3D 00000FC0 R	    cmp pacmanY, 8
	   08
 000022D5  75 17		    jne CheckWall3
 000022D7  80 3D 00000FBF R	    cmp pacmanX, 15
	   0F
 000022DE  7C 0E		    jl CheckWall3
 000022E0  80 3D 00000FBF R	    cmp pacmanX, 34
	   22
 000022E7  7F 05		    jg CheckWall3
 000022E9  E9 00000173		    jmp Collision

 000022EE			CheckWall3:
				    ; 3. Horizontal wall at Y=8 (X=60-79)
 000022EE  80 3D 00000FC0 R	    cmp pacmanY, 8
	   08
 000022F5  75 17		    jne CheckWall4
 000022F7  80 3D 00000FBF R	    cmp pacmanX, 60
	   3C
 000022FE  7C 0E		    jl CheckWall4
 00002300  80 3D 00000FBF R	    cmp pacmanX, 79
	   4F
 00002307  7F 05		    jg CheckWall4
 00002309  E9 00000153		    jmp Collision

 0000230E			CheckWall4:
				    ; 4. Horizontal wall at Y=12 (X=30-39)
 0000230E  80 3D 00000FC0 R	    cmp pacmanY, 12
	   0C
 00002315  75 17		    jne CheckWall5
 00002317  80 3D 00000FBF R	    cmp pacmanX, 30
	   1E
 0000231E  7C 0E		    jl CheckWall5
 00002320  80 3D 00000FBF R	    cmp pacmanX, 39
	   27
 00002327  7F 05    jg CheckWall5
 00002329  E9 00000133		    jmp Collision

 0000232E			CheckWall5:
				    ; 5. Horizontal wall at Y=12 (X=70-79)
 0000232E  80 3D 00000FC0 R	    cmp pacmanY, 12
	   0C
 00002335  75 17		    jne CheckWall6
 00002337  80 3D 00000FBF R	    cmp pacmanX, 70
	   46
 0000233E  7C 0E		    jl CheckWall6
 00002340  80 3D 00000FBF R	    cmp pacmanX, 79
	   4F
 00002347  7F 05		    jg CheckWall6
 00002349  E9 00000113		    jmp Collision

 0000234E			CheckWall6:
				    ; 6. Horizontal wall at Y=16 (X=10-24)
 0000234E  80 3D 00000FC0 R	    cmp pacmanY, 16
	   10
 00002355  75 17		    jne CheckWall7
 00002357  80 3D 00000FBF R	    cmp pacmanX, 10
	   0A
 0000235E  7C 0E		    jl CheckWall7
 00002360  80 3D 00000FBF R	    cmp pacmanX, 24
	   18
 00002367  7F 05		    jg CheckWall7
 00002369  E9 000000F3		    jmp Collision

 0000236E			CheckWall7:
				    ; 7. Horizontal wall at Y=16 (X=40-54)
 0000236E  80 3D 00000FC0 R	    cmp pacmanY, 16
	   10
 00002375  75 17		    jne CheckWall8
 00002377  80 3D 00000FBF R	    cmp pacmanX, 40
	   28
 0000237E  7C 0E		    jl CheckWall8
 00002380  80 3D 00000FBF R	    cmp pacmanX, 54
	   36
 00002387  7F 05		    jg CheckWall8
 00002389  E9 000000D3		    jmp Collision

 0000238E			CheckWall8:
				    ; 8. Horizontal wall at Y=16 (X=80-94)
 0000238E  80 3D 00000FC0 R	    cmp pacmanY, 16
	   10
 00002395  75 17		    jne CheckWall9
 00002397  80 3D 00000FBF R	    cmp pacmanX, 80
	   50
 0000239E  7C 0E		    jl CheckWall9
 000023A0  80 3D 00000FBF R	    cmp pacmanX, 94
	   5E
 000023A7  7F 05		    jg CheckWall9
 000023A9  E9 000000B3		    jmp Collision

 000023AE			CheckWall9:
				    ; 9. Horizontal wall at Y=20 (X=20-44)
 000023AE  80 3D 00000FC0 R	    cmp pacmanY, 20
	   14
 000023B5  75 17		    jne CheckWall10
 000023B7  80 3D 00000FBF R	    cmp pacmanX, 20
	   14
 000023BE  7C 0E		    jl CheckWall10
 000023C0  80 3D 00000FBF R	    cmp pacmanX, 44
	   2C
 000023C7  7F 05		    jg CheckWall10
 000023C9  E9 00000093		    jmp Collision

 000023CE			CheckWall10:
				    ; 10. Horizontal wall at Y=20 (X=70-94)
 000023CE  80 3D 00000FC0 R	    cmp pacmanY, 20
	   14
 000023D5  75 14		    jne CheckWall11
 000023D7  80 3D 00000FBF R	    cmp pacmanX, 70
	   46
 000023DE  7C 0B		    jl CheckWall11
 000023E0  80 3D 00000FBF R	    cmp pacmanX, 94
	   5E
 000023E7  7F 02		    jg CheckWall11
 000023E9  EB 76		    jmp Collision

 000023EB			CheckWall11:
				    ; 11. Horizontal wall at Y=24 (X=30-39)
 000023EB  80 3D 00000FC0 R	    cmp pacmanY, 24
	   18
 000023F2  75 14		    jne CheckWall12
 000023F4  80 3D 00000FBF R	    cmp pacmanX, 30
	   1E
 000023FB  7C 0B		    jl CheckWall12
 000023FD  80 3D 00000FBF R	    cmp pacmanX, 39
	   27
 00002404  7F 02		    jg CheckWall12
 00002406  EB 59		    jmp Collision

 00002408			CheckWall12:
				    ; 12. Horizontal wall at Y=24 (X=70-79)
 00002408  80 3D 00000FC0 R	    cmp pacmanY, 24
	   18
 0000240F  75 14		    jne CheckWall13
 00002411  80 3D 00000FBF R	    cmp pacmanX, 70
	   46
 00002418  7C 0B		    jl CheckWall13
 0000241A  80 3D 00000FBF R	    cmp pacmanX, 79
	   4F
 00002421  7F 02		    jg CheckWall13
 00002423  EB 3C		    jmp Collision

 00002425			CheckWall13:
				    ; 13. New horizontal wall at Y=12 (X=25-34)
 00002425  80 3D 00000FC0 R	    cmp pacmanY, 12
	   0C
 0000242C  75 14		    jne CheckWall14
 0000242E  80 3D 00000FBF R	    cmp pacmanX, 25
	   19
 00002435  7C 0B		    jl CheckWall14
 00002437  80 3D 00000FBF R	    cmp pacmanX, 34
	   22
 0000243E  7F 02		    jg CheckWall14
 00002440  EB 1F		    jmp Collision

 00002442			CheckWall14:
				    ; 14. New horizontal wall at Y=16 (X=50-59)
 00002442  80 3D 00000FC0 R	    cmp pacmanY, 16
	   10
 00002449  75 14		    jne NoCollision
 0000244B  80 3D 00000FBF R	    cmp pacmanX, 50
	   32
 00002452  7C 0B		    jl NoCollision
 00002454  80 3D 00000FBF R	    cmp pacmanX, 59
	   3B
 0000245B  7F 02		    jg NoCollision
 0000245D  EB 02		    jmp Collision

 0000245F			NoCollision:
 0000245F  F8			    clc
 00002460  C3			    ret

 00002461			Collision:
 00002461  F9			    stc
 00002462  C3			    ret
 00002463			CheckWallCollision2 ENDP

				; ==================== LEVEL 3 SCREEN ====================
 00002463			Level3Screen PROC
 00002463  E8 00000000 E	    call Clrscr
 00002468  E8 FFFFDBD2		    call levelSound

				    ; Initialize game state
 0000246D  C6 05 00000FBF R	    mov pacmanX, 10
	   0A
 00002474  C6 05 00000FC0 R	    mov pacmanY, 15
	   0F
 0000247B  C6 05 00000FCF R	    mov oldPacmanX, 10     
	   0A
 00002482  C6 05 00000FD0 R	    mov oldPacmanY, 15
	   0F
				    
				    ; Initialize three ghosts
 00002489  C6 05 00000FC1 R	    mov ghostX, 50
	   32
 00002490  C6 05 00000FC2 R	    mov ghostY, 15
	   0F
 00002497  C6 05 00000FD2 R	    mov oldGhostX, 50
	   32
 0000249E  C6 05 00000FD3 R	    mov oldGhostY, 15
	   0F
 000024A5  C6 05 00001976 R	    mov ghost2X, 70
	   46
 000024AC  C6 05 00001977 R	    mov ghost2Y, 15
	   0F
 000024B3  C6 05 00001978 R	    mov oldGhost2X, 70
	   46
 000024BA  C6 05 00001979 R	    mov oldGhost2Y, 15
	   0F
 000024C1  C6 05 0000197B R	    mov ghost3X, 30      ; Third ghost
	   1E
 000024C8  C6 05 0000197C R	    mov ghost3Y, 20
	   14
 000024CF  C6 05 0000197D R	    mov oldGhost3X, 30
	   1E
 000024D6  C6 05 0000197E R	    mov oldGhost3Y, 20
	   14
				    
 000024DD  C7 05 00000FC3 R	    mov score, 0
	   00000000
 000024E7  C6 05 00000F96 R	    mov pelletCount, 25   ; More pellets for level 3
	   19
 000024EE  C6 05 0000100B R	    mov gamePaused, 0    
	   00
 000024F5  C6 05 00000F6C R	    mov currentLevel, 3
	   03
				    
				    ; Initialize fruits as inactive
 000024FC  C6 05 00001985 R	    mov fruitActive[0], 0
	   00
 00002503  C6 05 00001986 R	    mov fruitActive[1], 0
	   00
 0000250A  C7 05 00001987 R	    mov fruitTimer, 0
	   00000000
				    
				    ; Initialize portals
 00002514  C6 05 0000198B R	    mov portal1X, 10
	   0A
 0000251B  C6 05 0000198C R	    mov portal1Y, 10
	   0A
 00002522  C6 05 0000198D R	    mov portal2X, 100
	   64
 00002529  C6 05 0000198E R	    mov portal2Y, 20
	   14
				    
 00002530  E8 FFFFE6E0		    call InitializePellets
 00002535  E8 0000031E		    call DrawStaticElementsLevel3

 0000253A			GameLoop:
				    ; Update fruit timer
 0000253A  E8 FFFFF795		    call UpdateFruitTimer
				    
 0000253F  E8 00000000 E	    call ReadKey
 00002544  0F 84 00000100	    jz NoPlayerInput

				    ; Check for pause input
 0000254A  3C 71		    cmp al, 'q'
 0000254C  0F 84 0000015F	    je TogglePause
 00002552  3C 51		    cmp al, 'Q'
 00002554  0F 84 00000157	    je TogglePause

				    ; Handle movement and menu keys
 0000255A  3C 77		    cmp al, 'w'
 0000255C  74 1D		    je MoveUp
 0000255E  3C 61		    cmp al, 'a'
 00002560  74 4A		    je MoveLeft
 00002562  3C 73		    cmp al, 's'
 00002564  74 71		    je MoveDown
 00002566  3C 64		    cmp al, 'd'
 00002568  0F 84 00000094	    je MoveRight
 0000256E  3C 31		    cmp al, '1'    ; Return to menu
 00002570  0F 84 00000168	    je ExitLevel
 00002576  E9 000000CF		    jmp NoPlayerInput

 0000257B			MoveUp:
 0000257B  A0 00000FBF R	    mov al, pacmanX
 00002580  A2 00000FCF R	    mov oldPacmanX, al
 00002585  A0 00000FC0 R	    mov al, pacmanY
 0000258A  A2 00000FD0 R	    mov oldPacmanY, al
 0000258F  FE 0D 00000FC0 R	    dec pacmanY
 00002595  E8 00000BDB		    call CheckWallCollision3
 0000259A  72 05		    jc CancelMoveUp
 0000259C  E9 0000008C		    jmp AfterMove
 000025A1			CancelMoveUp:
 000025A1  FE 05 00000FC0 R	    inc pacmanY
 000025A7  E9 00000081		    jmp AfterMove

 000025AC			MoveLeft:
 000025AC  A0 00000FBF R	    mov al, pacmanX
 000025B1  A2 00000FCF R	    mov oldPacmanX, al
 000025B6  A0 00000FC0 R	    mov al, pacmanY
 000025BB  A2 00000FD0 R	    mov oldPacmanY, al
 000025C0  FE 0D 00000FBF R	    dec pacmanX
 000025C6  E8 00000BAA		    call CheckWallCollision3
 000025CB  72 02		    jc CancelMoveLeft
 000025CD  EB 5E		    jmp AfterMove
 000025CF			CancelMoveLeft:
 000025CF  FE 05 00000FBF R	    inc pacmanX
 000025D5  EB 56		    jmp AfterMove

 000025D7			MoveDown:
 000025D7  A0 00000FBF R	    mov al, pacmanX
 000025DC  A2 00000FCF R	    mov oldPacmanX, al
 000025E1  A0 00000FC0 R	    mov al, pacmanY
 000025E6  A2 00000FD0 R	    mov oldPacmanY, al
 000025EB  FE 05 00000FC0 R	    inc pacmanY
 000025F1  E8 00000B7F		    call CheckWallCollision3
 000025F6  72 02		    jc CancelMoveDown
 000025F8  EB 33		    jmp AfterMove
 000025FA			CancelMoveDown:
 000025FA  FE 0D 00000FC0 R	    dec pacmanY
 00002600  EB 2B		    jmp AfterMove

 00002602			MoveRight:
 00002602  A0 00000FBF R	    mov al, pacmanX
 00002607  A2 00000FCF R	    mov oldPacmanX, al
 0000260C  A0 00000FC0 R	    mov al, pacmanY
 00002611  A2 00000FD0 R	    mov oldPacmanY, al
 00002616  FE 05 00000FBF R	    inc pacmanX
 0000261C  E8 00000B54		    call CheckWallCollision3
 00002621  72 02		    jc CancelMoveRight
 00002623  EB 08		    jmp AfterMove
 00002625			CancelMoveRight:
 00002625  FE 0D 00000FBF R	    dec pacmanX
 0000262B  EB 00		    jmp AfterMove

 0000262D			AfterMove:
 0000262D  E8 00000ADA		    call CheckPortalCollision
 00002632  E8 FFFFE6F3		    call CheckPelletCollision
 00002637  E8 FFFFF7B0		    call CheckFruitCollision
 0000263C  E8 0000097B		    call CheckGhostCollisionLevel3
 00002641  83 F8 01		    cmp eax, 1
 00002644  0F 84 000000A0	    je GameLost

 0000264A			NoPlayerInput:
				    ; Skip ghost and game logic if paused
 0000264A  80 3D 0000100B R	    cmp gamePaused, 1
	   01
 00002651  74 30		    je PausedLoop

 00002653  E8 00000593		    call ClearOldPositionsLevel3
 00002658  E8 00000605		    call GhostMovementLevel3
 0000265D  E8 0000046F		    call DrawGameElementsLevel3

				    ; Small delay
 00002662  B8 00000046		    mov eax, 70  ; Faster than level 2
 00002667  E8 00000000 E	    call Delay

				    ; Check win condition (30 points to win)
 0000266C  83 3D 00000FC3 R	    cmp score, 30
	   1E
 00002673  7D 6A		    jge LevelWon
 00002675  83 3D 00000FC7 R	    cmp lives, 0
	   00
 0000267C  7E 6C		    jle GameLost
 0000267E  E9 FFFFFEB7		    jmp GameLoop

 00002683			PausedLoop:
				    ; Show pause message once
 00002683  B8 0000000E		    mov eax, yellowTxt
 00002688  E8 00000000 E	    call SetTextColor
 0000268D  B6 0C		    mov dh, 12
 0000268F  B2 14		    mov dl, 20
 00002691  E8 00000000 E	    call Gotoxy
 00002696  BA 00000FEA R	    mov edx, OFFSET pausedMsg
 0000269B  E8 00000000 E	    call WriteString

 000026A0			WaitWhilePaused:
 000026A0  E8 00000000 E	    call ReadKey
 000026A5  74 F9		    jz WaitWhilePaused

 000026A7  3C 71		    cmp al, 'q'
 000026A9  74 06		    je TogglePause
 000026AB  3C 51		    cmp al, 'Q'
 000026AD  74 02		    je TogglePause
 000026AF  EB EF		    jmp WaitWhilePaused

 000026B1			TogglePause:
 000026B1  80 35 0000100B R	    xor gamePaused, 1
	   01

				    ; Clear pause message
 000026B8  B8 00000000		    mov eax, blackTxt
 000026BD  E8 00000000 E	    call SetTextColor
 000026C2  B6 0C		    mov dh, 12
 000026C4  B2 14		    mov dl, 20
 000026C6  E8 00000000 E	    call Gotoxy
 000026CB  B9 00000028		    mov ecx, 40
 000026D0			ClearPauseText:
 000026D0  B0 20		    mov al, ' '
 000026D2  E8 00000000 E	    call WriteChar
 000026D7  E2 F7		    loop ClearPauseText

 000026D9  E9 FFFFFE5C		    jmp GameLoop

 000026DE			ExitLevel:
 000026DE  C3			    ret

 000026DF			LevelWon:
 000026DF  E8 FFFFE914		    call SaveScore
 000026E4  E8 000000B4		    call LevelCompleteScreen
 000026E9  C3			    ret

 000026EA			GameLost:
 000026EA  E8 FFFFE909		    call SaveScore
 000026EF  E8 00000001		    call GameOverScreen
 000026F4  C3			    ret
 000026F5			GameOverScreen:
 000026F5  E8 00000000 E	    call Clrscr
 000026FA  B8 00000004		    mov eax, redTxt
 000026FF  E8 00000000 E	    call SetTextColor

				    ; Draw game over message
 00002704  B6 05		    mov dh, 5
 00002706  B2 14		    mov dl, 20
 00002708  E8 00000000 E	    call Gotoxy
 0000270D  BA 00000D86 R	    mov edx, OFFSET gameOverMsg1
 00002712  E8 00000000 E	    call WriteString

 00002717  B6 06		    mov dh, 6
 00002719  B2 14		    mov dl, 20
 0000271B  E8 00000000 E	    call Gotoxy
 00002720  BA 00000DBA R	    mov edx, OFFSET gameOverMsg2
 00002725  E8 00000000 E	    call WriteString

 0000272A  B6 06		    mov dh, 6
 0000272C  B2 14		    mov dl, 20
 0000272E  E8 00000000 E	    call Gotoxy
 00002733  BA 00000DED R	    mov edx, OFFSET gameOverMsg3
 00002738  E8 00000000 E	    call WriteString

 0000273D  B6 07		    mov dh, 7
 0000273F  B2 14		    mov dl, 20
 00002741  E8 00000000 E	    call Gotoxy
 00002746  BA 00000E21 R	    mov edx, OFFSET gameOverMsg4
 0000274B  E8 00000000 E	    call WriteString

 00002750  B6 08		    mov dh, 8
 00002752  B2 14		    mov dl, 20
 00002754  E8 00000000 E	    call Gotoxy
 00002759  BA 00000E55 R	    mov edx, OFFSET gameOverMsg5
 0000275E  E8 00000000 E	    call WriteString

				    ; Display score
 00002763  B6 0C		    mov dh, 12
 00002765  B2 14		    mov dl, 20
 00002767  E8 00000000 E	    call Gotoxy
 0000276C  BA 00000E89 R	    mov edx, OFFSET scoreDisplay
 00002771  E8 00000000 E	    call WriteString
 00002776  A1 00000FC3 R	    mov eax, score
 0000277B  E8 00000000 E	    call WriteDec

				    ; Display return option
 00002780  B6 0E		    mov dh, 14
 00002782  B2 14		    mov dl, 20
 00002784  E8 00000000 E	    call Gotoxy
 00002789  BA 00000E9C R	    mov edx, OFFSET returnOption
 0000278E  E8 00000000 E	    call WriteString

 00002793			WaitForInput:
 00002793  E8 00000000 E	    call ReadChar
 00002798  3C 31		    cmp al, '1'
 0000279A  75 F7		    jne WaitForInput
 0000279C  C3			    ret


 0000279D			LevelCompleteScreen:
 0000279D  E8 00000000 E	    call Clrscr
 000027A2  B8 00000002		    mov eax, greenTxt
 000027A7  E8 00000000 E	    call SetTextColor

				    ; Draw level complete message
 000027AC  B6 05		    mov dh, 5
 000027AE  B2 14		    mov dl, 20
 000027B0  E8 00000000 E	    call Gotoxy
 000027B5  BA 00000EB6 R	    mov edx, OFFSET levelCompleteMsg1
 000027BA  E8 00000000 E	    call WriteString

 000027BF  B6 06		    mov dh, 6
 000027C1  B2 14		    mov dl, 20
 000027C3  E8 00000000 E	    call Gotoxy
 000027C8  BA 00000ED4 R	    mov edx, OFFSET levelCompleteMsg2
 000027CD  E8 00000000 E	    call WriteString

 000027D2  B6 07		    mov dh, 7
 000027D4  B2 14		    mov dl, 20
 000027D6  E8 00000000 E	    call Gotoxy
 000027DB  BA 00000EF2 R	    mov edx, OFFSET levelCompleteMsg3
 000027E0  E8 00000000 E	    call WriteString

 000027E5  B6 08		    mov dh, 8
 000027E7  B2 14		    mov dl, 20
 000027E9  E8 00000000 E	    call Gotoxy
 000027EE  BA 00000F10 R	    mov edx, OFFSET levelCompleteMsg4
 000027F3  E8 00000000 E	    call WriteString

 000027F8  B6 09		    mov dh, 9
 000027FA  B2 14		    mov dl, 20
 000027FC  E8 00000000 E	    call Gotoxy
 00002801  BA 00000F2E R	    mov edx, OFFSET levelCompleteMsg5
 00002806  E8 00000000 E	    call WriteString

 0000280B  B6 0A		    mov dh, 10
 0000280D  B2 14		    mov dl, 20
 0000280F  E8 00000000 E	    call Gotoxy
 00002814  BA 00000F4C R	    mov edx, OFFSET levelCompleteMsg6
 00002819  E8 00000000 E	    call WriteString

				    
				    ; Display score
 0000281E  B6 0C		    mov dh, 12
 00002820  B2 14		    mov dl, 20
 00002822  E8 00000000 E	    call Gotoxy
 00002827  BA 00000E89 R	    mov edx, OFFSET scoreDisplay
 0000282C  E8 00000000 E	    call WriteString
 00002831  A1 00000FC3 R	    mov eax, score
 00002836  E8 00000000 E	    call WriteDec

				    ; Display return option
 0000283B  B6 0E		    mov dh, 14
 0000283D  B2 14		    mov dl, 20
 0000283F  E8 00000000 E	    call Gotoxy
 00002844  BA 00000E9C R	    mov edx, OFFSET returnOption
 00002849  E8 00000000 E	    call WriteString

 0000284E			WaitForInput2:
 0000284E  E8 00000000 E	    call ReadChar
 00002853  3C 31		    cmp al, '1'
 00002855  75 F7		    jne WaitForInput2
 00002857  C3			    ret
 00002858			Level3Screen ENDP

				; ==================== LEVEL 3 SPECIFIC PROCEDURES ====================

 00002858			DrawStaticElementsLevel3 PROC
				    ; Draw info bar
 00002858  B8 0000000F		    mov eax, whiteTxt
 0000285D  E8 00000000 E	    call SetTextColor
				    
 00002862  B6 00		    mov dh, 0
 00002864  B2 00		    mov dl, 0
 00002866  E8 00000000 E	    call Gotoxy
 0000286B  BA 00000F7E R	    mov edx, OFFSET livesMsg
 00002870  E8 00000000 E	    call WriteString
 00002875  A1 00000FC7 R	    mov eax, lives
 0000287A  E8 00000000 E	    call WriteDec

 0000287F  B6 01		    mov dh, 1
 00002881  B2 00		    mov dl, 0
 00002883  E8 00000000 E	    call Gotoxy
 00002888  BA 0000009D R	    mov edx, OFFSET userName
 0000288D  E8 00000000 E	    call WriteString

 00002892  B6 02		    mov dh, 2
 00002894  B2 4B		    mov dl, 75
 00002896  E8 00000000 E	    call Gotoxy
 0000289B  BA 00000F86 R	    mov edx, OFFSET levelMsg
 000028A0  E8 00000000 E	    call WriteString
 000028A5  A0 00000F6C R	    mov al, currentLevel
 000028AA  E8 00000000 E	    call WriteDec

 000028AF  B6 04		    mov dh, 4       
 000028B1  B2 01		    mov dl, 1
 000028B3  E8 00000000 E	    call Gotoxy
 000028B8  BA 00000FD4 R	    mov edx, OFFSET pauseMsg
 000028BD  E8 00000000 E	    call WriteString

				    ; Draw borders
				    ; Top border
 000028C2  B6 05		    mov dh, 5
 000028C4  B2 00		    mov dl, 0
 000028C6  B9 00000073		    mov ecx, 115
 000028CB  A0 00000F8E R	    mov al, wallChar
 000028D0			topBorder:
 000028D0  E8 00000000 E	    call Gotoxy
 000028D5  E8 00000000 E	    call WriteChar
 000028DA  FE C2		    inc dl
 000028DC  E2 F2		    loop topBorder

				    ; Bottom border
 000028DE  B6 1D		    mov dh, 29
 000028E0  B2 00		    mov dl, 0
 000028E2  B9 00000073		    mov ecx, 115
 000028E7			bottomBorder:
 000028E7  E8 00000000 E	    call Gotoxy
 000028EC  E8 00000000 E	    call WriteChar
 000028F1  FE C2		    inc dl
 000028F3  E2 F2		    loop bottomBorder

				    ; Left and right borders 
 000028F5  B6 05		    mov dh, 5
 000028F7  B9 0000001B		    mov ecx, 27        ; Height
 000028FC			sideBorders:
				    ; Left border
 000028FC  B2 00		    mov dl, 0
 000028FE  E8 00000000 E	    call Gotoxy
 00002903  A0 00000F8E R	    mov al, wallChar
 00002908  E8 00000000 E	    call WriteChar
				    ; Right border
 0000290D  B2 72		    mov dl, 114
 0000290F  E8 00000000 E	    call Gotoxy
 00002914  A0 00000F8E R	    mov al, wallChar
 00002919  E8 00000000 E	    call WriteChar
 0000291E  FE C6		    inc dh
 00002920  E2 DA		    loop sideBorders

				    ; Inner walls - different pattern for level 3
 00002922  E8 00000054		    call DrawInnerWallsLevel3

				    ; Draw portals
 00002927  B8 00000001		    mov eax, blueTxt
 0000292C  E8 00000000 E	    call SetTextColor
 00002931  8A 15 0000198B R	    mov dl, portal1X
 00002937  8A 35 0000198C R	    mov dh, portal1Y
 0000293D  E8 00000000 E	    call Gotoxy
 00002942  A0 0000198F R	    mov al, portalChar
 00002947  E8 00000000 E	    call WriteChar
				    
 0000294C  8A 15 0000198D R	    mov dl, portal2X
 00002952  8A 35 0000198E R	    mov dh, portal2Y
 00002958  E8 00000000 E	    call Gotoxy
 0000295D  A0 0000198F R	    mov al, portalChar
 00002962  E8 00000000 E	    call WriteChar
				    
				    ; Return message
 00002967  B6 03		    mov dh, 3
 00002969  B2 02		    mov dl, 2
 0000296B  E8 00000000 E	    call Gotoxy
 00002970  BA 000000CF R	    mov edx, offset returnMsg
 00002975  E8 00000000 E	    call WriteString
				    
 0000297A  C3			    ret
 0000297B			DrawStaticElementsLevel3 ENDP

				;....................................................................
 0000297B			DrawInnerWallsLevel3 PROC
				    ; Original walls from level 2
 0000297B  B6 08		    mov dh, 8
 0000297D  B2 0F		    mov dl, 15
 0000297F  B9 00000014		    mov ecx, 20
 00002984  E8 FFFFE472		    call DrawWall
 00002989  B2 3C		    mov dl, 60
 0000298B  B9 00000014		    mov ecx, 20
 00002990  E8 FFFFE466		    call DrawWall

 00002995  B6 0C		    mov dh, 12
 00002997  B2 1E		    mov dl, 30
 00002999  B9 0000000A		    mov ecx, 10
 0000299E  E8 FFFFE458		    call DrawWall
 000029A3  B2 46		    mov dl, 70
 000029A5  E8 FFFFE451		    call DrawWall

 000029AA  B6 10		    mov dh, 16
 000029AC  B2 0A		    mov dl, 10
 000029AE  B9 0000000F		    mov ecx, 15
 000029B3  E8 FFFFE443		    call DrawWall
 000029B8  B2 28		    mov dl, 40
 000029BA  E8 FFFFE43C		    call DrawWall
 000029BF  B2 50		    mov dl, 80
 000029C1  E8 FFFFE435		    call DrawWall

 000029C6  B6 14		    mov dh, 20
 000029C8  B2 14		    mov dl, 20
 000029CA  B9 00000019		    mov ecx, 25
 000029CF  E8 FFFFE427		    call DrawWall
 000029D4  B2 46		    mov dl, 70
 000029D6  E8 FFFFE420		    call DrawWall

 000029DB  B6 18		    mov dh, 24
 000029DD  B2 1E		    mov dl, 30
 000029DF  B9 0000000A		    mov ecx, 10
 000029E4  E8 FFFFE412		    call DrawWall
 000029E9  B2 46		    mov dl, 70
 000029EB  E8 FFFFE40B		    call DrawWall

				    ; New small walls (2-3 characters long)
				    ; Vertical small walls
 000029F0  B6 07		    mov dh, 7
 000029F2  B2 19		    mov dl, 25
 000029F4  B9 00000003		    mov ecx, 3
 000029F9			VerticalSmallWall1:
 000029F9  E8 00000000 E	    call Gotoxy
 000029FE  A0 00000F8E R	    mov al, wallChar
 00002A03  E8 00000000 E	    call WriteChar
 00002A08  FE C6		    inc dh
 00002A0A  E2 ED		    loop VerticalSmallWall1

 00002A0C  B6 0A		    mov dh, 10
 00002A0E  B2 2D		    mov dl, 45
 00002A10  B9 00000002		    mov ecx, 2
 00002A15			VerticalSmallWall2:
 00002A15  E8 00000000 E	    call Gotoxy
 00002A1A  A0 00000F8E R	    mov al, wallChar
 00002A1F  E8 00000000 E	    call WriteChar
 00002A24  FE C6		    inc dh
 00002A26  E2 ED		    loop VerticalSmallWall2

 00002A28  B6 0F		    mov dh, 15
 00002A2A  B2 41		    mov dl, 65
 00002A2C  B9 00000003		    mov ecx, 3
 00002A31			VerticalSmallWall3:
 00002A31  E8 00000000 E	    call Gotoxy
 00002A36  A0 00000F8E R	    mov al, wallChar
 00002A3B  E8 00000000 E	    call WriteChar
 00002A40  FE C6		    inc dh
 00002A42  E2 ED		    loop VerticalSmallWall3

				    ; Horizontal small walls
 00002A44  B6 09		    mov dh, 9
 00002A46  B2 23		    mov dl, 35
 00002A48  B9 00000002		    mov ecx, 2
 00002A4D			HorizontalSmallWall1:
 00002A4D  E8 00000000 E	    call Gotoxy
 00002A52  A0 00000F8E R	    mov al, wallChar
 00002A57  E8 00000000 E	    call WriteChar
 00002A5C  FE C2		    inc dl
 00002A5E  E2 ED		    loop HorizontalSmallWall1

 00002A60  B6 0E		    mov dh, 14
 00002A62  B2 37		    mov dl, 55
 00002A64  B9 00000003		    mov ecx, 3
 00002A69			HorizontalSmallWall2:
 00002A69  E8 00000000 E	    call Gotoxy
 00002A6E  A0 00000F8E R	    mov al, wallChar
 00002A73  E8 00000000 E	    call WriteChar
 00002A78  FE C2		    inc dl
 00002A7A  E2 ED		    loop HorizontalSmallWall2

 00002A7C  B6 13		    mov dh, 19
 00002A7E  B2 4B		    mov dl, 75
 00002A80  B9 00000002		    mov ecx, 2
 00002A85			HorizontalSmallWall3:
 00002A85  E8 00000000 E	    call Gotoxy
 00002A8A  A0 00000F8E R	    mov al, wallChar
 00002A8F  E8 00000000 E	    call WriteChar
 00002A94  FE C2		    inc dl
 00002A96  E2 ED		    loop HorizontalSmallWall3

				    ; Hidden shortcut walls (appear as normal but can be passed through)
				    ; These will be handled in collision detection
 00002A98  B6 12		    mov dh, 18
 00002A9A  B2 32		    mov dl, 50
 00002A9C  B9 00000003		    mov ecx, 3
 00002AA1			HiddenShortcut1:
 00002AA1  E8 00000000 E	    call Gotoxy
 00002AA6  A0 00001990 R	    mov al, hiddenWallChar
 00002AAB  E8 00000000 E	    call WriteChar
 00002AB0  FE C2		    inc dl
 00002AB2  E2 ED		    loop HiddenShortcut1

 00002AB4  B6 16		    mov dh, 22
 00002AB6  B2 1E		    mov dl, 30
 00002AB8  B9 00000002		    mov ecx, 2
 00002ABD			HiddenShortcut2:
 00002ABD  E8 00000000 E	    call Gotoxy
 00002AC2  A0 00001990 R	    mov al, hiddenWallChar
 00002AC7  E8 00000000 E	    call WriteChar
 00002ACC  FE C2		    inc dl
 00002ACE  E2 ED		    loop HiddenShortcut2

 00002AD0  C3			    ret
 00002AD1			DrawInnerWallsLevel3 ENDP

				;....................................................................
 00002AD1			DrawGameElementsLevel3 PROC
				    ; Draw pellets
 00002AD1  B8 00000005		    mov eax, purpleTxt
 00002AD6  E8 00000000 E	    call SetTextColor
 00002ADB  BE 00000F97 R	    mov esi, OFFSET pelletPositions
 00002AE0  8A 0D 00000F96 R	    mov cl, pelletCount

 00002AE6			DrawPellets:
 00002AE6  80 3E 00		    cmp byte ptr [esi], 0  ; Skip if pellet collected
 00002AE9  74 14		    je SkipPellet
				    
 00002AEB  8A 16		    mov dl, [esi]    ; X
 00002AED  8A 76 01		    mov dh, [esi+1]  ; Y
 00002AF0  E8 00000000 E	    call Gotoxy
 00002AF5  A0 00000F90 R	    mov al, pelletChar
 00002AFA  E8 00000000 E	    call WriteChar

 00002AFF			SkipPellet:
 00002AFF  83 C6 02		    add esi, 2
 00002B02  E2 E2		    loop DrawPellets

				    ; Draw fruits if active
 00002B04  80 3D 00001985 R	    cmp fruitActive[0], 1
	   01
 00002B0B  75 25		    jne SkipFruit1
 00002B0D  B8 0000000E		    mov eax, yellowTxt
 00002B12  E8 00000000 E	    call SetTextColor
 00002B17  8A 15 00001981 R	    mov dl, fruit1X
 00002B1D  8A 35 00001982 R	    mov dh, fruit1Y
 00002B23  E8 00000000 E	    call Gotoxy
 00002B28  A0 0000197F R	    mov al, fruitChar
 00002B2D  E8 00000000 E	    call WriteChar

 00002B32			SkipFruit1:
 00002B32  80 3D 00001986 R	    cmp fruitActive[1], 1
	   01
 00002B39  75 25		    jne SkipFruit2
 00002B3B  B8 0000000E		    mov eax, yellowTxt
 00002B40  E8 00000000 E	    call SetTextColor
 00002B45  8A 15 00001983 R	    mov dl, fruit2X
 00002B4B  8A 35 00001984 R	    mov dh, fruit2Y
 00002B51  E8 00000000 E	    call Gotoxy
 00002B56  A0 0000197F R	    mov al, fruitChar
 00002B5B  E8 00000000 E	    call WriteChar

 00002B60			SkipFruit2:
				    ; Draw Pac-Man
 00002B60  B8 0000000F		    mov eax, whiteTxt
 00002B65  E8 00000000 E	    call SetTextColor
 00002B6A  8A 15 00000FBF R	    mov dl, pacmanX
 00002B70  8A 35 00000FC0 R	    mov dh, pacmanY
 00002B76  E8 00000000 E	    call Gotoxy
 00002B7B  A0 00000F92 R	    mov al, pacmanChar
 00002B80  E8 00000000 E	    call WriteChar

				    ; Draw Ghost 1 (normal ghost)
 00002B85  8A 15 00000FC1 R	    mov dl, ghostX
 00002B8B  8A 35 00000FC2 R	    mov dh, ghostY
 00002B91  E8 00000000 E	    call Gotoxy
 00002B96  A0 00000F94 R	    mov al, ghostChar
 00002B9B  E8 00000000 E	    call WriteChar

				    ; Draw Ghost 2 (Pinky)
 00002BA0  B8 00000005		    mov eax, ghost2Color
 00002BA5  E8 00000000 E	    call SetTextColor
 00002BAA  8A 15 00001976 R	    mov dl, ghost2X
 00002BB0  8A 35 00001977 R	    mov dh, ghost2Y
 00002BB6  E8 00000000 E	    call Gotoxy
 00002BBB  A0 00000F94 R	    mov al, ghostChar
 00002BC0  E8 00000000 E	    call WriteChar

				    ; Draw Ghost 3 (new ghost)
 00002BC5  B8 0000000E		    mov eax, ghost3Color
 00002BCA  E8 00000000 E	    call SetTextColor
 00002BCF  8A 15 0000197B R	    mov dl, ghost3X
 00002BD5  8A 35 0000197C R	    mov dh, ghost3Y
 00002BDB  E8 00000000 E	    call Gotoxy
 00002BE0  A0 00000F94 R	    mov al, ghostChar
 00002BE5  E8 00000000 E	    call WriteChar

 00002BEA  C3			    ret
 00002BEB			DrawGameElementsLevel3 ENDP

				;....................................................................
 00002BEB			ClearOldPositionsLevel3 PROC
				    ; Clear old Pac-Man position
 00002BEB  B8 00000000		    mov eax, blackTxt
 00002BF0  E8 00000000 E	    call SetTextColor
 00002BF5  8A 15 00000FCF R	    mov dl, oldPacmanX
 00002BFB  8A 35 00000FD0 R	    mov dh, oldPacmanY
 00002C01  E8 00000000 E	    call Gotoxy
 00002C06  A0 00000F8F R	    mov al, emptyChar
 00002C0B  E8 00000000 E	    call WriteChar
				    
				    ; Clear old ghost positions
 00002C10  8A 15 00000FD2 R	    mov dl, oldGhostX
 00002C16  8A 35 00000FD3 R	    mov dh, oldGhostY
 00002C1C  E8 00000000 E	    call Gotoxy
 00002C21  A0 00000F8F R	    mov al, emptyChar
 00002C26  E8 00000000 E	    call WriteChar
				    
 00002C2B  8A 15 00001978 R	    mov dl, oldGhost2X
 00002C31  8A 35 00001979 R	    mov dh, oldGhost2Y
 00002C37  E8 00000000 E	    call Gotoxy
 00002C3C  A0 00000F8F R	    mov al, emptyChar
 00002C41  E8 00000000 E	    call WriteChar
				    
 00002C46  8A 15 0000197D R	    mov dl, oldGhost3X
 00002C4C  8A 35 0000197E R	    mov dh, oldGhost3Y
 00002C52  E8 00000000 E	    call Gotoxy
 00002C57  A0 00000F8F R	    mov al, emptyChar
 00002C5C  E8 00000000 E	    call WriteChar
 00002C61  C3			    ret
 00002C62			ClearOldPositionsLevel3 ENDP

				;....................................................................
 00002C62			GhostMovementLevel3 PROC
				    ; Save old positions
 00002C62  A0 00000FC1 R	    mov al, ghostX
 00002C67  A2 00000FD2 R	    mov oldGhostX, al
 00002C6C  A0 00000FC2 R	    mov al, ghostY
 00002C71  A2 00000FD3 R	    mov oldGhostY, al
 00002C76  A0 00001976 R	    mov al, ghost2X
 00002C7B  A2 00001978 R	    mov oldGhost2X, al
 00002C80  A0 00001977 R	    mov al, ghost2Y
 00002C85  A2 00001979 R	    mov oldGhost2Y, al
 00002C8A  A0 0000197B R	    mov al, ghost3X
 00002C8F  A2 0000197D R	    mov oldGhost3X, al
 00002C94  A0 0000197C R	    mov al, ghost3Y
 00002C99  A2 0000197E R	    mov oldGhost3Y, al
				    
				    ; Move first ghost (same as level 1)
 00002C9E  E8 00000000 E	    call Randomize
 00002CA3  B8 0000000A		    mov eax, 10
 00002CA8  E8 00000000 E	    call RandomRange
 00002CAD  83 F8 07		    cmp eax, 7  ; 70% chance to move toward Pac-Man
 00002CB0  72 73		    jb RandomMove1
				    
				    ; Move toward Pac-Man
 00002CB2  8A 1D 00000FBF R	    mov bl, pacmanX
 00002CB8  8A 3D 00000FC0 R	    mov bh, pacmanY
				    
 00002CBE  38 1D 00000FC1 R	    cmp ghostX, bl
 00002CC4  7C 0E		    jl MoveGhostRight1
 00002CC6  7F 2D		    jg MoveGhostLeft1
 00002CC8  38 3D 00000FC2 R	    cmp ghostY, bh
 00002CCE  7C 46		    jl MoveGhostDown1
 00002CD0  7F 35		    jg MoveGhostUp1
 00002CD2  EB 51		    jmp RandomMove1

 00002CD4			MoveGhostRight1:
 00002CD4  FE 05 00000FC1 R	    inc ghostX
 00002CDA  E8 0000073F		    call CheckGhost1WallCollision3
 00002CDF  72 05		    jc UndoGhostMove1
 00002CE1  E9 000000A2		    jmp MoveGhost2
 00002CE6			UndoGhostMove1:
 00002CE6  A0 00000FD2 R	    mov al, oldGhostX
 00002CEB  A2 00000FC1 R	    mov ghostX, al
 00002CF0  E9 00000093		    jmp MoveGhost2

 00002CF5			MoveGhostLeft1:
 00002CF5  FE 0D 00000FC1 R	    dec ghostX
 00002CFB  E8 0000071E		    call CheckGhost1WallCollision3
 00002D00  72 E4		    jc UndoGhostMove1
 00002D02  E9 00000081		    jmp MoveGhost2

 00002D07			MoveGhostUp1:
 00002D07  FE 0D 00000FC2 R	    dec ghostY
 00002D0D  E8 0000070C		    call CheckGhost1WallCollision3
 00002D12  72 D2		    jc UndoGhostMove1
 00002D14  EB 72		    jmp MoveGhost2

 00002D16			MoveGhostDown1:
 00002D16  FE 05 00000FC2 R	    inc ghostY
 00002D1C  E8 000006FD		    call CheckGhost1WallCollision3
 00002D21  72 C3		    jc UndoGhostMove1
 00002D23  EB 63		    jmp MoveGhost2

 00002D25			RandomMove1:
				    ; Random direction (1-4)
 00002D25  B8 00000004		    mov eax, 4
 00002D2A  E8 00000000 E	    call RandomRange
 00002D2F  40			    inc eax
				    
 00002D30  83 F8 01		    cmp eax, 1
 00002D33  74 0F		    je TryRight1
 00002D35  83 F8 02		    cmp eax, 2
 00002D38  74 19		    je TryLeft1
 00002D3A  83 F8 03		    cmp eax, 3
 00002D3D  74 23		    je TryUp1
 00002D3F  83 F8 04		    cmp eax, 4
 00002D42  74 31		    je TryDown1

 00002D44			TryRight1:
 00002D44  FE 05 00000FC1 R	    inc ghostX
 00002D4A  E8 000006CF		    call CheckGhost1WallCollision3
 00002D4F  72 95		    jc UndoGhostMove1
 00002D51  EB 35		    jmp MoveGhost2

 00002D53			TryLeft1:
 00002D53  FE 0D 00000FC1 R	    dec ghostX
 00002D59  E8 000006C0		    call CheckGhost1WallCollision3
 00002D5E  72 86		    jc UndoGhostMove1
 00002D60  EB 26		    jmp MoveGhost2

 00002D62			TryUp1:
 00002D62  FE 0D 00000FC2 R	    dec ghostY
 00002D68  E8 000006B1		    call CheckGhost1WallCollision3
 00002D6D  0F 82 FFFFFF73	    jc UndoGhostMove1
 00002D73  EB 13		    jmp MoveGhost2

 00002D75			TryDown1:
 00002D75  FE 05 00000FC2 R	    inc ghostY
 00002D7B  E8 0000069E		    call CheckGhost1WallCollision3
 00002D80  0F 82 FFFFFF60	    jc UndoGhostMove1
 00002D86  EB 00		    jmp MoveGhost2

				; Move second ghost (Pinky - more unpredictable)
 00002D88			MoveGhost2:
				    ; Pinky has different movement patterns
 00002D88  E8 00000000 E	    call Randomize
 00002D8D  B8 00000064		    mov eax, 100
 00002D92  E8 00000000 E	    call RandomRange
				    
				    ; 40% chance to move toward Pac-Man
 00002D97  83 F8 28		    cmp eax, 40
 00002D9A  72 0B		    jb MoveTowardPacman
				    
				    ; 30% chance to move randomly
 00002D9C  83 F8 46		    cmp eax, 70
 00002D9F  0F 82 0000008C	    jb MoveRandomly
				    
				    ; 30% chance to cut off Pac-Man's path
 00002DA5  EB 32		    jmp CutOffPath

 00002DA7			MoveTowardPacman:
 00002DA7  8A 1D 00000FBF R	    mov bl, pacmanX
 00002DAD  8A 3D 00000FC0 R	    mov bh, pacmanY
				    
 00002DB3  38 1D 00001976 R	    cmp ghost2X, bl
 00002DB9  0F 8C 000000CD	    jl MoveGhostRight2
 00002DBF  0F 8F 000000D6	    jg MoveGhostLeft2
 00002DC5  38 3D 00001977 R	    cmp ghost2Y, bh
 00002DCB  0F 8C 000000E8	    jl MoveGhostDown2
 00002DD1  0F 8F 000000D3	    jg MoveGhostUp2
 00002DD7  EB 58		    jmp MoveRandomly

 00002DD9			CutOffPath:
				    ; Try to predict Pac-Man's path
 00002DD9  8A 1D 00000FBF R	    mov bl, pacmanX
 00002DDF  8A 3D 00000FC0 R	    mov bh, pacmanY
				    
				    ; Check Pac-Man's direction by comparing with old position
 00002DE5  A0 00000FBF R	    mov al, pacmanX
 00002DEA  3A 05 00000FCF R	    cmp al, oldPacmanX
 00002DF0  7F 13		    jg MovingRight
 00002DF2  7C 16		    jl MovingLeft
				    
 00002DF4  A0 00000FC0 R	    mov al, pacmanY
 00002DF9  3A 05 00000FD0 R	    cmp al, oldPacmanY
 00002DFF  7F 13		    jg MovingDown
 00002E01  7C 0C		    jl MovingUp
				    
				    ; If not moving, default to toward movement
 00002E03  EB A2		    jmp MoveTowardPacman

 00002E05			MovingRight:
				    ; Try to get ahead to the right
 00002E05  80 C3 05		    add bl, 5
 00002E08  EB 0D		    jmp MoveTowardPoint

 00002E0A			MovingLeft:
				    ; Try to get ahead to the left
 00002E0A  80 EB 05		    sub bl, 5
 00002E0D  EB 08		    jmp MoveTowardPoint

 00002E0F			MovingUp:
				    ; Try to get above
 00002E0F  80 EF 05		    sub bh, 5
 00002E12  EB 03		    jmp MoveTowardPoint

 00002E14			MovingDown:
				    ; Try to get below
 00002E14  80 C7 05		    add bh, 5

 00002E17			MoveTowardPoint:
				    ; Move toward the predicted point (bl,bh)
 00002E17  38 1D 00001976 R	    cmp ghost2X, bl
 00002E1D  7C 6D		    jl MoveGhostRight2
 00002E1F  7F 7A		    jg MoveGhostLeft2
 00002E21  38 3D 00001977 R	    cmp ghost2Y, bh
 00002E27  0F 8C 0000008C	    jl MoveGhostDown2
 00002E2D  7F 7B		    jg MoveGhostUp2
 00002E2F  EB 00		    jmp MoveRandomly

 00002E31			MoveRandomly:
				    ; Random direction (1-4)
 00002E31  B8 00000004		    mov eax, 4
 00002E36  E8 00000000 E	    call RandomRange
 00002E3B  40			    inc eax
				    
 00002E3C  83 F8 01		    cmp eax, 1
 00002E3F  74 0F		    je TryRight2
 00002E41  83 F8 02		    cmp eax, 2
 00002E44  74 19		    je TryLeft2
 00002E46  83 F8 03		    cmp eax, 3
 00002E49  74 23		    je TryUp2
 00002E4B  83 F8 04		    cmp eax, 4
 00002E4E  74 2D		    je TryDown2

 00002E50			TryRight2:
 00002E50  FE 05 00001976 R	    inc ghost2X
 00002E56  E8 0000082C		    call CheckGhost2WallCollision3
 00002E5B  72 6B		    jc UndoGhostMove2
 00002E5D  EB 7F		    jmp MoveGhost3

 00002E5F			TryLeft2:
 00002E5F  FE 0D 00001976 R	    dec ghost2X
 00002E65  E8 0000081D		    call CheckGhost2WallCollision3
 00002E6A  72 5C		    jc UndoGhostMove2
 00002E6C  EB 70		    jmp MoveGhost3

 00002E6E			TryUp2:
 00002E6E  FE 0D 00001977 R	    dec ghost2Y
 00002E74  E8 0000080E		    call CheckGhost2WallCollision3
 00002E79  72 4D		    jc UndoGhostMove2
 00002E7B  EB 61		    jmp MoveGhost3

 00002E7D			TryDown2:
 00002E7D  FE 05 00001977 R	    inc ghost2Y
 00002E83  E8 000007FF		    call CheckGhost2WallCollision3
 00002E88  72 3E		    jc UndoGhostMove2
 00002E8A  EB 52		    jmp MoveGhost3

 00002E8C			MoveGhostRight2:
 00002E8C  FE 05 00001976 R	    inc ghost2X
 00002E92  E8 000007F0		    call CheckGhost2WallCollision3
 00002E97  72 2F		    jc UndoGhostMove2
 00002E99  EB 43		    jmp MoveGhost3

 00002E9B			MoveGhostLeft2:
 00002E9B  FE 0D 00001976 R	    dec ghost2X
 00002EA1  E8 000007E1		    call CheckGhost2WallCollision3
 00002EA6  72 20		    jc UndoGhostMove2
 00002EA8  EB 34		    jmp MoveGhost3

 00002EAA			MoveGhostUp2:
 00002EAA  FE 0D 00001977 R	    dec ghost2Y
 00002EB0  E8 000007D2		    call CheckGhost2WallCollision3
 00002EB5  72 11		    jc UndoGhostMove2
 00002EB7  EB 25		    jmp MoveGhost3

 00002EB9			MoveGhostDown2:
 00002EB9  FE 05 00001977 R	    inc ghost2Y
 00002EBF  E8 000007C3		    call CheckGhost2WallCollision3
 00002EC4  72 02		    jc UndoGhostMove2
 00002EC6  EB 16		    jmp MoveGhost3

 00002EC8			UndoGhostMove2:
 00002EC8  A0 00001978 R	    mov al, oldGhost2X
 00002ECD  A2 00001976 R	    mov ghost2X, al
 00002ED2  A0 00001979 R	    mov al, oldGhost2Y
 00002ED7  A2 00001977 R	    mov ghost2Y, al
 00002EDC  EB 00		    jmp MoveGhost3

				; Move third ghost (same as ghost1 but with different collision checks)
 00002EDE			MoveGhost3:
 00002EDE  E8 00000000 E	    call Randomize
 00002EE3  B8 0000000A		    mov eax, 10
 00002EE8  E8 00000000 E	    call RandomRange
 00002EED  83 F8 07		    cmp eax, 7  ; 70% chance to move toward Pac-Man
 00002EF0  72 5E		    jb RandomMove3
				    
				    ; Move toward Pac-Man
 00002EF2  8A 1D 00000FBF R	    mov bl, pacmanX
 00002EF8  8A 3D 00000FC0 R	    mov bh, pacmanY
				    
 00002EFE  38 1D 0000197B R	    cmp ghost3X, bl
 00002F04  7C 0E		    jl MoveGhostRight3
 00002F06  7F 1E		    jg MoveGhostLeft3
 00002F08  38 3D 0000197C R	    cmp ghost3Y, bh
 00002F0E  7C 32		    jl MoveGhostDown3
 00002F10  7F 22		    jg MoveGhostUp3
 00002F12  EB 3C		    jmp RandomMove3

 00002F14			MoveGhostRight3:
 00002F14  FE 05 0000197B R	    inc ghost3X
 00002F1A  E8 000009D1		    call CheckGhost3WallCollision3
 00002F1F  0F 82 00000082	    jc UndoGhostMove3
 00002F25  C3			    ret

 00002F26			MoveGhostLeft3:
 00002F26  FE 0D 0000197B R	    dec ghost3X
 00002F2C  E8 000009BF		    call CheckGhost3WallCollision3
 00002F31  72 74		    jc UndoGhostMove3
 00002F33  C3			    ret

 00002F34			MoveGhostUp3:
 00002F34  FE 0D 0000197C R	    dec ghost3Y
 00002F3A  E8 000009B1		    call CheckGhost3WallCollision3
 00002F3F  72 66		    jc UndoGhostMove3
 00002F41  C3			    ret

 00002F42			MoveGhostDown3:
 00002F42  FE 05 0000197C R	    inc ghost3Y
 00002F48  E8 000009A3		    call CheckGhost3WallCollision3
 00002F4D  72 58		    jc UndoGhostMove3
 00002F4F  C3			    ret

 00002F50			RandomMove3:
				    ; Random direction (1-4)
 00002F50  B8 00000004		    mov eax, 4
 00002F55  E8 00000000 E	    call RandomRange
 00002F5A  40			    inc eax
				    
 00002F5B  83 F8 01		    cmp eax, 1
 00002F5E  74 0F		    je TryRight3
 00002F60  83 F8 02		    cmp eax, 2
 00002F63  74 18		    je TryLeft3
 00002F65  83 F8 03		    cmp eax, 3
 00002F68  74 21		    je TryUp3
 00002F6A  83 F8 04		    cmp eax, 4
 00002F6D  74 2A		    je TryDown3

 00002F6F			TryRight3:
 00002F6F  FE 05 0000197B R	    inc ghost3X
 00002F75  E8 00000976		    call CheckGhost3WallCollision3
 00002F7A  72 2B		    jc UndoGhostMove3
 00002F7C  C3			    ret

 00002F7D			TryLeft3:
 00002F7D  FE 0D 0000197B R	    dec ghost3X
 00002F83  E8 00000968		    call CheckGhost3WallCollision3
 00002F88  72 1D		    jc UndoGhostMove3
 00002F8A  C3			    ret

 00002F8B			TryUp3:
 00002F8B  FE 0D 0000197C R	    dec ghost3Y
 00002F91  E8 0000095A		    call CheckGhost3WallCollision3
 00002F96  72 0F		    jc UndoGhostMove3
 00002F98  C3			    ret

 00002F99			TryDown3:
 00002F99  FE 05 0000197C R	    inc ghost3Y
 00002F9F  E8 0000094C		    call CheckGhost3WallCollision3
 00002FA4  72 01		    jc UndoGhostMove3
 00002FA6  C3			    ret

 00002FA7			UndoGhostMove3:
 00002FA7  A0 0000197D R	    mov al, oldGhost3X
 00002FAC  A2 0000197B R	    mov ghost3X, al
 00002FB1  A0 0000197E R	    mov al, oldGhost3Y
 00002FB6  A2 0000197C R	    mov ghost3Y, al
 00002FBB  C3			    ret
 00002FBC			GhostMovementLevel3 ENDP

				;....................................................................
 00002FBC			CheckGhostCollisionLevel3 PROC
				    ; Check collision with first ghost
 00002FBC  A0 00000FBF R	    mov al, pacmanX
 00002FC1  2A 05 00000FC1 R	    sub al, ghostX
 00002FC7  3C FF		    cmp al, -1
 00002FC9  7C 19		    jl CheckSecondGhost
 00002FCB  3C 01		    cmp al, 1
 00002FCD  7F 15		    jg CheckSecondGhost
				    
 00002FCF  A0 00000FC0 R	    mov al, pacmanY
 00002FD4  2A 05 00000FC2 R	    sub al, ghostY
 00002FDA  3C FF		    cmp al, -1
 00002FDC  7C 06		    jl CheckSecondGhost
 00002FDE  3C 01		    cmp al, 1
 00002FE0  7F 02		    jg CheckSecondGhost
				    
				    ; Collision with first ghost
 00002FE2  EB 5E		    jmp GhostCollision
				    
 00002FE4			CheckSecondGhost:
				    ; Check collision with second ghost
 00002FE4  A0 00000FBF R	    mov al, pacmanX
 00002FE9  2A 05 00001976 R	    sub al, ghost2X
 00002FEF  3C FF		    cmp al, -1
 00002FF1  7C 19		    jl CheckThirdGhost
 00002FF3  3C 01		    cmp al, 1
 00002FF5  7F 15		    jg CheckThirdGhost
				    
 00002FF7  A0 00000FC0 R	    mov al, pacmanY
 00002FFC  2A 05 00001977 R	    sub al, ghost2Y
 00003002  3C FF		    cmp al, -1
 00003004  7C 06		    jl CheckThirdGhost
 00003006  3C 01		    cmp al, 1
 00003008  7F 02		    jg CheckThirdGhost
				    
				    ; Collision with second ghost
 0000300A  EB 36		    jmp GhostCollision
				    
 0000300C			CheckThirdGhost:
				    ; Check collision with third ghost
 0000300C  A0 00000FBF R	    mov al, pacmanX
 00003011  2A 05 0000197B R	    sub al, ghost3X
 00003017  3C FF		    cmp al, -1
 00003019  0F 8C 000000E1	    jl NoCollision
 0000301F  3C 01		    cmp al, 1
 00003021  0F 8F 000000D9	    jg NoCollision
				    
 00003027  A0 00000FC0 R	    mov al, pacmanY
 0000302C  2A 05 0000197C R	    sub al, ghost3Y
 00003032  3C FF		    cmp al, -1
 00003034  0F 8C 000000C6	    jl NoCollision
 0000303A  3C 01		    cmp al, 1
 0000303C  0F 8F 000000BE	    jg NoCollision
				    
				    ; Collision with third ghost
 00003042			GhostCollision:
 00003042  FF 0D 00000FC7 R	    dec lives

				    ; Update lives display
 00003048  B8 0000000F		    mov eax, whiteTxt
 0000304D  E8 00000000 E	    call SetTextColor
 00003052  B6 00		    mov dh, 0
 00003054  B2 07		    mov dl, 7
 00003056  E8 00000000 E	    call Gotoxy
 0000305B  A1 00000FC7 R	    mov eax, lives
 00003060  0F B6 C0		    movzx eax, al
 00003063  E8 00000000 E	    call WriteDec

				    ; Clear ghosts from screen
 00003068  8A 15 00000FC1 R	    mov dl, ghostX
 0000306E  8A 35 00000FC2 R	    mov dh, ghostY
 00003074  E8 00000000 E	    call Gotoxy
 00003079  A0 00000F8F R	    mov al, emptyChar
 0000307E  E8 00000000 E	    call WriteChar
				    
 00003083  8A 15 00001976 R	    mov dl, ghost2X
 00003089  8A 35 00001977 R	    mov dh, ghost2Y
 0000308F  E8 00000000 E	    call Gotoxy
 00003094  A0 00000F8F R	    mov al, emptyChar
 00003099  E8 00000000 E	    call WriteChar
				    
 0000309E  8A 15 0000197B R	    mov dl, ghost3X
 000030A4  8A 35 0000197C R	    mov dh, ghost3Y
 000030AA  E8 00000000 E	    call Gotoxy
 000030AF  A0 00000F8F R	    mov al, emptyChar
 000030B4  E8 00000000 E	    call WriteChar

				    ; Reset positions
 000030B9  C6 05 00000FBF R	    mov pacmanX, 10
	   0A
 000030C0  C6 05 00000FC0 R	    mov pacmanY, 15
	   0F
 000030C7  C6 05 00000FC1 R	    mov ghostX, 50
	   32
 000030CE  C6 05 00000FC2 R	    mov ghostY, 15
	   0F
 000030D5  C6 05 00001976 R	    mov ghost2X, 70
	   46
 000030DC  C6 05 00001977 R	    mov ghost2Y, 15
	   0F
 000030E3  C6 05 0000197B R	    mov ghost3X, 30
	   1E
 000030EA  C6 05 0000197C R	    mov ghost3Y, 20
	   14

 000030F1  83 3D 00000FC7 R	    cmp lives, 0
	   00
 000030F8  7E 0C		    jle GameOver

 000030FA  B8 00000000		    mov eax, 0
 000030FF  C3			    ret

 00003100			NoCollision:
 00003100  B8 00000000		    mov eax, 0
 00003105  C3			    ret

 00003106			GameOver:
 00003106  B8 00000001		    mov eax, 1
 0000310B  C3			    ret
 0000310C			CheckGhostCollisionLevel3 ENDP

				;....................................................................
 0000310C			CheckPortalCollision PROC
				    ; Check collision with portal 1
 0000310C  A0 00000FBF R	    mov al, pacmanX
 00003111  3A 05 0000198B R	    cmp al, portal1X
 00003117  75 23		    jne CheckPortal2
 00003119  A0 00000FC0 R	    mov al, pacmanY
 0000311E  3A 05 0000198C R	    cmp al, portal1Y
 00003124  75 16		    jne CheckPortal2
				    
				    ; Teleport to portal 2
 00003126  A0 0000198D R	    mov al, portal2X
 0000312B  A2 00000FBF R	    mov pacmanX, al
 00003130  A0 0000198E R	    mov al, portal2Y
 00003135  A2 00000FC0 R	    mov pacmanY, al
 0000313A  EB 2E		    jmp PortalUsed

 0000313C			CheckPortal2:
				    ; Check collision with portal 2
 0000313C  A0 00000FBF R	    mov al, pacmanX
 00003141  3A 05 0000198D R	    cmp al, portal2X
 00003147  75 2B		    jne NoPortalCollision
 00003149  A0 00000FC0 R	    mov al, pacmanY
 0000314E  3A 05 0000198E R	    cmp al, portal2Y
 00003154  75 1E		    jne NoPortalCollision
				    
				    ; Teleport to portal 1
 00003156  A0 0000198B R	    mov al, portal1X
 0000315B  A2 00000FBF R	    mov pacmanX, al
 00003160  A0 0000198C R	    mov al, portal1Y
 00003165  A2 00000FC0 R	    mov pacmanY, al

 0000316A			PortalUsed:
				    ; Play teleport sound
 0000316A  B8 000003E8		    mov eax, 1000
 0000316F  E8 00000000 E	    call Delay

 00003174			NoPortalCollision:
 00003174  C3			    ret
 00003175			CheckPortalCollision ENDP

				;....................................................................
 00003175			CheckWallCollision3 PROC
				    ; Check boundaries first
 00003175  80 3D 00000FBF R	    cmp pacmanX, 0
	   00
 0000317C  0F 8E 0000029A	    jle Collision
 00003182  80 3D 00000FBF R	    cmp pacmanX, 114
	   72
 00003189  0F 8D 0000028D	    jge Collision
 0000318F  80 3D 00000FC0 R	    cmp pacmanY, 5
	   05
 00003196  0F 8E 00000280	    jle Collision
 0000319C  80 3D 00000FC0 R	    cmp pacmanY, 29
	   1D
 000031A3  0F 8D 00000273	    jge Collision

				    ; Check if position is a hidden shortcut (can pass through)
				    ; Hidden shortcut 1 at (50,18)-(52,18)
 000031A9  80 3D 00000FC0 R	    cmp pacmanY, 18
	   12
 000031B0  75 17		    jne CheckHiddenShortcut2
 000031B2  80 3D 00000FBF R	    cmp pacmanX, 50
	   32
 000031B9  7C 0E		    jl CheckHiddenShortcut2
 000031BB  80 3D 00000FBF R	    cmp pacmanX, 52
	   34
 000031C2  7F 05		    jg CheckHiddenShortcut2
 000031C4  E9 00000251		    jmp NoCollision

 000031C9			CheckHiddenShortcut2:
				    ; Hidden shortcut 2 at (30,22)-(31,22)
 000031C9  80 3D 00000FC0 R	    cmp pacmanY, 22
	   16
 000031D0  75 17		    jne CheckRegularWalls
 000031D2  80 3D 00000FBF R	    cmp pacmanX, 30
	   1E
 000031D9  7C 0E		    jl CheckRegularWalls
 000031DB  80 3D 00000FBF R	    cmp pacmanX, 31
	   1F
 000031E2  7F 05		    jg CheckRegularWalls
 000031E4  E9 00000231		    jmp NoCollision

 000031E9			CheckRegularWalls:
				    ; Original walls from level 2
				    ; 1. Vertical wall at X=5 (Y=4-10)
 000031E9  80 3D 00000FBF R	    cmp pacmanX, 5
	   05
 000031F0  75 17		    jne CheckWall2
 000031F2  80 3D 00000FC0 R	    cmp pacmanY, 4
	   04
 000031F9  7C 0E		    jl CheckWall2
 000031FB  80 3D 00000FC0 R	    cmp pacmanY, 10
	   0A
 00003202  7F 05		    jg CheckWall2
 00003204  E9 00000213		    jmp Collision

 00003209			CheckWall2:
				    ; 2. Horizontal wall at Y=8 (X=15-34)
 00003209  80 3D 00000FC0 R	    cmp pacmanY, 8
	   08
 00003210  75 17		    jne CheckWall3
 00003212  80 3D 00000FBF R	    cmp pacmanX, 15
	   0F
 00003219  7C 0E		    jl CheckWall3
 0000321B  80 3D 00000FBF R	    cmp pacmanX, 34
	   22
 00003222  7F 05		    jg CheckWall3
 00003224  E9 000001F3		    jmp Collision

 00003229			CheckWall3:
				    ; 3. Horizontal wall at Y=8 (X=60-79)
 00003229  80 3D 00000FC0 R	    cmp pacmanY, 8
	   08
 00003230  75 17		    jne CheckWall4
 00003232  80 3D 00000FBF R	    cmp pacmanX, 60
	   3C
 00003239  7C 0E		    jl CheckWall4
 0000323B  80 3D 00000FBF R	    cmp pacmanX, 79
	   4F
 00003242  7F 05		    jg CheckWall4
 00003244  E9 000001D3		    jmp Collision

 00003249			CheckWall4:
				    ; 4. Horizontal wall at Y=12 (X=30-39)
 00003249  80 3D 00000FC0 R	    cmp pacmanY, 12
	   0C
 00003250  75 17		    jne CheckWall5
 00003252  80 3D 00000FBF R	    cmp pacmanX, 30
	   1E
 00003259  7C 0E		    jl CheckWall5
 0000325B  80 3D 00000FBF R	    cmp pacmanX, 39
	   27
 00003262  7F 05		    jg CheckWall5
 00003264  E9 000001B3		    jmp Collision

 00003269			CheckWall5:
				    ; 5. Horizontal wall at Y=12 (X=70-79)
 00003269  80 3D 00000FC0 R	    cmp pacmanY, 12
	   0C
 00003270  75 17		    jne CheckWall6
 00003272  80 3D 00000FBF R	    cmp pacmanX, 70
	   46
 00003279  7C 0E		    jl CheckWall6
 0000327B  80 3D 00000FBF R	    cmp pacmanX, 79
	   4F
 00003282  7F 05		    jg CheckWall6
 00003284  E9 00000193		    jmp Collision

 00003289			CheckWall6:
				    ; 6. Horizontal wall at Y=16 (X=10-24)
 00003289  80 3D 00000FC0 R	    cmp pacmanY, 16
	   10
 00003290  75 17		    jne CheckWall7
 00003292  80 3D 00000FBF R	    cmp pacmanX, 10
	   0A
 00003299  7C 0E		    jl CheckWall7
 0000329B  80 3D 00000FBF R	    cmp pacmanX, 24
	   18
 000032A2  7F 05		    jg CheckWall7
 000032A4  E9 00000173		    jmp Collision

 000032A9			CheckWall7:
				    ; 7. Horizontal wall at Y=16 (X=40-54)
 000032A9  80 3D 00000FC0 R	    cmp pacmanY, 16
	   10
 000032B0  75 17		    jne CheckWall8
 000032B2  80 3D 00000FBF R	    cmp pacmanX, 40
	   28
 000032B9  7C 0E		    jl CheckWall8
 000032BB  80 3D 00000FBF R	    cmp pacmanX, 54
	   36
 000032C2  7F 05		    jg CheckWall8
 000032C4  E9 00000153		    jmp Collision

 000032C9			CheckWall8:
				    ; 8. Horizontal wall at Y=16 (X=80-94)
 000032C9  80 3D 00000FC0 R	    cmp pacmanY, 16
	   10
 000032D0  75 17		    jne CheckWall9
 000032D2  80 3D 00000FBF R	    cmp pacmanX, 80
	   50
 000032D9  7C 0E		    jl CheckWall9
 000032DB  80 3D 00000FBF R	    cmp pacmanX, 94
	   5E
 000032E2  7F 05		    jg CheckWall9
 000032E4  E9 00000133		    jmp Collision

 000032E9			CheckWall9:
				    ; 9. Horizontal wall at Y=20 (X=20-44)
 000032E9  80 3D 00000FC0 R	    cmp pacmanY, 20
	   14
 000032F0  75 17		    jne CheckWall10
 000032F2  80 3D 00000FBF R	    cmp pacmanX, 20
	   14
 000032F9  7C 0E		    jl CheckWall10
 000032FB  80 3D 00000FBF R	    cmp pacmanX, 44
	   2C
 00003302  7F 05		    jg CheckWall10
 00003304  E9 00000113		    jmp Collision

 00003309			CheckWall10:
				    ; 10. Horizontal wall at Y=20 (X=70-94)
 00003309  80 3D 00000FC0 R	    cmp pacmanY, 20
	   14
 00003310  75 17		    jne CheckWall11
 00003312  80 3D 00000FBF R	    cmp pacmanX, 70
	   46
 00003319  7C 0E		    jl CheckWall11
 0000331B  80 3D 00000FBF R	    cmp pacmanX, 94
	   5E
 00003322  7F 05		    jg CheckWall11
 00003324  E9 000000F3		    jmp Collision

 00003329			CheckWall11:
				    ; 11. Horizontal wall at Y=24 (X=30-39)
 00003329  80 3D 00000FC0 R	    cmp pacmanY, 24
	   18
 00003330  75 17		    jne CheckWall12
 00003332  80 3D 00000FBF R	    cmp pacmanX, 30
	   1E
 00003339  7C 0E		    jl CheckWall12
 0000333B  80 3D 00000FBF R	    cmp pacmanX, 39
	   27
 00003342  7F 05		    jg CheckWall12
 00003344  E9 000000D3		    jmp Collision

 00003349			CheckWall12:
				    ; 12. Horizontal wall at Y=24 (X=70-79)
 00003349  80 3D 00000FC0 R	    cmp pacmanY, 24
	   18
 00003350  75 17		    jne CheckWall13
 00003352  80 3D 00000FBF R	    cmp pacmanX, 70
	   46
 00003359  7C 0E		    jl CheckWall13
 0000335B  80 3D 00000FBF R	    cmp pacmanX, 79
	   4F
 00003362  7F 05		    jg CheckWall13
 00003364  E9 000000B3		    jmp Collision

 00003369			CheckWall13:
				    ; New small walls for level 3
				    ; 13. Vertical small wall at X=25 (Y=7-9)
 00003369  80 3D 00000FBF R	    cmp pacmanX, 25
	   19
 00003370  75 17		    jne CheckWall14
 00003372  80 3D 00000FC0 R	    cmp pacmanY, 7
	   07
 00003379  7C 0E		    jl CheckWall14
 0000337B  80 3D 00000FC0 R	    cmp pacmanY, 9
	   09
 00003382  7F 05		    jg CheckWall14
 00003384  E9 00000093		    jmp Collision

 00003389			CheckWall14:
				    ; 14. Vertical small wall at X=45 (Y=10-11)
 00003389  80 3D 00000FBF R	    cmp pacmanX, 45
	   2D
 00003390  75 14		    jne CheckWall15
 00003392  80 3D 00000FC0 R	    cmp pacmanY, 10
	   0A
 00003399  7C 0B		    jl CheckWall15
 0000339B  80 3D 00000FC0 R	    cmp pacmanY, 11
	   0B
 000033A2  7F 02		    jg CheckWall15
 000033A4  EB 76		    jmp Collision

 000033A6			CheckWall15:
				    ; 15. Vertical small wall at X=65 (Y=15-17)
 000033A6  80 3D 00000FBF R	    cmp pacmanX, 65
	   41
 000033AD  75 14		    jne CheckWall16
 000033AF  80 3D 00000FC0 R	    cmp pacmanY, 15
	   0F
 000033B6  7C 0B		    jl CheckWall16
 000033B8  80 3D 00000FC0 R	    cmp pacmanY, 17
	   11
 000033BF  7F 02		    jg CheckWall16
 000033C1  EB 59		    jmp Collision

 000033C3			CheckWall16:
				    ; 16. Horizontal small wall at Y=9 (X=35-36)
 000033C3  80 3D 00000FC0 R	    cmp pacmanY, 9
	   09
 000033CA  75 14		    jne CheckWall17
 000033CC  80 3D 00000FBF R	    cmp pacmanX, 35
	   23
 000033D3  7C 0B		    jl CheckWall17
 000033D5  80 3D 00000FBF R	    cmp pacmanX, 36
	   24
 000033DC  7F 02		    jg CheckWall17
 000033DE  EB 3C		    jmp Collision

 000033E0			CheckWall17:
				    ; 17. Horizontal small wall at Y=14 (X=55-57)
 000033E0  80 3D 00000FC0 R	    cmp pacmanY, 14
	   0E
 000033E7  75 14		    jne CheckWall18
 000033E9  80 3D 00000FBF R	    cmp pacmanX, 55
	   37
 000033F0  7C 0B		    jl CheckWall18
 000033F2  80 3D 00000FBF R	    cmp pacmanX, 57
	   39
 000033F9  7F 02		    jg CheckWall18
 000033FB  EB 1F		    jmp Collision

 000033FD			CheckWall18:
				    ; 18. Horizontal small wall at Y=19 (X=75-76)
 000033FD  80 3D 00000FC0 R	    cmp pacmanY, 19
	   13
 00003404  75 14		    jne NoCollision
 00003406  80 3D 00000FBF R	    cmp pacmanX, 75
	   4B
 0000340D  7C 0B		    jl NoCollision
 0000340F  80 3D 00000FBF R	    cmp pacmanX, 76
	   4C
 00003416  7F 02		    jg NoCollision
 00003418  EB 02		    jmp Collision

 0000341A			NoCollision:
 0000341A  F8			    clc
 0000341B  C3			    ret

 0000341C			Collision:
 0000341C  F9			    stc
 0000341D  C3			    ret
 0000341E			CheckWallCollision3 ENDP

				;....................................................................
				;....................................................................
 0000341E			CheckGhost1WallCollision3 PROC
				    ; Similar to CheckWallCollision3 but for ghost1
				    ; Check boundaries first
 0000341E  80 3D 00000FC1 R	    cmp ghostX, 0
	   00
 00003425  0F 8E 0000025A	    jle Ghost1Collision
 0000342B  80 3D 00000FC1 R	    cmp ghostX, 114
	   72
 00003432  0F 8D 0000024D	    jge Ghost1Collision
 00003438  80 3D 00000FC2 R	    cmp ghostY, 5
	   05
 0000343F  0F 8E 00000240	    jle Ghost1Collision
 00003445  80 3D 00000FC2 R	    cmp ghostY, 29
	   1D
 0000344C  0F 8D 00000233	    jge Ghost1Collision

				    ; Ghosts can't use hidden shortcuts
				    ; Original walls from level 2
				    ; 1. Vertical wall at X=5 (Y=4-10)
 00003452  80 3D 00000FC1 R	    cmp ghostX, 5
	   05
 00003459  75 17		    jne CheckGhost1Wall2
 0000345B  80 3D 00000FC2 R	    cmp ghostY, 4
	   04
 00003462  7C 0E		    jl CheckGhost1Wall2
 00003464  80 3D 00000FC2 R	    cmp ghostY, 10
	   0A
 0000346B  7F 05		    jg CheckGhost1Wall2
 0000346D  E9 00000213		    jmp Ghost1Collision

 00003472			CheckGhost1Wall2:
				    ; 2. Horizontal wall at Y=8 (X=15-34)
 00003472  80 3D 00000FC2 R	    cmp ghostY, 8
	   08
 00003479  75 17		    jne CheckGhost1Wall3
 0000347B  80 3D 00000FC1 R	    cmp ghostX, 15
	   0F
 00003482  7C 0E		    jl CheckGhost1Wall3
 00003484  80 3D 00000FC1 R	    cmp ghostX, 34
	   22
 0000348B  7F 05		    jg CheckGhost1Wall3
 0000348D  E9 000001F3		    jmp Ghost1Collision

 00003492			CheckGhost1Wall3:
				    ; 3. Horizontal wall at Y=8 (X=60-79)
 00003492  80 3D 00000FC2 R	    cmp ghostY, 8
	   08
 00003499  75 17		    jne CheckGhost1Wall4
 0000349B  80 3D 00000FC1 R	    cmp ghostX, 60
	   3C
 000034A2  7C 0E		    jl CheckGhost1Wall4
 000034A4  80 3D 00000FC1 R	    cmp ghostX, 79
	   4F
 000034AB  7F 05		    jg CheckGhost1Wall4
 000034AD  E9 000001D3		    jmp Ghost1Collision

 000034B2			CheckGhost1Wall4:
				    ; 4. Horizontal wall at Y=12 (X=30-39)
 000034B2  80 3D 00000FC2 R	    cmp ghostY, 12
	   0C
 000034B9  75 17		    jne CheckGhost1Wall5
 000034BB  80 3D 00000FC1 R	    cmp ghostX, 30
	   1E
 000034C2  7C 0E		    jl CheckGhost1Wall5
 000034C4  80 3D 00000FC1 R	    cmp ghostX, 39
	   27
 000034CB  7F 05		    jg CheckGhost1Wall5
 000034CD  E9 000001B3		    jmp Ghost1Collision

 000034D2			CheckGhost1Wall5:
				    ; 5. Horizontal wall at Y=12 (X=70-79)
 000034D2  80 3D 00000FC2 R	    cmp ghostY, 12
	   0C
 000034D9  75 17		    jne CheckGhost1Wall6
 000034DB  80 3D 00000FC1 R	    cmp ghostX, 70
	   46
 000034E2  7C 0E		    jl CheckGhost1Wall6
 000034E4  80 3D 00000FC1 R	    cmp ghostX, 79
	   4F
 000034EB  7F 05		    jg CheckGhost1Wall6
 000034ED  E9 00000193		    jmp Ghost1Collision

 000034F2			CheckGhost1Wall6:
				    ; 6. Horizontal wall at Y=16 (X=10-24)
 000034F2  80 3D 00000FC2 R	    cmp ghostY, 16
	   10
 000034F9  75 17		    jne CheckGhost1Wall7
 000034FB  80 3D 00000FC1 R	    cmp ghostX, 10
	   0A
 00003502  7C 0E		    jl CheckGhost1Wall7
 00003504  80 3D 00000FC1 R	    cmp ghostX, 24
	   18
 0000350B  7F 05		    jg CheckGhost1Wall7
 0000350D  E9 00000173		    jmp Ghost1Collision

 00003512			CheckGhost1Wall7:
				    ; 7. Horizontal wall at Y=16 (X=40-54)
 00003512  80 3D 00000FC2 R	    cmp ghostY, 16
	   10
 00003519  75 17		    jne CheckGhost1Wall8
 0000351B  80 3D 00000FC1 R	    cmp ghostX, 40
	   28
 00003522  7C 0E		    jl CheckGhost1Wall8
 00003524  80 3D 00000FC1 R	    cmp ghostX, 54
	   36
 0000352B  7F 05		    jg CheckGhost1Wall8
 0000352D  E9 00000153		    jmp Ghost1Collision

 00003532			CheckGhost1Wall8:
				    ; 8. Horizontal wall at Y=16 (X=80-94)
 00003532  80 3D 00000FC2 R	    cmp ghostY, 16
	   10
 00003539  75 17		    jne CheckGhost1Wall9
 0000353B  80 3D 00000FC1 R	    cmp ghostX, 80
	   50
 00003542  7C 0E		    jl CheckGhost1Wall9
 00003544  80 3D 00000FC1 R	    cmp ghostX, 94
	   5E
 0000354B  7F 05		    jg CheckGhost1Wall9
 0000354D  E9 00000133		    jmp Ghost1Collision

 00003552			CheckGhost1Wall9:
				    ; 9. Horizontal wall at Y=20 (X=20-44)
 00003552  80 3D 00000FC2 R	    cmp ghostY, 20
	   14
 00003559  75 17		    jne CheckGhost1Wall10
 0000355B  80 3D 00000FC1 R	    cmp ghostX, 20
	   14
 00003562  7C 0E		    jl CheckGhost1Wall10
 00003564  80 3D 00000FC1 R	    cmp ghostX, 44
	   2C
 0000356B  7F 05		    jg CheckGhost1Wall10
 0000356D  E9 00000113		    jmp Ghost1Collision

 00003572			CheckGhost1Wall10:
				    ; 10. Horizontal wall at Y=20 (X=70-94)
 00003572  80 3D 00000FC2 R	    cmp ghostY, 20
	   14
 00003579  75 17		    jne CheckGhost1Wall11
 0000357B  80 3D 00000FC1 R	    cmp ghostX, 70
	   46
 00003582  7C 0E		    jl CheckGhost1Wall11
 00003584  80 3D 00000FC1 R	    cmp ghostX, 94
	   5E
 0000358B  7F 05		    jg CheckGhost1Wall11
 0000358D  E9 000000F3		    jmp Ghost1Collision

 00003592			CheckGhost1Wall11:
				    ; 11. Horizontal wall at Y=24 (X=30-39)
 00003592  80 3D 00000FC2 R	    cmp ghostY, 24
	   18
 00003599  75 17		    jne CheckGhost1Wall12
 0000359B  80 3D 00000FC1 R	    cmp ghostX, 30
	   1E
 000035A2  7C 0E		    jl CheckGhost1Wall12
 000035A4  80 3D 00000FC1 R	    cmp ghostX, 39
	   27
 000035AB  7F 05		    jg CheckGhost1Wall12
 000035AD  E9 000000D3		    jmp Ghost1Collision

 000035B2			CheckGhost1Wall12:
				    ; 12. Horizontal wall at Y=24 (X=70-79)
 000035B2  80 3D 00000FC2 R	    cmp ghostY, 24
	   18
 000035B9  75 17		    jne CheckGhost1Wall13
 000035BB  80 3D 00000FC1 R	    cmp ghostX, 70
	   46
 000035C2  7C 0E		    jl CheckGhost1Wall13
 000035C4  80 3D 00000FC1 R	    cmp ghostX, 79
	   4F
 000035CB  7F 05		    jg CheckGhost1Wall13
 000035CD  E9 000000B3		    jmp Ghost1Collision

 000035D2			CheckGhost1Wall13:
				    ; New small walls for level 3
				    ; 13. Vertical small wall at X=25 (Y=7-9)
 000035D2  80 3D 00000FC1 R	    cmp ghostX, 25
	   19
 000035D9  75 17		    jne CheckGhost1Wall14
 000035DB  80 3D 00000FC2 R	    cmp ghostY, 7
	   07
 000035E2  7C 0E		    jl CheckGhost1Wall14
 000035E4  80 3D 00000FC2 R	    cmp ghostY, 9
	   09
 000035EB  7F 05		    jg CheckGhost1Wall14
 000035ED  E9 00000093		    jmp Ghost1Collision

 000035F2			CheckGhost1Wall14:
				    ; 14. Vertical small wall at X=45 (Y=10-11)
 000035F2  80 3D 00000FC1 R	    cmp ghostX, 45
	   2D
 000035F9  75 14		    jne CheckGhost1Wall15
 000035FB  80 3D 00000FC2 R	    cmp ghostY, 10
	   0A
 00003602  7C 0B		    jl CheckGhost1Wall15
 00003604  80 3D 00000FC2 R	    cmp ghostY, 11
	   0B
 0000360B  7F 02		    jg CheckGhost1Wall15
 0000360D  EB 76		    jmp Ghost1Collision

 0000360F			CheckGhost1Wall15:
				    ; 15. Vertical small wall at X=65 (Y=15-17)
 0000360F  80 3D 00000FC1 R	    cmp ghostX, 65
	   41
 00003616  75 14		    jne CheckGhost1Wall16
 00003618  80 3D 00000FC2 R	    cmp ghostY, 15
	   0F
 0000361F  7C 0B		    jl CheckGhost1Wall16
 00003621  80 3D 00000FC2 R	    cmp ghostY, 17
	   11
 00003628  7F 02		    jg CheckGhost1Wall16
 0000362A  EB 59		    jmp Ghost1Collision

 0000362C			CheckGhost1Wall16:
				    ; 16. Horizontal small wall at Y=9 (X=35-36)
 0000362C  80 3D 00000FC2 R	    cmp ghostY, 9
	   09
 00003633  75 14		    jne CheckGhost1Wall17
 00003635  80 3D 00000FC1 R	    cmp ghostX, 35
	   23
 0000363C  7C 0B		    jl CheckGhost1Wall17
 0000363E  80 3D 00000FC1 R	    cmp ghostX, 36
	   24
 00003645  7F 02		    jg CheckGhost1Wall17
 00003647  EB 3C		    jmp Ghost1Collision

 00003649			CheckGhost1Wall17:
				    ; 17. Horizontal small wall at Y=14 (X=55-57)
 00003649  80 3D 00000FC2 R	    cmp ghostY, 14
	   0E
 00003650  75 14		    jne CheckGhost1Wall18
 00003652  80 3D 00000FC1 R	    cmp ghostX, 55
	   37
 00003659  7C 0B		    jl CheckGhost1Wall18
 0000365B  80 3D 00000FC1 R	    cmp ghostX, 57
	   39
 00003662  7F 02		    jg CheckGhost1Wall18
 00003664  EB 1F		    jmp Ghost1Collision

 00003666			CheckGhost1Wall18:
				    ; 18. Horizontal small wall at Y=19 (X=75-76)
 00003666  80 3D 00000FC2 R	    cmp ghostY, 19
	   13
 0000366D  75 14		    jne Ghost1NoCollision
 0000366F  80 3D 00000FC1 R	    cmp ghostX, 75
	   4B
 00003676  7C 0B		    jl Ghost1NoCollision
 00003678  80 3D 00000FC1 R	    cmp ghostX, 76
	   4C
 0000367F  7F 02		    jg Ghost1NoCollision
 00003681  EB 02		    jmp Ghost1Collision

 00003683			Ghost1NoCollision:
 00003683  F8			    clc
 00003684  C3			    ret

 00003685			Ghost1Collision:
 00003685  F9			    stc
 00003686  C3			    ret
 00003687			CheckGhost1WallCollision3 ENDP

				;....................................................................
 00003687			CheckGhost2WallCollision3 PROC
				    ; Similar to CheckGhost1WallCollision3 but for ghost2
				    ; Check boundaries first
 00003687  80 3D 00001976 R	    cmp ghost2X, 0
	   00
 0000368E  0F 8E 0000025A	    jle Ghost2Collision
 00003694  80 3D 00001976 R	    cmp ghost2X, 114
	   72
 0000369B  0F 8D 0000024D	    jge Ghost2Collision
 000036A1  80 3D 00001977 R	    cmp ghost2Y, 5
	   05
 000036A8  0F 8E 00000240	    jle Ghost2Collision
 000036AE  80 3D 00001977 R	    cmp ghost2Y, 29
	   1D
 000036B5  0F 8D 00000233	    jge Ghost2Collision

				    ; Original walls from level 2
				    ; 1. Vertical wall at X=5 (Y=4-10)
 000036BB  80 3D 00001976 R	    cmp ghost2X, 5
	   05
 000036C2  75 17		    jne CheckGhost2Wall2
 000036C4  80 3D 00001977 R	    cmp ghost2Y, 4
	   04
 000036CB  7C 0E		    jl CheckGhost2Wall2
 000036CD  80 3D 00001977 R	    cmp ghost2Y, 10
	   0A
 000036D4  7F 05		    jg CheckGhost2Wall2
 000036D6  E9 00000213		    jmp Ghost2Collision

 000036DB			CheckGhost2Wall2:
				    ; 2. Horizontal wall at Y=8 (X=15-34)
 000036DB  80 3D 00001977 R	    cmp ghost2Y, 8
	   08
 000036E2  75 17		    jne CheckGhost2Wall3
 000036E4  80 3D 00001976 R	    cmp ghost2X, 15
	   0F
 000036EB  7C 0E		    jl CheckGhost2Wall3
 000036ED  80 3D 00001976 R	    cmp ghost2X, 34
	   22
 000036F4  7F 05		    jg CheckGhost2Wall3
 000036F6  E9 000001F3		    jmp Ghost2Collision

 000036FB			CheckGhost2Wall3:
				    ; 3. Horizontal wall at Y=8 (X=60-79)
 000036FB  80 3D 00001977 R	    cmp ghost2Y, 8
	   08
 00003702  75 17		    jne CheckGhost2Wall4
 00003704  80 3D 00001976 R	    cmp ghost2X, 60
	   3C
 0000370B  7C 0E		    jl CheckGhost2Wall4
 0000370D  80 3D 00001976 R	    cmp ghost2X, 79
	   4F
 00003714  7F 05		    jg CheckGhost2Wall4
 00003716  E9 000001D3		    jmp Ghost2Collision

 0000371B			CheckGhost2Wall4:
				    ; 4. Horizontal wall at Y=12 (X=30-39)
 0000371B  80 3D 00001977 R	    cmp ghost2Y, 12
	   0C
 00003722  75 17		    jne CheckGhost2Wall5
 00003724  80 3D 00001976 R	    cmp ghost2X, 30
	   1E
 0000372B  7C 0E		    jl CheckGhost2Wall5
 0000372D  80 3D 00001976 R	    cmp ghost2X, 39
	   27
 00003734  7F 05		    jg CheckGhost2Wall5
 00003736  E9 000001B3		    jmp Ghost2Collision

 0000373B			CheckGhost2Wall5:
				    ; 5. Horizontal wall at Y=12 (X=70-79)
 0000373B  80 3D 00001977 R	    cmp ghost2Y, 12
	   0C
 00003742  75 17		    jne CheckGhost2Wall6
 00003744  80 3D 00001976 R	    cmp ghost2X, 70
	   46
 0000374B  7C 0E		    jl CheckGhost2Wall6
 0000374D  80 3D 00001976 R	    cmp ghost2X, 79
	   4F
 00003754  7F 05		    jg CheckGhost2Wall6
 00003756  E9 00000193		    jmp Ghost2Collision

 0000375B			CheckGhost2Wall6:
				    ; 6. Horizontal wall at Y=16 (X=10-24)
 0000375B  80 3D 00001977 R	    cmp ghost2Y, 16
	   10
 00003762  75 17		    jne CheckGhost2Wall7
 00003764  80 3D 00001976 R	    cmp ghost2X, 10
	   0A
 0000376B  7C 0E		    jl CheckGhost2Wall7
 0000376D  80 3D 00001976 R	    cmp ghost2X, 24
	   18
 00003774  7F 05		    jg CheckGhost2Wall7
 00003776  E9 00000173		    jmp Ghost2Collision

 0000377B			CheckGhost2Wall7:
				    ; 7. Horizontal wall at Y=16 (X=40-54)
 0000377B  80 3D 00001977 R	    cmp ghost2Y, 16
	   10
 00003782  75 17		    jne CheckGhost2Wall8
 00003784  80 3D 00001976 R	    cmp ghost2X, 40
	   28
 0000378B  7C 0E		    jl CheckGhost2Wall8
 0000378D  80 3D 00001976 R	    cmp ghost2X, 54
	   36
 00003794  7F 05		    jg CheckGhost2Wall8
 00003796  E9 00000153		    jmp Ghost2Collision

 0000379B			CheckGhost2Wall8:
				    ; 8. Horizontal wall at Y=16 (X=80-94)
 0000379B  80 3D 00001977 R	    cmp ghost2Y, 16
	   10
 000037A2  75 17		    jne CheckGhost2Wall9
 000037A4  80 3D 00001976 R	    cmp ghost2X, 80
	   50
 000037AB  7C 0E		    jl CheckGhost2Wall9
 000037AD  80 3D 00001976 R	    cmp ghost2X, 94
	   5E
 000037B4  7F 05		    jg CheckGhost2Wall9
 000037B6  E9 00000133		    jmp Ghost2Collision

 000037BB			CheckGhost2Wall9:
				    ; 9. Horizontal wall at Y=20 (X=20-44)
 000037BB  80 3D 00001977 R	    cmp ghost2Y, 20
	   14
 000037C2  75 17		    jne CheckGhost2Wall10
 000037C4  80 3D 00001976 R	    cmp ghost2X, 20
	   14
 000037CB  7C 0E		    jl CheckGhost2Wall10
 000037CD  80 3D 00001976 R	    cmp ghost2X, 44
	   2C
 000037D4  7F 05		    jg CheckGhost2Wall10
 000037D6  E9 00000113		    jmp Ghost2Collision

 000037DB			CheckGhost2Wall10:
				    ; 10. Horizontal wall at Y=20 (X=70-94)
 000037DB  80 3D 00001977 R	    cmp ghost2Y, 20
	   14
 000037E2  75 17		    jne CheckGhost2Wall11
 000037E4  80 3D 00001976 R	    cmp ghost2X, 70
	   46
 000037EB  7C 0E		    jl CheckGhost2Wall11
 000037ED  80 3D 00001976 R	    cmp ghost2X, 94
	   5E
 000037F4  7F 05		    jg CheckGhost2Wall11
 000037F6  E9 000000F3		    jmp Ghost2Collision

 000037FB			CheckGhost2Wall11:
				    ; 11. Horizontal wall at Y=24 (X=30-39)
 000037FB  80 3D 00001977 R	    cmp ghost2Y, 24
	   18
 00003802  75 17		    jne CheckGhost2Wall12
 00003804  80 3D 00001976 R	    cmp ghost2X, 30
	   1E
 0000380B  7C 0E		    jl CheckGhost2Wall12
 0000380D  80 3D 00001976 R	    cmp ghost2X, 39
	   27
 00003814  7F 05		    jg CheckGhost2Wall12
 00003816  E9 000000D3		    jmp Ghost2Collision

 0000381B			CheckGhost2Wall12:
				    ; 12. Horizontal wall at Y=24 (X=70-79)
 0000381B  80 3D 00001977 R	    cmp ghost2Y, 24
	   18
 00003822  75 17		    jne CheckGhost2Wall13
 00003824  80 3D 00001976 R	    cmp ghost2X, 70
	   46
 0000382B  7C 0E		    jl CheckGhost2Wall13
 0000382D  80 3D 00001976 R	    cmp ghost2X, 79
	   4F
 00003834  7F 05		    jg CheckGhost2Wall13
 00003836  E9 000000B3		    jmp Ghost2Collision

 0000383B			CheckGhost2Wall13:
				    ; New small walls for level 3
				    ; 13. Vertical small wall at X=25 (Y=7-9)
 0000383B  80 3D 00001976 R	    cmp ghost2X, 25
	   19
 00003842  75 17		    jne CheckGhost2Wall14
 00003844  80 3D 00001977 R	    cmp ghost2Y, 7
	   07
 0000384B  7C 0E		    jl CheckGhost2Wall14
 0000384D  80 3D 00001977 R	    cmp ghost2Y, 9
	   09
 00003854  7F 05		    jg CheckGhost2Wall14
 00003856  E9 00000093		    jmp Ghost2Collision

 0000385B			CheckGhost2Wall14:
				    ; 14. Vertical small wall at X=45 (Y=10-11)
 0000385B  80 3D 00001976 R	    cmp ghost2X, 45
	   2D
 00003862  75 14		    jne CheckGhost2Wall15
 00003864  80 3D 00001977 R	    cmp ghost2Y, 10
	   0A
 0000386B  7C 0B		    jl CheckGhost2Wall15
 0000386D  80 3D 00001977 R	    cmp ghost2Y, 11
	   0B
 00003874  7F 02		    jg CheckGhost2Wall15
 00003876  EB 76		    jmp Ghost2Collision

 00003878			CheckGhost2Wall15:
				    ; 15. Vertical small wall at X=65 (Y=15-17)
 00003878  80 3D 00001976 R	    cmp ghost2X, 65
	   41
 0000387F  75 14		    jne CheckGhost2Wall16
 00003881  80 3D 00001977 R	    cmp ghost2Y, 15
	   0F
 00003888  7C 0B		    jl CheckGhost2Wall16
 0000388A  80 3D 00001977 R	    cmp ghost2Y, 17
	   11
 00003891  7F 02		    jg CheckGhost2Wall16
 00003893  EB 59		    jmp Ghost2Collision

 00003895			CheckGhost2Wall16:
				    ; 16. Horizontal small wall at Y=9 (X=35-36)
 00003895  80 3D 00001977 R	    cmp ghost2Y, 9
	   09
 0000389C  75 14		    jne CheckGhost2Wall17
 0000389E  80 3D 00001976 R	    cmp ghost2X, 35
	   23
 000038A5  7C 0B		    jl CheckGhost2Wall17
 000038A7  80 3D 00001976 R	    cmp ghost2X, 36
	   24
 000038AE  7F 02		    jg CheckGhost2Wall17
 000038B0  EB 3C		    jmp Ghost2Collision

 000038B2			CheckGhost2Wall17:
				    ; 17. Horizontal small wall at Y=14 (X=55-57)
 000038B2  80 3D 00001977 R	    cmp ghost2Y, 14
	   0E
 000038B9  75 14		    jne CheckGhost2Wall18
 000038BB  80 3D 00001976 R	    cmp ghost2X, 55
	   37
 000038C2  7C 0B		    jl CheckGhost2Wall18
 000038C4  80 3D 00001976 R	    cmp ghost2X, 57
	   39
 000038CB  7F 02		    jg CheckGhost2Wall18
 000038CD  EB 1F		    jmp Ghost2Collision

 000038CF			CheckGhost2Wall18:
				    ; 18. Horizontal small wall at Y=19 (X=75-76)
 000038CF  80 3D 00001977 R	    cmp ghost2Y, 19
	   13
 000038D6  75 14		    jne Ghost2NoCollision
 000038D8  80 3D 00001976 R	    cmp ghost2X, 75
	   4B
 000038DF  7C 0B		    jl Ghost2NoCollision
 000038E1  80 3D 00001976 R	    cmp ghost2X, 76
	   4C
 000038E8  7F 02		    jg Ghost2NoCollision
 000038EA  EB 02		    jmp Ghost2Collision

 000038EC			Ghost2NoCollision:
 000038EC  F8			    clc
 000038ED  C3			    ret

 000038EE			Ghost2Collision:
 000038EE  F9			    stc
 000038EF  C3			    ret
 000038F0			CheckGhost2WallCollision3 ENDP

				;....................................................................
 000038F0			CheckGhost3WallCollision3 PROC
				    ; Similar to CheckGhost1WallCollision3 but for ghost3
				    ; Check boundaries first
 000038F0  80 3D 0000197B R	    cmp ghost3X, 0
	   00
 000038F7  0F 8E 0000025A	    jle Ghost3Collision
 000038FD  80 3D 0000197B R	    cmp ghost3X, 114
	   72
 00003904  0F 8D 0000024D	    jge Ghost3Collision
 0000390A  80 3D 0000197C R	    cmp ghost3Y, 5
	   05
 00003911  0F 8E 00000240	    jle Ghost3Collision
 00003917  80 3D 0000197C R	    cmp ghost3Y, 29
	   1D
 0000391E  0F 8D 00000233	    jge Ghost3Collision

				    ; Original walls from level 2
				    ; 1. Vertical wall at X=5 (Y=4-10)
 00003924  80 3D 0000197B R	    cmp ghost3X, 5
	   05
 0000392B  75 17		    jne CheckGhost3Wall2
 0000392D  80 3D 0000197C R	    cmp ghost3Y, 4
	   04
 00003934  7C 0E		    jl CheckGhost3Wall2
 00003936  80 3D 0000197C R	    cmp ghost3Y, 10
	   0A
 0000393D  7F 05		    jg CheckGhost3Wall2
 0000393F  E9 00000213		    jmp Ghost3Collision

 00003944			CheckGhost3Wall2:
				    ; 2. Horizontal wall at Y=8 (X=15-34)
 00003944  80 3D 0000197C R	    cmp ghost3Y, 8
	   08
 0000394B  75 17		    jne CheckGhost3Wall3
 0000394D  80 3D 0000197B R	    cmp ghost3X, 15
	   0F
 00003954  7C 0E		    jl CheckGhost3Wall3
 00003956  80 3D 0000197B R	    cmp ghost3X, 34
	   22
 0000395D  7F 05		    jg CheckGhost3Wall3
 0000395F  E9 000001F3		    jmp Ghost3Collision

 00003964			CheckGhost3Wall3:
				    ; 3. Horizontal wall at Y=8 (X=60-79)
 00003964  80 3D 0000197C R	    cmp ghost3Y, 8
	   08
 0000396B  75 17		    jne CheckGhost3Wall4
 0000396D  80 3D 0000197B R	    cmp ghost3X, 60
	   3C
 00003974  7C 0E		    jl CheckGhost3Wall4
 00003976  80 3D 0000197B R	    cmp ghost3X, 79
	   4F
 0000397D  7F 05		    jg CheckGhost3Wall4
 0000397F  E9 000001D3		    jmp Ghost3Collision

 00003984			CheckGhost3Wall4:
				    ; 4. Horizontal wall at Y=12 (X=30-39)
 00003984  80 3D 0000197C R	    cmp ghost3Y, 12
	   0C
 0000398B  75 17		    jne CheckGhost3Wall5
 0000398D  80 3D 0000197B R	    cmp ghost3X, 30
	   1E
 00003994  7C 0E		    jl CheckGhost3Wall5
 00003996  80 3D 0000197B R	    cmp ghost3X, 39
	   27
 0000399D  7F 05		    jg CheckGhost3Wall5
 0000399F  E9 000001B3		    jmp Ghost3Collision

 000039A4			CheckGhost3Wall5:
				    ; 5. Horizontal wall at Y=12 (X=70-79)
 000039A4  80 3D 0000197C R	    cmp ghost3Y, 12
	   0C
 000039AB  75 17		    jne CheckGhost3Wall6
 000039AD  80 3D 0000197B R	    cmp ghost3X, 70
	   46
 000039B4  7C 0E		    jl CheckGhost3Wall6
 000039B6  80 3D 0000197B R	    cmp ghost3X, 79
	   4F
 000039BD  7F 05		    jg CheckGhost3Wall6
 000039BF  E9 00000193		    jmp Ghost3Collision

 000039C4			CheckGhost3Wall6:
				    ; 6. Horizontal wall at Y=16 (X=10-24)
 000039C4  80 3D 0000197C R	    cmp ghost3Y, 16
	   10
 000039CB  75 17		    jne CheckGhost3Wall7
 000039CD  80 3D 0000197B R	    cmp ghost3X, 10
	   0A
 000039D4  7C 0E		    jl CheckGhost3Wall7
 000039D6  80 3D 0000197B R	    cmp ghost3X, 24
	   18
 000039DD  7F 05		    jg CheckGhost3Wall7
 000039DF  E9 00000173		    jmp Ghost3Collision

 000039E4			CheckGhost3Wall7:
				    ; 7. Horizontal wall at Y=16 (X=40-54)
 000039E4  80 3D 0000197C R	    cmp ghost3Y, 16
	   10
 000039EB  75 17		    jne CheckGhost3Wall8
 000039ED  80 3D 0000197B R	    cmp ghost3X, 40
	   28
 000039F4  7C 0E		    jl CheckGhost3Wall8
 000039F6  80 3D 0000197B R	    cmp ghost3X, 54
	   36
 000039FD  7F 05		    jg CheckGhost3Wall8
 000039FF  E9 00000153		    jmp Ghost3Collision

 00003A04			CheckGhost3Wall8:
				    ; 8. Horizontal wall at Y=16 (X=80-94)
 00003A04  80 3D 0000197C R	    cmp ghost3Y, 16
	   10
 00003A0B  75 17		    jne CheckGhost3Wall9
 00003A0D  80 3D 0000197B R	    cmp ghost3X, 80
	   50
 00003A14  7C 0E		    jl CheckGhost3Wall9
 00003A16  80 3D 0000197B R	    cmp ghost3X, 94
	   5E
 00003A1D  7F 05		    jg CheckGhost3Wall9
 00003A1F  E9 00000133		    jmp Ghost3Collision

 00003A24			CheckGhost3Wall9:
				    ; 9. Horizontal wall at Y=20 (X=20-44)
 00003A24  80 3D 0000197C R	    cmp ghost3Y, 20
	   14
 00003A2B  75 17		    jne CheckGhost3Wall10
 00003A2D  80 3D 0000197B R	    cmp ghost3X, 20
	   14
 00003A34  7C 0E		    jl CheckGhost3Wall10
 00003A36  80 3D 0000197B R	    cmp ghost3X, 44
	   2C
 00003A3D  7F 05		    jg CheckGhost3Wall10
 00003A3F  E9 00000113		    jmp Ghost3Collision

 00003A44			CheckGhost3Wall10:
				    ; 10. Horizontal wall at Y=20 (X=70-94)
 00003A44  80 3D 0000197C R	    cmp ghost3Y, 20
	   14
 00003A4B  75 17		    jne CheckGhost3Wall11
 00003A4D  80 3D 0000197B R	    cmp ghost3X, 70
	   46
 00003A54  7C 0E		    jl CheckGhost3Wall11
 00003A56  80 3D 0000197B R	    cmp ghost3X, 94
	   5E
 00003A5D  7F 05		    jg CheckGhost3Wall11
 00003A5F  E9 000000F3		    jmp Ghost3Collision

 00003A64			CheckGhost3Wall11:
				    ; 11. Horizontal wall at Y=24 (X=30-39)
 00003A64  80 3D 0000197C R	    cmp ghost3Y, 24
	   18
 00003A6B  75 17		    jne CheckGhost3Wall12
 00003A6D  80 3D 0000197B R	    cmp ghost3X, 30
	   1E
 00003A74  7C 0E		    jl CheckGhost3Wall12
 00003A76  80 3D 0000197B R	    cmp ghost3X, 39
	   27
 00003A7D  7F 05		    jg CheckGhost3Wall12
 00003A7F  E9 000000D3		    jmp Ghost3Collision

 00003A84			CheckGhost3Wall12:
				    ; 12. Horizontal wall at Y=24 (X=70-79)
 00003A84  80 3D 0000197C R	    cmp ghost3Y, 24
	   18
 00003A8B  75 17		    jne CheckGhost3Wall13
 00003A8D  80 3D 0000197B R	    cmp ghost3X, 70
	   46
 00003A94  7C 0E		    jl CheckGhost3Wall13
 00003A96  80 3D 0000197B R	    cmp ghost3X, 79
	   4F
 00003A9D  7F 05		    jg CheckGhost3Wall13
 00003A9F  E9 000000B3		    jmp Ghost3Collision

 00003AA4			CheckGhost3Wall13:
				    ; New small walls for level 3
				    ; 13. Vertical small wall at X=25 (Y=7-9)
 00003AA4  80 3D 0000197B R	    cmp ghost3X, 25
	   19
 00003AAB  75 17		    jne CheckGhost3Wall14
 00003AAD  80 3D 0000197C R	    cmp ghost3Y, 7
	   07
 00003AB4  7C 0E		    jl CheckGhost3Wall14
 00003AB6  80 3D 0000197C R	    cmp ghost3Y, 9
	   09
 00003ABD  7F 05		    jg CheckGhost3Wall14
 00003ABF  E9 00000093		    jmp Ghost3Collision

 00003AC4			CheckGhost3Wall14:
				    ; 14. Vertical small wall at X=45 (Y=10-11)
 00003AC4  80 3D 0000197B R	    cmp ghost3X, 45
	   2D
 00003ACB  75 14		    jne CheckGhost3Wall15
 00003ACD  80 3D 0000197C R	    cmp ghost3Y, 10
	   0A
 00003AD4  7C 0B		    jl CheckGhost3Wall15
 00003AD6  80 3D 0000197C R	    cmp ghost3Y, 11
	   0B
 00003ADD  7F 02		    jg CheckGhost3Wall15
 00003ADF  EB 76		    jmp Ghost3Collision

 00003AE1			CheckGhost3Wall15:
				    ; 15. Vertical small wall at X=65 (Y=15-17)
 00003AE1  80 3D 0000197B R	    cmp ghost3X, 65
	   41
 00003AE8  75 14		    jne CheckGhost3Wall16
 00003AEA  80 3D 0000197C R	    cmp ghost3Y, 15
	   0F
 00003AF1  7C 0B		    jl CheckGhost3Wall16
 00003AF3  80 3D 0000197C R	    cmp ghost3Y, 17
	   11
 00003AFA  7F 02		    jg CheckGhost3Wall16
 00003AFC  EB 59		    jmp Ghost3Collision

 00003AFE			CheckGhost3Wall16:
				    ; 16. Horizontal small wall at Y=9 (X=35-36)
 00003AFE  80 3D 0000197C R	    cmp ghost3Y, 9
	   09
 00003B05  75 14		    jne CheckGhost3Wall17
 00003B07  80 3D 0000197B R	    cmp ghost3X, 35
	   23
 00003B0E  7C 0B		    jl CheckGhost3Wall17
 00003B10  80 3D 0000197B R	    cmp ghost3X, 36
	   24
 00003B17  7F 02		    jg CheckGhost3Wall17
 00003B19  EB 3C		    jmp Ghost3Collision

 00003B1B			CheckGhost3Wall17:
				    ; 17. Horizontal small wall at Y=14 (X=55-57)
 00003B1B  80 3D 0000197C R	    cmp ghost3Y, 14
	   0E
 00003B22  75 14		    jne CheckGhost3Wall18
 00003B24  80 3D 0000197B R	    cmp ghost3X, 55
	   37
 00003B2B  7C 0B		    jl CheckGhost3Wall18
 00003B2D  80 3D 0000197B R	    cmp ghost3X, 57
	   39
 00003B34  7F 02		    jg CheckGhost3Wall18
 00003B36  EB 1F		    jmp Ghost3Collision

 00003B38			CheckGhost3Wall18:
				    ; 18. Horizontal small wall at Y=19 (X=75-76)
 00003B38  80 3D 0000197C R	    cmp ghost3Y, 19
	   13
 00003B3F  75 14		    jne Ghost3NoCollision
 00003B41  80 3D 0000197B R	    cmp ghost3X, 75
	   4B
 00003B48  7C 0B		    jl Ghost3NoCollision
 00003B4A  80 3D 0000197B R	    cmp ghost3X, 76
	   4C
 00003B51  7F 02		    jg Ghost3NoCollision
 00003B53  EB 02		    jmp Ghost3Collision

 00003B55			Ghost3NoCollision:
 00003B55  F8			    clc
 00003B56  C3			    ret

 00003B57			Ghost3Collision:
 00003B57  F9			    stc
 00003B58  C3			    ret
 00003B59			CheckGhost3WallCollision3 ENDP



				end main
Microsoft (R) Macro Assembler Version 14.42.34436.0	    05/12/25 08:47:46
CODE.asm						     Symbols 2 - 1




Structures and Unions:

                N a m e                  Size
                                         Offset      Type

CONSOLE_CURSOR_INFO  . . . . . .	 00000008
  dwSize . . . . . . . . . . . .	 00000000	 DWord
  bVisible . . . . . . . . . . .	 00000004	 DWord
CONSOLE_SCREEN_BUFFER_INFO . . .	 00000016
  dwSize . . . . . . . . . . . .	 00000000	 DWord
  dwCursorPosition . . . . . . .	 00000004	 DWord
  wAttributes  . . . . . . . . .	 00000008	 Word
  srWindow . . . . . . . . . . .	 0000000A	 QWord
  dwMaximumWindowSize  . . . . .	 00000012	 DWord
COORD  . . . . . . . . . . . . .	 00000004
  X  . . . . . . . . . . . . . .	 00000000	 Word
  Y  . . . . . . . . . . . . . .	 00000002	 Word
FILETIME . . . . . . . . . . . .	 00000008
  loDateTime . . . . . . . . . .	 00000000	 DWord
  hiDateTime . . . . . . . . . .	 00000004	 DWord
FOCUS_EVENT_RECORD . . . . . . .	 00000004
  bSetFocus  . . . . . . . . . .	 00000000	 DWord
FPU_ENVIRON  . . . . . . . . . .	 0000001C
  controlWord  . . . . . . . . .	 00000000	 Word
  statusWord . . . . . . . . . .	 00000004	 Word
  tagWord  . . . . . . . . . . .	 00000008	 Word
  instrPointerOffset . . . . . .	 0000000C	 DWord
  instrPointerSelector . . . . .	 00000010	 DWord
  operandPointerOffset . . . . .	 00000014	 DWord
  operandPointerSelector . . . .	 00000018	 Word
INPUT_RECORD . . . . . . . . . .	 00000014
  EventType  . . . . . . . . . .	 00000000	 Word
  Event  . . . . . . . . . . . .	 00000004	 XmmWord
  bKeyDown . . . . . . . . . . .	 00000000	 DWord
  wRepeatCount . . . . . . . . .	 00000004	 Word
  wVirtualKeyCode  . . . . . . .	 00000006	 Word
  wVirtualScanCode . . . . . . .	 00000008	 Word
  uChar  . . . . . . . . . . . .	 0000000A	 Word
  UnicodeChar  . . . . . . . . .	 00000000	 Word
  AsciiChar  . . . . . . . . . .	 00000000	 Byte
  dwControlKeyState  . . . . . .	 0000000C	 DWord
  dwMousePosition  . . . . . . .	 00000000	 DWord
  dwButtonState  . . . . . . . .	 00000004	 DWord
  dwMouseControlKeyState . . . .	 00000008	 DWord
  dwEventFlags . . . . . . . . .	 0000000C	 DWord
  dwSize . . . . . . . . . . . .	 00000000	 DWord
  dwCommandId  . . . . . . . . .	 00000000	 DWord
  bSetFocus  . . . . . . . . . .	 00000000	 DWord
KEY_EVENT_RECORD . . . . . . . .	 00000010
  bKeyDown . . . . . . . . . . .	 00000000	 DWord
  wRepeatCount . . . . . . . . .	 00000004	 Word
  wVirtualKeyCode  . . . . . . .	 00000006	 Word
  wVirtualScanCode . . . . . . .	 00000008	 Word
  uChar  . . . . . . . . . . . .	 0000000A	 Word
  UnicodeChar  . . . . . . . . .	 00000000	 Word
  AsciiChar  . . . . . . . . . .	 00000000	 Byte
  dwControlKeyState  . . . . . .	 0000000C	 DWord
MENU_EVENT_RECORD  . . . . . . .	 00000004
  dwCommandId  . . . . . . . . .	 00000000	 DWord
MOUSE_EVENT_RECORD . . . . . . .	 00000010
  dwMousePosition  . . . . . . .	 00000000	 DWord
  dwButtonState  . . . . . . . .	 00000004	 DWord
  dwMouseControlKeyState . . . .	 00000008	 DWord
  dwEventFlags . . . . . . . . .	 0000000C	 DWord
SMALL_RECT . . . . . . . . . . .	 00000008
  Left . . . . . . . . . . . . .	 00000000	 Word
  Top  . . . . . . . . . . . . .	 00000002	 Word
  Right  . . . . . . . . . . . .	 00000004	 Word
  Bottom . . . . . . . . . . . .	 00000006	 Word
SYSTEMTIME . . . . . . . . . . .	 00000010
  wYear  . . . . . . . . . . . .	 00000000	 Word
  wMonth . . . . . . . . . . . .	 00000002	 Word
  wDayOfWeek . . . . . . . . . .	 00000004	 Word
  wDay . . . . . . . . . . . . .	 00000006	 Word
  wHour  . . . . . . . . . . . .	 00000008	 Word
  wMinute  . . . . . . . . . . .	 0000000A	 Word
  wSecond  . . . . . . . . . . .	 0000000C	 Word
  wMilliseconds  . . . . . . . .	 0000000E	 Word
WINDOW_BUFFER_SIZE_RECORD  . . .	 00000004
  dwSize . . . . . . . . . . . .	 00000000	 DWord


Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

FLAT . . . . . . . . . . . . . .	GROUP
STACK  . . . . . . . . . . . . .	32 Bit	 00001000 Para	  Stack	  'STACK'	 
_DATA  . . . . . . . . . . . . .	32 Bit	 00001991 Para	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 00003B59 Para	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

CheckFruitCollision  . . . . . .	P Near	 00001DEC _TEXT	Length= 000000BC Public STDCALL
  CheckSecondFruit . . . . . . .	L Near	 00001E4A _TEXT	
  NoFruitCollision . . . . . . .	L Near	 00001EA7 _TEXT	
CheckGhost1WallCollision3  . . .	P Near	 0000341E _TEXT	Length= 00000269 Public STDCALL
  CheckGhost1Wall2 . . . . . . .	L Near	 00003472 _TEXT	
  CheckGhost1Wall3 . . . . . . .	L Near	 00003492 _TEXT	
  CheckGhost1Wall4 . . . . . . .	L Near	 000034B2 _TEXT	
  CheckGhost1Wall5 . . . . . . .	L Near	 000034D2 _TEXT	
  CheckGhost1Wall6 . . . . . . .	L Near	 000034F2 _TEXT	
  CheckGhost1Wall7 . . . . . . .	L Near	 00003512 _TEXT	
  CheckGhost1Wall8 . . . . . . .	L Near	 00003532 _TEXT	
  CheckGhost1Wall9 . . . . . . .	L Near	 00003552 _TEXT	
  CheckGhost1Wall10  . . . . . .	L Near	 00003572 _TEXT	
  CheckGhost1Wall11  . . . . . .	L Near	 00003592 _TEXT	
  CheckGhost1Wall12  . . . . . .	L Near	 000035B2 _TEXT	
  CheckGhost1Wall13  . . . . . .	L Near	 000035D2 _TEXT	
  CheckGhost1Wall14  . . . . . .	L Near	 000035F2 _TEXT	
  CheckGhost1Wall15  . . . . . .	L Near	 0000360F _TEXT	
  CheckGhost1Wall16  . . . . . .	L Near	 0000362C _TEXT	
  CheckGhost1Wall17  . . . . . .	L Near	 00003649 _TEXT	
  CheckGhost1Wall18  . . . . . .	L Near	 00003666 _TEXT	
  Ghost1NoCollision  . . . . . .	L Near	 00003683 _TEXT	
  Ghost1Collision  . . . . . . .	L Near	 00003685 _TEXT	
CheckGhost1WallCollision . . . .	P Near	 00001EA8 _TEXT	Length= 000001E9 Public STDCALL
  CheckGhost1Wall2 . . . . . . .	L Near	 00001EFC _TEXT	
  CheckGhost1Wall3 . . . . . . .	L Near	 00001F1C _TEXT	
  CheckGhost1Wall4 . . . . . . .	L Near	 00001F3C _TEXT	
  CheckGhost1Wall5 . . . . . . .	L Near	 00001F5C _TEXT	
  CheckGhost1Wall6 . . . . . . .	L Near	 00001F7C _TEXT	
  CheckGhost1Wall7 . . . . . . .	L Near	 00001F9C _TEXT	
  CheckGhost1Wall8 . . . . . . .	L Near	 00001FBC _TEXT	
  CheckGhost1Wall9 . . . . . . .	L Near	 00001FDC _TEXT	
  CheckGhost1Wall10  . . . . . .	L Near	 00001FFC _TEXT	
  CheckGhost1Wall11  . . . . . .	L Near	 00002019 _TEXT	
  CheckGhost1Wall12  . . . . . .	L Near	 00002036 _TEXT	
  CheckGhost1Wall13  . . . . . .	L Near	 00002053 _TEXT	
  CheckGhost1Wall14  . . . . . .	L Near	 00002070 _TEXT	
  Ghost1NoCollision  . . . . . .	L Near	 0000208D _TEXT	
  Ghost1Collision  . . . . . . .	L Near	 0000208F _TEXT	
CheckGhost2WallCollision3  . . .	P Near	 00003687 _TEXT	Length= 00000269 Public STDCALL
  CheckGhost2Wall2 . . . . . . .	L Near	 000036DB _TEXT	
  CheckGhost2Wall3 . . . . . . .	L Near	 000036FB _TEXT	
  CheckGhost2Wall4 . . . . . . .	L Near	 0000371B _TEXT	
  CheckGhost2Wall5 . . . . . . .	L Near	 0000373B _TEXT	
  CheckGhost2Wall6 . . . . . . .	L Near	 0000375B _TEXT	
  CheckGhost2Wall7 . . . . . . .	L Near	 0000377B _TEXT	
  CheckGhost2Wall8 . . . . . . .	L Near	 0000379B _TEXT	
  CheckGhost2Wall9 . . . . . . .	L Near	 000037BB _TEXT	
  CheckGhost2Wall10  . . . . . .	L Near	 000037DB _TEXT	
  CheckGhost2Wall11  . . . . . .	L Near	 000037FB _TEXT	
  CheckGhost2Wall12  . . . . . .	L Near	 0000381B _TEXT	
  CheckGhost2Wall13  . . . . . .	L Near	 0000383B _TEXT	
  CheckGhost2Wall14  . . . . . .	L Near	 0000385B _TEXT	
  CheckGhost2Wall15  . . . . . .	L Near	 00003878 _TEXT	
  CheckGhost2Wall16  . . . . . .	L Near	 00003895 _TEXT	
  CheckGhost2Wall17  . . . . . .	L Near	 000038B2 _TEXT	
  CheckGhost2Wall18  . . . . . .	L Near	 000038CF _TEXT	
  Ghost2NoCollision  . . . . . .	L Near	 000038EC _TEXT	
  Ghost2Collision  . . . . . . .	L Near	 000038EE _TEXT	
CheckGhost2WallCollision . . . .	P Near	 00002091 _TEXT	Length= 000001E9 Public STDCALL
  CheckGhost2Wall2 . . . . . . .	L Near	 000020E5 _TEXT	
  CheckGhost2Wall3 . . . . . . .	L Near	 00002105 _TEXT	
  CheckGhost2Wall4 . . . . . . .	L Near	 00002125 _TEXT	
  CheckGhost2Wall5 . . . . . . .	L Near	 00002145 _TEXT	
  CheckGhost2Wall6 . . . . . . .	L Near	 00002165 _TEXT	
  CheckGhost2Wall7 . . . . . . .	L Near	 00002185 _TEXT	
  CheckGhost2Wall8 . . . . . . .	L Near	 000021A5 _TEXT	
  CheckGhost2Wall9 . . . . . . .	L Near	 000021C5 _TEXT	
  CheckGhost2Wall10  . . . . . .	L Near	 000021E5 _TEXT	
  CheckGhost2Wall11  . . . . . .	L Near	 00002202 _TEXT	
  CheckGhost2Wall12  . . . . . .	L Near	 0000221F _TEXT	
  CheckGhost2Wall13  . . . . . .	L Near	 0000223C _TEXT	
  CheckGhost2Wall14  . . . . . .	L Near	 00002259 _TEXT	
  Ghost2NoCollision  . . . . . .	L Near	 00002276 _TEXT	
  Ghost2Collision  . . . . . . .	L Near	 00002278 _TEXT	
CheckGhost3WallCollision3  . . .	P Near	 000038F0 _TEXT	Length= 00000269 Public STDCALL
  CheckGhost3Wall2 . . . . . . .	L Near	 00003944 _TEXT	
  CheckGhost3Wall3 . . . . . . .	L Near	 00003964 _TEXT	
  CheckGhost3Wall4 . . . . . . .	L Near	 00003984 _TEXT	
  CheckGhost3Wall5 . . . . . . .	L Near	 000039A4 _TEXT	
  CheckGhost3Wall6 . . . . . . .	L Near	 000039C4 _TEXT	
  CheckGhost3Wall7 . . . . . . .	L Near	 000039E4 _TEXT	
  CheckGhost3Wall8 . . . . . . .	L Near	 00003A04 _TEXT	
  CheckGhost3Wall9 . . . . . . .	L Near	 00003A24 _TEXT	
  CheckGhost3Wall10  . . . . . .	L Near	 00003A44 _TEXT	
  CheckGhost3Wall11  . . . . . .	L Near	 00003A64 _TEXT	
  CheckGhost3Wall12  . . . . . .	L Near	 00003A84 _TEXT	
  CheckGhost3Wall13  . . . . . .	L Near	 00003AA4 _TEXT	
  CheckGhost3Wall14  . . . . . .	L Near	 00003AC4 _TEXT	
  CheckGhost3Wall15  . . . . . .	L Near	 00003AE1 _TEXT	
  CheckGhost3Wall16  . . . . . .	L Near	 00003AFE _TEXT	
  CheckGhost3Wall17  . . . . . .	L Near	 00003B1B _TEXT	
  CheckGhost3Wall18  . . . . . .	L Near	 00003B38 _TEXT	
  Ghost3NoCollision  . . . . . .	L Near	 00003B55 _TEXT	
  Ghost3Collision  . . . . . . .	L Near	 00003B57 _TEXT	
CheckGhostCollisionLevel2  . . .	P Near	 00001BD5 _TEXT	Length= 000000FF Public STDCALL
  CheckSecondGhost . . . . . . .	L Near	 00001BFD _TEXT	
  GhostCollision . . . . . . . .	L Near	 00001C33 _TEXT	
  NoCollision  . . . . . . . . .	L Near	 00001CC8 _TEXT	
  GameOver . . . . . . . . . . .	L Near	 00001CCE _TEXT	
CheckGhostCollisionLevel3  . . .	P Near	 00002FBC _TEXT	Length= 00000150 Public STDCALL
  CheckSecondGhost . . . . . . .	L Near	 00002FE4 _TEXT	
  CheckThirdGhost  . . . . . . .	L Near	 0000300C _TEXT	
  GhostCollision . . . . . . . .	L Near	 00003042 _TEXT	
  NoCollision  . . . . . . . . .	L Near	 00003100 _TEXT	
  GameOver . . . . . . . . . . .	L Near	 00003106 _TEXT	
CheckGhostCollision  . . . . . .	P Near	 00000F56 _TEXT	Length= 000000A2 Public STDCALL
  NoCollisionX . . . . . . . . .	L Near	 00000FEC _TEXT	
  NoCollision  . . . . . . . . .	L Near	 00000FEC _TEXT	
  GameOver . . . . . . . . . . .	L Near	 00000FF2 _TEXT	
CheckGhostWallCollision  . . . .	P Near	 00000F44 _TEXT	Length= 00000012 Public STDCALL
CheckPelletCollision . . . . . .	P Near	 00000D2A _TEXT	Length= 00000062 Public STDCALL
  CheckPellets . . . . . . . . .	L Near	 00000D35 _TEXT	
  NextPellet . . . . . . . . . .	L Near	 00000D85 _TEXT	
CheckPortalCollision . . . . . .	P Near	 0000310C _TEXT	Length= 00000069 Public STDCALL
  CheckPortal2 . . . . . . . . .	L Near	 0000313C _TEXT	
  PortalUsed . . . . . . . . . .	L Near	 0000316A _TEXT	
  NoPortalCollision  . . . . . .	L Near	 00003174 _TEXT	
CheckWallCollision2  . . . . . .	P Near	 0000227A _TEXT	Length= 000001E9 Public STDCALL
  CheckWall2 . . . . . . . . . .	L Near	 000022CE _TEXT	
  CheckWall3 . . . . . . . . . .	L Near	 000022EE _TEXT	
  CheckWall4 . . . . . . . . . .	L Near	 0000230E _TEXT	
  CheckWall5 . . . . . . . . . .	L Near	 0000232E _TEXT	
  CheckWall6 . . . . . . . . . .	L Near	 0000234E _TEXT	
  CheckWall7 . . . . . . . . . .	L Near	 0000236E _TEXT	
  CheckWall8 . . . . . . . . . .	L Near	 0000238E _TEXT	
  CheckWall9 . . . . . . . . . .	L Near	 000023AE _TEXT	
  CheckWall10  . . . . . . . . .	L Near	 000023CE _TEXT	
  CheckWall11  . . . . . . . . .	L Near	 000023EB _TEXT	
  CheckWall12  . . . . . . . . .	L Near	 00002408 _TEXT	
  CheckWall13  . . . . . . . . .	L Near	 00002425 _TEXT	
  CheckWall14  . . . . . . . . .	L Near	 00002442 _TEXT	
  NoCollision  . . . . . . . . .	L Near	 0000245F _TEXT	
  Collision  . . . . . . . . . .	L Near	 00002461 _TEXT	
CheckWallCollision3  . . . . . .	P Near	 00003175 _TEXT	Length= 000002A9 Public STDCALL
  CheckHiddenShortcut2 . . . . .	L Near	 000031C9 _TEXT	
  CheckRegularWalls  . . . . . .	L Near	 000031E9 _TEXT	
  CheckWall2 . . . . . . . . . .	L Near	 00003209 _TEXT	
  CheckWall3 . . . . . . . . . .	L Near	 00003229 _TEXT	
  CheckWall4 . . . . . . . . . .	L Near	 00003249 _TEXT	
  CheckWall5 . . . . . . . . . .	L Near	 00003269 _TEXT	
  CheckWall6 . . . . . . . . . .	L Near	 00003289 _TEXT	
  CheckWall7 . . . . . . . . . .	L Near	 000032A9 _TEXT	
  CheckWall8 . . . . . . . . . .	L Near	 000032C9 _TEXT	
  CheckWall9 . . . . . . . . . .	L Near	 000032E9 _TEXT	
  CheckWall10  . . . . . . . . .	L Near	 00003309 _TEXT	
  CheckWall11  . . . . . . . . .	L Near	 00003329 _TEXT	
  CheckWall12  . . . . . . . . .	L Near	 00003349 _TEXT	
  CheckWall13  . . . . . . . . .	L Near	 00003369 _TEXT	
  CheckWall14  . . . . . . . . .	L Near	 00003389 _TEXT	
  CheckWall15  . . . . . . . . .	L Near	 000033A6 _TEXT	
  CheckWall16  . . . . . . . . .	L Near	 000033C3 _TEXT	
  CheckWall17  . . . . . . . . .	L Near	 000033E0 _TEXT	
  CheckWall18  . . . . . . . . .	L Near	 000033FD _TEXT	
  NoCollision  . . . . . . . . .	L Near	 0000341A _TEXT	
  Collision  . . . . . . . . . .	L Near	 0000341C _TEXT	
CheckWallCollision . . . . . . .	P Near	 00000D18 _TEXT	Length= 00000012 Public STDCALL
CheckWallPosition  . . . . . . .	P Near	 00000C50 _TEXT	Length= 000000C8 Public STDCALL
  NotWall1 . . . . . . . . . . .	L Near	 00000C88 _TEXT	
  NotWall2 . . . . . . . . . . .	L Near	 00000C99 _TEXT	
  NotWall3a  . . . . . . . . . .	L Near	 00000CAA _TEXT	
  NotWall3b  . . . . . . . . . .	L Near	 00000CB6 _TEXT	
  NotWall3c  . . . . . . . . . .	L Near	 00000CC2 _TEXT	
  NotWall3d  . . . . . . . . . .	L Near	 00000CCE _TEXT	
  NotWall3 . . . . . . . . . . .	L Near	 00000CDA _TEXT	
  NotWall4a  . . . . . . . . . .	L Near	 00000CEB _TEXT	
  NotWall4 . . . . . . . . . . .	L Near	 00000CF7 _TEXT	
  NotWall5a  . . . . . . . . . .	L Near	 00000D08 _TEXT	
  NotWall  . . . . . . . . . . .	L Near	 00000D14 _TEXT	
  IsWall . . . . . . . . . . . .	L Near	 00000D16 _TEXT	
ClearOldPositionsLevel2  . . . .	P Near	 0000191A _TEXT	Length= 0000005C Public STDCALL
ClearOldPositionsLevel3  . . . .	P Near	 00002BEB _TEXT	Length= 00000077 Public STDCALL
ClearOldPositions  . . . . . . .	P Near	 00000E11 _TEXT	Length= 00000041 Public STDCALL
CloseFile  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
CloseHandle  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Clrscr . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ConvertNumberToString  . . . . .	P Near	 00001136 _TEXT	Length= 00000025 Public STDCALL
  DivLoop  . . . . . . . . . . .	L Near	 00001140 _TEXT	
  WriteDigits  . . . . . . . . .	L Near	 0000114C _TEXT	
CopyStringToBuffer . . . . . . .	P Near	 0000115B _TEXT	Length= 0000000C Public STDCALL
  CopyChar . . . . . . . . . . .	L Near	 0000115B _TEXT	
CreateFileA  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
CreateOutputFile . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Crlf . . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Delay  . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
DrawGameElementsLevel2 . . . . .	P Near	 00001826 _TEXT	Length= 000000F4 Public STDCALL
  DrawPellets  . . . . . . . . .	L Near	 0000183A _TEXT	
  SkipPellet . . . . . . . . . .	L Near	 00001853 _TEXT	
  SkipFruit1 . . . . . . . . . .	L Near	 00001886 _TEXT	
  SkipFruit2 . . . . . . . . . .	L Near	 000018B4 _TEXT	
DrawGameElementsLevel3 . . . . .	P Near	 00002AD1 _TEXT	Length= 0000011A Public STDCALL
  DrawPellets  . . . . . . . . .	L Near	 00002AE6 _TEXT	
  SkipPellet . . . . . . . . . .	L Near	 00002AFF _TEXT	
  SkipFruit1 . . . . . . . . . .	L Near	 00002B32 _TEXT	
  SkipFruit2 . . . . . . . . . .	L Near	 00002B60 _TEXT	
DrawGameElements . . . . . . . .	P Near	 00000BA2 _TEXT	Length= 00000073 Public STDCALL
  DrawPellets  . . . . . . . . .	L Near	 00000BB6 _TEXT	
  SkipPellet . . . . . . . . . .	L Near	 00000BCF _TEXT	
DrawInnerWallsLevel2 . . . . . .	P Near	 0000175C _TEXT	Length= 000000CA Public STDCALL
  VerticalWall1  . . . . . . . .	L Near	 00001765 _TEXT	
  HorizontalWall3  . . . . . . .	L Near	 0000179B _TEXT	
  HorizontalWall4  . . . . . . .	L Near	 000017B7 _TEXT	
DrawInnerWallsLevel3 . . . . . .	P Near	 0000297B _TEXT	Length= 00000156 Public STDCALL
  VerticalSmallWall1 . . . . . .	L Near	 000029F9 _TEXT	
  VerticalSmallWall2 . . . . . .	L Near	 00002A15 _TEXT	
  VerticalSmallWall3 . . . . . .	L Near	 00002A31 _TEXT	
  HorizontalSmallWall1 . . . . .	L Near	 00002A4D _TEXT	
  HorizontalSmallWall2 . . . . .	L Near	 00002A69 _TEXT	
  HorizontalSmallWall3 . . . . .	L Near	 00002A85 _TEXT	
  HiddenShortcut1  . . . . . . .	L Near	 00002AA1 _TEXT	
  HiddenShortcut2  . . . . . . .	L Near	 00002ABD _TEXT	
DrawInnerWalls . . . . . . . . .	P Near	 00000D8C _TEXT	Length= 0000006F Public STDCALL
DrawStaticElementsLevel2 . . . .	P Near	 00001679 _TEXT	Length= 000000E3 Public STDCALL
  topBorder  . . . . . . . . . .	L Near	 000016F1 _TEXT	
  bottomBorder . . . . . . . . .	L Near	 00001708 _TEXT	
  sideBorders  . . . . . . . . .	L Near	 0000171D _TEXT	
DrawStaticElementsLevel3 . . . .	P Near	 00002858 _TEXT	Length= 00000123 Public STDCALL
  topBorder  . . . . . . . . . .	L Near	 000028D0 _TEXT	
  bottomBorder . . . . . . . . .	L Near	 000028E7 _TEXT	
  sideBorders  . . . . . . . . .	L Near	 000028FC _TEXT	
DrawStaticElements . . . . . . .	P Near	 00000ABF _TEXT	Length= 000000E3 Public STDCALL
  topBorder  . . . . . . . . . .	L Near	 00000B37 _TEXT	
  bottomBorder . . . . . . . . .	L Near	 00000B4E _TEXT	
  sideBorders  . . . . . . . . .	L Near	 00000B63 _TEXT	
DrawWall . . . . . . . . . . . .	P Near	 00000DFB _TEXT	Length= 00000016 Public STDCALL
  wallLoop . . . . . . . . . . .	L Near	 00000DFC _TEXT	
DumpMem  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
DumpRegs . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ExitProcess  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
FileTimeToDosDateTime  . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
FileTimeToSystemTime . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
FindEmptyPosition  . . . . . . .	P Near	 00001D71 _TEXT	Length= 0000007B Public STDCALL
  TryAgain . . . . . . . . . . .	L Near	 00001D71 _TEXT	
  CheckPellets . . . . . . . . .	L Near	 00001D9E _TEXT	
  NextPelletCheck  . . . . . . .	L Near	 00001DB0 _TEXT	
  CheckGhost1  . . . . . . . . .	L Near	 00001DC7 _TEXT	
  CheckGhost2  . . . . . . . . .	L Near	 00001DD9 _TEXT	
  PositionOK . . . . . . . . . .	L Near	 00001DEB _TEXT	
FlushConsoleInputBuffer  . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
FormatMessageA . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetCommandLineA  . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetCommandTail . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetConsoleCP . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetConsoleCursorInfo . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetConsoleMode . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetConsoleScreenBufferInfo . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetDateTime  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetFileTime  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetKeyState  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetLastError . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetLocalTime . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetMaxXY . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetMseconds  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetNumberOfConsoleInputEvents  .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetProcessHeap . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetStdHandle . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetSystemTime  . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetTextColor . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GetTickCount . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
GhostMovementLevel2  . . . . . .	P Near	 00001976 _TEXT	Length= 0000025F Public STDCALL
  MoveGhostRight1  . . . . . . .	L Near	 000019D4 _TEXT	
  UndoGhostMove1 . . . . . . . .	L Near	 000019E6 _TEXT	
  MoveGhostLeft1 . . . . . . . .	L Near	 000019F5 _TEXT	
  MoveGhostUp1 . . . . . . . . .	L Near	 00001A07 _TEXT	
  MoveGhostDown1 . . . . . . . .	L Near	 00001A16 _TEXT	
  RandomMove1  . . . . . . . . .	L Near	 00001A25 _TEXT	
  TryRight1  . . . . . . . . . .	L Near	 00001A44 _TEXT	
  TryLeft1 . . . . . . . . . . .	L Near	 00001A53 _TEXT	
  TryUp1 . . . . . . . . . . . .	L Near	 00001A62 _TEXT	
  TryDown1 . . . . . . . . . . .	L Near	 00001A75 _TEXT	
  MoveGhost2 . . . . . . . . . .	L Near	 00001A88 _TEXT	
  MoveTowardPacman . . . . . . .	L Near	 00001AA7 _TEXT	
  CutOffPath . . . . . . . . . .	L Near	 00001AD9 _TEXT	
  MovingRight  . . . . . . . . .	L Near	 00001B05 _TEXT	
  MovingLeft . . . . . . . . . .	L Near	 00001B0A _TEXT	
  MovingUp . . . . . . . . . . .	L Near	 00001B0F _TEXT	
  MovingDown . . . . . . . . . .	L Near	 00001B14 _TEXT	
  MoveTowardPoint  . . . . . . .	L Near	 00001B17 _TEXT	
  MoveRandomly . . . . . . . . .	L Near	 00001B31 _TEXT	
  TryRight2  . . . . . . . . . .	L Near	 00001B50 _TEXT	
  TryLeft2 . . . . . . . . . . .	L Near	 00001B5E _TEXT	
  TryUp2 . . . . . . . . . . . .	L Near	 00001B6C _TEXT	
  TryDown2 . . . . . . . . . . .	L Near	 00001B7A _TEXT	
  MoveGhostRight2  . . . . . . .	L Near	 00001B88 _TEXT	
  MoveGhostLeft2 . . . . . . . .	L Near	 00001B96 _TEXT	
  MoveGhostUp2 . . . . . . . . .	L Near	 00001BA4 _TEXT	
  MoveGhostDown2 . . . . . . . .	L Near	 00001BB2 _TEXT	
  UndoGhostMove2 . . . . . . . .	L Near	 00001BC0 _TEXT	
GhostMovementLevel3  . . . . . .	P Near	 00002C62 _TEXT	Length= 0000035A Public STDCALL
  MoveGhostRight1  . . . . . . .	L Near	 00002CD4 _TEXT	
  UndoGhostMove1 . . . . . . . .	L Near	 00002CE6 _TEXT	
  MoveGhostLeft1 . . . . . . . .	L Near	 00002CF5 _TEXT	
  MoveGhostUp1 . . . . . . . . .	L Near	 00002D07 _TEXT	
  MoveGhostDown1 . . . . . . . .	L Near	 00002D16 _TEXT	
  RandomMove1  . . . . . . . . .	L Near	 00002D25 _TEXT	
  TryRight1  . . . . . . . . . .	L Near	 00002D44 _TEXT	
  TryLeft1 . . . . . . . . . . .	L Near	 00002D53 _TEXT	
  TryUp1 . . . . . . . . . . . .	L Near	 00002D62 _TEXT	
  TryDown1 . . . . . . . . . . .	L Near	 00002D75 _TEXT	
  MoveGhost2 . . . . . . . . . .	L Near	 00002D88 _TEXT	
  MoveTowardPacman . . . . . . .	L Near	 00002DA7 _TEXT	
  CutOffPath . . . . . . . . . .	L Near	 00002DD9 _TEXT	
  MovingRight  . . . . . . . . .	L Near	 00002E05 _TEXT	
  MovingLeft . . . . . . . . . .	L Near	 00002E0A _TEXT	
  MovingUp . . . . . . . . . . .	L Near	 00002E0F _TEXT	
  MovingDown . . . . . . . . . .	L Near	 00002E14 _TEXT	
  MoveTowardPoint  . . . . . . .	L Near	 00002E17 _TEXT	
  MoveRandomly . . . . . . . . .	L Near	 00002E31 _TEXT	
  TryRight2  . . . . . . . . . .	L Near	 00002E50 _TEXT	
  TryLeft2 . . . . . . . . . . .	L Near	 00002E5F _TEXT	
  TryUp2 . . . . . . . . . . . .	L Near	 00002E6E _TEXT	
  TryDown2 . . . . . . . . . . .	L Near	 00002E7D _TEXT	
  MoveGhostRight2  . . . . . . .	L Near	 00002E8C _TEXT	
  MoveGhostLeft2 . . . . . . . .	L Near	 00002E9B _TEXT	
  MoveGhostUp2 . . . . . . . . .	L Near	 00002EAA _TEXT	
  MoveGhostDown2 . . . . . . . .	L Near	 00002EB9 _TEXT	
  UndoGhostMove2 . . . . . . . .	L Near	 00002EC8 _TEXT	
  MoveGhost3 . . . . . . . . . .	L Near	 00002EDE _TEXT	
  MoveGhostRight3  . . . . . . .	L Near	 00002F14 _TEXT	
  MoveGhostLeft3 . . . . . . . .	L Near	 00002F26 _TEXT	
  MoveGhostUp3 . . . . . . . . .	L Near	 00002F34 _TEXT	
  MoveGhostDown3 . . . . . . . .	L Near	 00002F42 _TEXT	
  RandomMove3  . . . . . . . . .	L Near	 00002F50 _TEXT	
  TryRight3  . . . . . . . . . .	L Near	 00002F6F _TEXT	
  TryLeft3 . . . . . . . . . . .	L Near	 00002F7D _TEXT	
  TryUp3 . . . . . . . . . . . .	L Near	 00002F8B _TEXT	
  TryDown3 . . . . . . . . . . .	L Near	 00002F99 _TEXT	
  UndoGhostMove3 . . . . . . . .	L Near	 00002FA7 _TEXT	
GhostMovement  . . . . . . . . .	P Near	 00000E52 _TEXT	Length= 000000F2 Public STDCALL
  MoveGhostRight . . . . . . . .	L Near	 00000E9C _TEXT	
  MoveGhostLeft  . . . . . . . .	L Near	 00000EAE _TEXT	
  MoveGhostUp  . . . . . . . . .	L Near	 00000EBC _TEXT	
  MoveGhostDown  . . . . . . . .	L Near	 00000ECA _TEXT	
  RandomMove . . . . . . . . . .	L Near	 00000ED8 _TEXT	
  TryRight . . . . . . . . . . .	L Near	 00000EF7 _TEXT	
  TryLeft  . . . . . . . . . . .	L Near	 00000F05 _TEXT	
  TryUp  . . . . . . . . . . . .	L Near	 00000F13 _TEXT	
  TryDown  . . . . . . . . . . .	L Near	 00000F21 _TEXT	
  UndoGhostMove  . . . . . . . .	L Near	 00000F2F _TEXT	
Gotoxy . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
HeapAlloc  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
HeapCreate . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
HeapDestroy  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
HeapFree . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
HeapSize . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
HighscoresScreen . . . . . . . .	P Near	 000005B8 _TEXT	Length= 00000195 Public STDCALL
  DisplayLoop  . . . . . . . . .	L Near	 0000069A _TEXT	
  NoScores . . . . . . . . . . .	L Near	 0000070D _TEXT	
  DisplayReturn  . . . . . . . .	L Near	 0000072A _TEXT	
InitializePellets  . . . . . . .	P Near	 00000C15 _TEXT	Length= 0000003B Public STDCALL
  PlacePellet  . . . . . . . . .	L Near	 00000C20 _TEXT	
InstructionsScreen . . . . . . .	P Near	 000004DE _TEXT	Length= 000000DA Public STDCALL
  ReturnToMenu . . . . . . . . .	L Near	 000005AB _TEXT	
  ExitGame . . . . . . . . . . .	L Near	 000005AC _TEXT	
IsDigit  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Level1Screen . . . . . . . . . .	P Near	 0000074D _TEXT	Length= 00000372 Public STDCALL
  GameLoop . . . . . . . . . . .	L Near	 000007B8 _TEXT	
  MoveUp . . . . . . . . . . . .	L Near	 000007F4 _TEXT	
  CancelMoveUp . . . . . . . . .	L Near	 0000081A _TEXT	
  MoveLeft . . . . . . . . . . .	L Near	 00000825 _TEXT	
  CancelMoveLeft . . . . . . . .	L Near	 00000848 _TEXT	
  MoveDown . . . . . . . . . . .	L Near	 00000850 _TEXT	
  CancelMoveDown . . . . . . . .	L Near	 00000873 _TEXT	
  MoveRight  . . . . . . . . . .	L Near	 0000087B _TEXT	
  CancelMoveRight  . . . . . . .	L Near	 0000089E _TEXT	
  AfterMove  . . . . . . . . . .	L Near	 000008A6 _TEXT	
  NoPlayerInput  . . . . . . . .	L Near	 000008B9 _TEXT	
  PausedLoop . . . . . . . . . .	L Near	 000008EA _TEXT	
  WaitWhilePaused  . . . . . . .	L Near	 00000907 _TEXT	
  TogglePause  . . . . . . . . .	L Near	 00000918 _TEXT	
  ClearPauseText . . . . . . . .	L Near	 00000937 _TEXT	
  ExitLevel  . . . . . . . . . .	L Near	 00000945 _TEXT	
  LevelWon . . . . . . . . . . .	L Near	 00000946 _TEXT	
  GameLost . . . . . . . . . . .	L Near	 00000951 _TEXT	
  GameOverScreen . . . . . . . .	L Near	 0000095C _TEXT	
  WaitForInput . . . . . . . . .	L Near	 000009FA _TEXT	
  LevelCompleteScreen  . . . . .	L Near	 00000A04 _TEXT	
  WaitForInput2  . . . . . . . .	L Near	 00000AB5 _TEXT	
Level2Screen . . . . . . . . . .	P Near	 000012C1 _TEXT	Length= 000003B8 Public STDCALL
  GameLoop . . . . . . . . . . .	L Near	 00001360 _TEXT	
  MoveUp . . . . . . . . . . . .	L Near	 000013A1 _TEXT	
  CancelMoveUp . . . . . . . . .	L Near	 000013C7 _TEXT	
  MoveLeft . . . . . . . . . . .	L Near	 000013D2 _TEXT	
  CancelMoveLeft . . . . . . . .	L Near	 000013F5 _TEXT	
  MoveDown . . . . . . . . . . .	L Near	 000013FD _TEXT	
  CancelMoveDown . . . . . . . .	L Near	 00001420 _TEXT	
  MoveRight  . . . . . . . . . .	L Near	 00001428 _TEXT	
  CancelMoveRight  . . . . . . .	L Near	 0000144B _TEXT	
  AfterMove  . . . . . . . . . .	L Near	 00001453 _TEXT	
  NoPlayerInput  . . . . . . . .	L Near	 0000146B _TEXT	
  PausedLoop . . . . . . . . . .	L Near	 000014A4 _TEXT	
  WaitWhilePaused  . . . . . . .	L Near	 000014C1 _TEXT	
  TogglePause  . . . . . . . . .	L Near	 000014D2 _TEXT	
  ClearPauseText . . . . . . . .	L Near	 000014F1 _TEXT	
  ExitLevel  . . . . . . . . . .	L Near	 000014FF _TEXT	
  LevelWon . . . . . . . . . . .	L Near	 00001500 _TEXT	
  GameLost . . . . . . . . . . .	L Near	 0000150B _TEXT	
  GameOverScreen . . . . . . . .	L Near	 00001516 _TEXT	
  WaitForInput . . . . . . . . .	L Near	 000015B4 _TEXT	
  LevelCompleteScreen  . . . . .	L Near	 000015BE _TEXT	
  WaitForInput2  . . . . . . . .	L Near	 0000166F _TEXT	
Level3Screen . . . . . . . . . .	P Near	 00002463 _TEXT	Length= 000003F5 Public STDCALL
  GameLoop . . . . . . . . . . .	L Near	 0000253A _TEXT	
  MoveUp . . . . . . . . . . . .	L Near	 0000257B _TEXT	
  CancelMoveUp . . . . . . . . .	L Near	 000025A1 _TEXT	
  MoveLeft . . . . . . . . . . .	L Near	 000025AC _TEXT	
  CancelMoveLeft . . . . . . . .	L Near	 000025CF _TEXT	
  MoveDown . . . . . . . . . . .	L Near	 000025D7 _TEXT	
  CancelMoveDown . . . . . . . .	L Near	 000025FA _TEXT	
  MoveRight  . . . . . . . . . .	L Near	 00002602 _TEXT	
  CancelMoveRight  . . . . . . .	L Near	 00002625 _TEXT	
  AfterMove  . . . . . . . . . .	L Near	 0000262D _TEXT	
  NoPlayerInput  . . . . . . . .	L Near	 0000264A _TEXT	
  PausedLoop . . . . . . . . . .	L Near	 00002683 _TEXT	
  WaitWhilePaused  . . . . . . .	L Near	 000026A0 _TEXT	
  TogglePause  . . . . . . . . .	L Near	 000026B1 _TEXT	
  ClearPauseText . . . . . . . .	L Near	 000026D0 _TEXT	
  ExitLevel  . . . . . . . . . .	L Near	 000026DE _TEXT	
  LevelWon . . . . . . . . . . .	L Near	 000026DF _TEXT	
  GameLost . . . . . . . . . . .	L Near	 000026EA _TEXT	
  GameOverScreen . . . . . . . .	L Near	 000026F5 _TEXT	
  WaitForInput . . . . . . . . .	L Near	 00002793 _TEXT	
  LevelCompleteScreen  . . . . .	L Near	 0000279D _TEXT	
  WaitForInput2  . . . . . . . .	L Near	 0000284E _TEXT	
LevelSelectScreen  . . . . . . .	P Near	 00000318 _TEXT	Length= 000001C6 Public STDCALL
  StartLevel1  . . . . . . . . .	L Near	 000004AA _TEXT	
  StartLevel2  . . . . . . . . .	L Near	 000004B7 _TEXT	
  StartLevel3  . . . . . . . . .	L Near	 000004C4 _TEXT	
  ReturnToMenu . . . . . . . . .	L Near	 000004D1 _TEXT	
  ExitGame . . . . . . . . . . .	L Near	 000004D2 _TEXT	
LocalFree  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
MenuScreen . . . . . . . . . . .	P Near	 0000019C _TEXT	Length= 0000017C Public STDCALL
  LevelSelection . . . . . . . .	L Near	 000002EE _TEXT	
  ShowInstructions . . . . . . .	L Near	 000002F8 _TEXT	
  ShowHighscores . . . . . . . .	L Near	 00000302 _TEXT	
  ExitGame . . . . . . . . . . .	L Near	 0000030C _TEXT	
MessageBoxA  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
MsgBoxAsk  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
MsgBox . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
OpenInputFile  . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ParseDecimal32 . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ParseInteger32 . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ParseScoreData . . . . . . . . .	P Near	 000010C9 _TEXT	Length= 00000030 Public STDCALL
  ParseLoop  . . . . . . . . . .	L Near	 000010C9 _TEXT	
  DoneReading  . . . . . . . . .	L Near	 000010F2 _TEXT	
PeekConsoleInputA  . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
PlaySound  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Random32 . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
RandomRange  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Randomize  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadChar . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadConsoleA . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadConsoleInputA  . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadDec  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadFile . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadFloat  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadFromFile . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadHex  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadInt  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadKeyFlush . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadKey  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ReadName . . . . . . . . . . . .	P Near	 000010F9 _TEXT	Length= 0000001C Public STDCALL
  ReadNameChar . . . . . . . . .	L Near	 000010FB _TEXT	
  StoreName  . . . . . . . . . .	L Near	 0000110C _TEXT	
ReadNumber . . . . . . . . . . .	P Near	 00001115 _TEXT	Length= 00000021 Public STDCALL
  ReadDigit  . . . . . . . . . .	L Near	 00001117 _TEXT	
  NumberDone . . . . . . . . . .	L Near	 0000112E _TEXT	
  Return . . . . . . . . . . . .	L Near	 00001135 _TEXT	
ReadString . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleCursorInfo . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleCursorPosition . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleMode . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleScreenBufferSize . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleTextAttribute  . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleTitleA . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetConsoleWindowInfo . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetFilePointer . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetLocalTime . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetTextColor . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ShowFPUStack . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Sleep  . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SpawnFruits  . . . . . . . . . .	P Near	 00001D2E _TEXT	Length= 00000043 Public STDCALL
  SpawnSecond  . . . . . . . . .	L Near	 00001D4F _TEXT	
  SpawnDone  . . . . . . . . . .	L Near	 00001D70 _TEXT	
StrLength  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Str_compare  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Str_copy . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Str_length . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Str_trim . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
Str_ucase  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SwapMemory . . . . . . . . . . .	P Near	 00001220 _TEXT	Length= 0000000D Public STDCALL
  SwapByte . . . . . . . . . . .	L Near	 00001220 _TEXT	
SystemTimeToFileTime . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
UpdateFruitTimer . . . . . . . .	P Near	 00001CD4 _TEXT	Length= 0000005A Public STDCALL
  CheckSecondFruit . . . . . . .	L Near	 00001D0A _TEXT	
  TimerDone  . . . . . . . . . .	L Near	 00001D2D _TEXT	
WaitMsg  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WelcomeScreen  . . . . . . . . .	P Near	 00000063 _TEXT	Length= 00000139 Public STDCALL
WriteBinB  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteBin . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteChar  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteConsoleA  . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteConsoleOutputAttribute  . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteConsoleOutputCharacterA . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteDec . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteFile  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteFloat . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteHexB  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteHex . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteInt . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteStackFrameName  . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteStackFrame  . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteStringToFile  . . . . . . .	P Near	 000012AA _TEXT	Length= 00000017 Public STDCALL
  NextChar . . . . . . . . . . .	L Near	 000012B0 _TEXT	
  WriteStr . . . . . . . . . . .	L Near	 000012BA _TEXT	
WriteString  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteToFile  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteWindowsMsg  . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
addNewScore  . . . . . . . . . .	P Near	 00001167 _TEXT	Length= 00000047 Public STDCALL
  SkipAdd  . . . . . . . . . . .	L Near	 000011AC _TEXT	
introSound . . . . . . . . . . .	P Near	 0000001B _TEXT	Length= 00000024 Public STDCALL
  no_error1  . . . . . . . . . .	L Near	 0000003C _TEXT	
levelSound . . . . . . . . . . .	P Near	 0000003F _TEXT	Length= 00000024 Public STDCALL
  no_error2  . . . . . . . . . .	L Near	 00000060 _TEXT	
main . . . . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 0000001B Public STDCALL
printf . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External C
readScoresFromFile . . . . . . .	P Near	 00001085 _TEXT	Length= 00000044 Public STDCALL
  Done . . . . . . . . . . . . .	L Near	 000010BD _TEXT	
saveScore  . . . . . . . . . . .	P Near	 00000FF8 _TEXT	Length= 0000008D Public STDCALL
  CreateNew  . . . . . . . . . .	L Near	 00001057 _TEXT	
  FileReady  . . . . . . . . . .	L Near	 00001061 _TEXT	
  ErrorExit  . . . . . . . . . .	L Near	 00001079 _TEXT	
scanf  . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External C
sortScores . . . . . . . . . . .	P Near	 000011AE _TEXT	Length= 00000072 Public STDCALL
  OuterLoop  . . . . . . . . . .	L Near	 000011B8 _TEXT	
  InnerLoop  . . . . . . . . . .	L Near	 000011BE _TEXT	
  NoSwap . . . . . . . . . . . .	L Near	 00001216 _TEXT	
  DoneSorting  . . . . . . . . .	L Near	 0000121E _TEXT	
writeAllScoresToFile . . . . . .	P Near	 0000122D _TEXT	Length= 0000007D Public STDCALL
  WriteLoop  . . . . . . . . . .	L Near	 00001248 _TEXT	
wsprintfA  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External C


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000003h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
ALT_MASK . . . . . . . . . . . .	Number	 00000003h   
BUFFER_SIZE  . . . . . . . . . .	Number	 00000400h   
CAPSLOCK_ON  . . . . . . . . . .	Number	 00000080h   
CREATE_ALWAYS  . . . . . . . . .	Number	 00000002h   
CREATE_NEW . . . . . . . . . . .	Number	 00000001h   
CTRL_MASK  . . . . . . . . . . .	Number	 0000000Ch   
CreateFile . . . . . . . . . . .	Text   	 CreateFileA
DO_NOT_SHARE . . . . . . . . . .	Number	 00000000h   
ENABLE_ECHO_INPUT  . . . . . . .	Number	 00000004h   
ENABLE_LINE_INPUT  . . . . . . .	Number	 00000002h   
ENABLE_MOUSE_INPUT . . . . . . .	Number	 00000010h   
ENABLE_PROCESSED_INPUT . . . . .	Number	 00000001h   
ENABLE_PROCESSED_OUTPUT  . . . .	Number	 00000001h   
ENABLE_WINDOW_INPUT  . . . . . .	Number	 00000008h   
ENABLE_WRAP_AT_EOL_OUTPUT  . . .	Number	 00000002h   
ENHANCED_KEY . . . . . . . . . .	Number	 00000100h   
FALSE  . . . . . . . . . . . . .	Number	 00000000h   
FILE_APPEND_DATA . . . . . . . .	Number	 00000004h   
FILE_ATTRIBUTE_ARCHIVE . . . . .	Number	 00000020h   
FILE_ATTRIBUTE_COMPRESSED  . . .	Number	 00000800h   
FILE_ATTRIBUTE_DEVICE  . . . . .	Number	 00000040h   
FILE_ATTRIBUTE_DIRECTORY . . . .	Number	 00000010h   
FILE_ATTRIBUTE_ENCRYPTED . . . .	Number	 00004000h   
FILE_ATTRIBUTE_HIDDEN  . . . . .	Number	 00000002h   
FILE_ATTRIBUTE_NORMAL  . . . . .	Number	 00000080h   
FILE_ATTRIBUTE_NOT_CONTENT_INDEXED .	Number	 00002000h   
FILE_ATTRIBUTE_OFFLINE . . . . .	Number	 00001000h   
FILE_ATTRIBUTE_READONLY  . . . .	Number	 00000001h   
FILE_ATTRIBUTE_REPARSE_POINT . .	Number	 00000400h   
FILE_ATTRIBUTE_SPARSE_FILE . . .	Number	 00000200h   
FILE_ATTRIBUTE_SYSTEM  . . . . .	Number	 00000004h   
FILE_ATTRIBUTE_TEMPORARY . . . .	Number	 00000100h   
FILE_BEGIN . . . . . . . . . . .	Number	 00000000h   
FILE_CURRENT . . . . . . . . . .	Number	 00000001h   
FILE_DELETE_CHILD  . . . . . . .	Number	 00000040h   
FILE_END . . . . . . . . . . . .	Number	 00000002h   
FILE_READ_DATA . . . . . . . . .	Number	 00000001h   
FILE_SHARE_DELETE  . . . . . . .	Number	 00000004h   
FILE_SHARE_READ  . . . . . . . .	Number	 00000001h   
FILE_SHARE_WRITE . . . . . . . .	Number	 00000002h   
FILE_WRITE_DATA  . . . . . . . .	Number	 00000002h   
FOCUS_EVENT  . . . . . . . . . .	Number	 00000010h   
FORMAT_MESSAGE_ALLOCATE_BUFFER .	Number	 00000100h   
FORMAT_MESSAGE_FROM_SYSTEM . . .	Number	 00001000h   
FRUIT_POINTS . . . . . . . . . .	Number	 0000000Ah   
FRUIT_SPAWN_TIME . . . . . . . .	Number	 00001770h   
FormatMessage  . . . . . . . . .	Text   	 FormatMessageA
GAME_WIDTH . . . . . . . . . . .	Number	 00000050h   
GENERIC_ALL  . . . . . . . . . .	Number	 10000000h   
GENERIC_EXECUTE  . . . . . . . .	Number	 20000000h   
GENERIC_READ . . . . . . . . . .	Number	 -80000000h   
GENERIC_WRITE  . . . . . . . . .	Number	 40000000h   
GetCommandLine . . . . . . . . .	Text   	 GetCommandLineA
HANDLE . . . . . . . . . . . . .	Text   	 DWORD
HEAP_GENERATE_EXCEPTIONS . . . .	Number	 00000004h   
HEAP_GROWABLE  . . . . . . . . .	Number	 00000002h   
HEAP_NO_SERIALIZE  . . . . . . .	Number	 00000001h   
HEAP_REALLOC_IN_PLACE_ONLY . . .	Number	 00000010h   
HEAP_ZERO_MEMORY . . . . . . . .	Number	 00000008h   
IDABORT  . . . . . . . . . . . .	Number	 00000003h   
IDCANCEL . . . . . . . . . . . .	Number	 00000002h   
IDCLOSE  . . . . . . . . . . . .	Number	 00000008h   
IDCONTINUE . . . . . . . . . . .	Number	 0000000Bh   
IDHELP . . . . . . . . . . . . .	Number	 00000009h   
IDIGNORE . . . . . . . . . . . .	Number	 00000005h   
IDNO . . . . . . . . . . . . . .	Number	 00000007h   
IDOK . . . . . . . . . . . . . .	Number	 00000001h   
IDRETRY  . . . . . . . . . . . .	Number	 00000004h   
IDTIMEOUT  . . . . . . . . . . .	Number	 00007D00h   
IDTRYAGAIN . . . . . . . . . . .	Number	 0000000Ah   
IDYES  . . . . . . . . . . . . .	Number	 00000006h   
INFO_START . . . . . . . . . . .	Number	 0000005Ah   
INVALID_HANDLE_VALUE . . . . . .	Number	 -00000001h   
KBDOWN_FLAG  . . . . . . . . . .	Number	 00000001h   
KEY_EVENT  . . . . . . . . . . .	Number	 00000001h   
KEY_MASKS  . . . . . . . . . . .	Number	 0000001Fh   
LEFT_ALT_PRESSED . . . . . . . .	Number	 00000002h   
LEFT_CTRL_PRESSED  . . . . . . .	Number	 00000008h   
MAX_NAME_LEN . . . . . . . . . .	Number	 00000010h   
MAX_SCORES . . . . . . . . . . .	Number	 0000000Ah   
MB_ABORTRETRYIGNORE  . . . . . .	Number	 00000002h   
MB_APPLMODAL . . . . . . . . . .	Number	 00000000h   
MB_CANCELTRYCONTINUE . . . . . .	Number	 00000006h   
MB_DEFBUTTON1  . . . . . . . . .	Number	 00000000h   
MB_DEFBUTTON2  . . . . . . . . .	Number	 00000100h   
MB_DEFBUTTON3  . . . . . . . . .	Number	 00000200h   
MB_DEFBUTTON4  . . . . . . . . .	Number	 00000300h   
MB_HELP  . . . . . . . . . . . .	Number	 00004000h   
MB_ICONASTERISK  . . . . . . . .	Number	 00000040h   
MB_ICONERROR . . . . . . . . . .	Number	 00000010h   
MB_ICONEXCLAMATION . . . . . . .	Number	 00000030h   
MB_ICONHAND  . . . . . . . . . .	Number	 00000010h   
MB_ICONINFORMATION . . . . . . .	Number	 00000040h   
MB_ICONQUESTION  . . . . . . . .	Number	 00000020h   
MB_ICONSTOP  . . . . . . . . . .	Number	 00000010h   
MB_ICONWARNING . . . . . . . . .	Number	 00000030h   
MB_OKCANCEL  . . . . . . . . . .	Number	 00000001h   
MB_OK  . . . . . . . . . . . . .	Number	 00000000h   
MB_RETRYCANCEL . . . . . . . . .	Number	 00000005h   
MB_SYSTEMMODAL . . . . . . . . .	Number	 00001000h   
MB_TASKMODAL . . . . . . . . . .	Number	 00002000h   
MB_USERICON  . . . . . . . . . .	Number	 00000080h   
MB_YESNOCANCEL . . . . . . . . .	Number	 00000003h   
MB_YESNO . . . . . . . . . . . .	Number	 00000004h   
MENU_EVENT . . . . . . . . . . .	Number	 00000008h   
MOUSE_EVENT  . . . . . . . . . .	Number	 00000002h   
MessageBox . . . . . . . . . . .	Text   	 MessageBoxA
NULL . . . . . . . . . . . . . .	Number	 00000000h   
NUMLOCK_ON . . . . . . . . . . .	Number	 00000020h   
OPEN_ALWAYS  . . . . . . . . . .	Number	 00000004h   
OPEN_EXISTING  . . . . . . . . .	Number	 00000003h   
PacmanIntro  . . . . . . . . . .	Byte	 00000028 _DATA	
PeekConsoleInput . . . . . . . .	Text   	 PeekConsoleInputA
RIGHT_ALT_PRESSED  . . . . . . .	Number	 00000001h   
RIGHT_CTRL_PRESSED . . . . . . .	Number	 00000004h   
ReadConsoleInput . . . . . . . .	Text   	 ReadConsoleInputA
ReadConsole  . . . . . . . . . .	Text   	 ReadConsoleA
SCROLLLOCK_ON  . . . . . . . . .	Number	 00000040h   
SHIFT_MASK . . . . . . . . . . .	Number	 00000010h   
SHIFT_PRESSED  . . . . . . . . .	Number	 00000010h   
SND_ASYNC  . . . . . . . . . . .	Number	 00000001h   
SND_FILENAME . . . . . . . . . .	Number	 00020000h   
SND_SYNC . . . . . . . . . . . .	Number	 00000000h   
STD_ERROR_HANDLE . . . . . . . .	Number	 -0000000Ch   
STD_INPUT_HANDLE . . . . . . . .	Number	 -0000000Ah   
STD_OUTPUT_HANDLE  . . . . . . .	Number	 -0000000Bh   
SetConsoleTitle  . . . . . . . .	Text   	 SetConsoleTitleA
SoundError . . . . . . . . . . .	Byte	 0000005C _DATA	
TAB  . . . . . . . . . . . . . .	Number	 00000009h   
TRUE . . . . . . . . . . . . . .	Number	 00000001h   
TRUNCATE_EXISTING  . . . . . . .	Number	 00000005h   
VK_11  . . . . . . . . . . . . .	Number	 000000BDh   
VK_12  . . . . . . . . . . . . .	Number	 000000BBh   
VK_ADD . . . . . . . . . . . . .	Number	 0000006Bh   
VK_BACK  . . . . . . . . . . . .	Number	 00000008h   
VK_CANCEL  . . . . . . . . . . .	Number	 00000003h   
VK_CAPITAL . . . . . . . . . . .	Number	 00000014h   
VK_CLEAR . . . . . . . . . . . .	Number	 0000000Ch   
VK_CONTROL . . . . . . . . . . .	Number	 00000011h   
VK_DECIMAL . . . . . . . . . . .	Number	 0000006Eh   
VK_DELETE  . . . . . . . . . . .	Number	 0000002Eh   
VK_DIVIDE  . . . . . . . . . . .	Number	 0000006Fh   
VK_DOWN  . . . . . . . . . . . .	Number	 00000028h   
VK_END . . . . . . . . . . . . .	Number	 00000023h   
VK_ESCAPE  . . . . . . . . . . .	Number	 0000001Bh   
VK_EXECUTE . . . . . . . . . . .	Number	 0000002Bh   
VK_F10 . . . . . . . . . . . . .	Number	 00000079h   
VK_F11 . . . . . . . . . . . . .	Number	 0000007Ah   
VK_F12 . . . . . . . . . . . . .	Number	 0000007Bh   
VK_F13 . . . . . . . . . . . . .	Number	 0000007Ch   
VK_F14 . . . . . . . . . . . . .	Number	 0000007Dh   
VK_F15 . . . . . . . . . . . . .	Number	 0000007Eh   
VK_F16 . . . . . . . . . . . . .	Number	 0000007Fh   
VK_F17 . . . . . . . . . . . . .	Number	 00000080h   
VK_F18 . . . . . . . . . . . . .	Number	 00000081h   
VK_F19 . . . . . . . . . . . . .	Number	 00000082h   
VK_F1  . . . . . . . . . . . . .	Number	 00000070h   
VK_F20 . . . . . . . . . . . . .	Number	 00000083h   
VK_F21 . . . . . . . . . . . . .	Number	 00000084h   
VK_F22 . . . . . . . . . . . . .	Number	 00000085h   
VK_F23 . . . . . . . . . . . . .	Number	 00000086h   
VK_F24 . . . . . . . . . . . . .	Number	 00000087h   
VK_F2  . . . . . . . . . . . . .	Number	 00000071h   
VK_F3  . . . . . . . . . . . . .	Number	 00000072h   
VK_F4  . . . . . . . . . . . . .	Number	 00000073h   
VK_F5  . . . . . . . . . . . . .	Number	 00000074h   
VK_F6  . . . . . . . . . . . . .	Number	 00000075h   
VK_F7  . . . . . . . . . . . . .	Number	 00000076h   
VK_F8  . . . . . . . . . . . . .	Number	 00000077h   
VK_F9  . . . . . . . . . . . . .	Number	 00000078h   
VK_HELP  . . . . . . . . . . . .	Number	 0000002Fh   
VK_HOME  . . . . . . . . . . . .	Number	 00000024h   
VK_INSERT  . . . . . . . . . . .	Number	 0000002Dh   
VK_LBUTTON . . . . . . . . . . .	Number	 00000001h   
VK_LCONTROL  . . . . . . . . . .	Number	 000000A2h   
VK_LEFT  . . . . . . . . . . . .	Number	 00000025h   
VK_LMENU . . . . . . . . . . . .	Number	 000000A4h   
VK_LSHIFT  . . . . . . . . . . .	Number	 000000A0h   
VK_MENU  . . . . . . . . . . . .	Number	 00000012h   
VK_MULTIPLY  . . . . . . . . . .	Number	 0000006Ah   
VK_NEXT  . . . . . . . . . . . .	Number	 00000022h   
VK_NUMLOCK . . . . . . . . . . .	Number	 00000090h   
VK_NUMPAD0 . . . . . . . . . . .	Number	 00000060h   
VK_NUMPAD1 . . . . . . . . . . .	Number	 00000061h   
VK_NUMPAD2 . . . . . . . . . . .	Number	 00000062h   
VK_NUMPAD3 . . . . . . . . . . .	Number	 00000063h   
VK_NUMPAD4 . . . . . . . . . . .	Number	 00000064h   
VK_NUMPAD5 . . . . . . . . . . .	Number	 00000065h   
VK_NUMPAD6 . . . . . . . . . . .	Number	 00000066h   
VK_NUMPAD7 . . . . . . . . . . .	Number	 00000067h   
VK_NUMPAD8 . . . . . . . . . . .	Number	 00000068h   
VK_NUMPAD9 . . . . . . . . . . .	Number	 00000069h   
VK_PAUSE . . . . . . . . . . . .	Number	 00000013h   
VK_PRINT . . . . . . . . . . . .	Number	 0000002Ah   
VK_PRIOR . . . . . . . . . . . .	Number	 00000021h   
VK_RBUTTON . . . . . . . . . . .	Number	 00000002h   
VK_RCONTROL  . . . . . . . . . .	Number	 000000A3h   
VK_RETURN  . . . . . . . . . . .	Number	 0000000Dh   
VK_RIGHT . . . . . . . . . . . .	Number	 00000027h   
VK_RMENU . . . . . . . . . . . .	Number	 000000A5h   
VK_RSHIFT  . . . . . . . . . . .	Number	 000000A1h   
VK_SCROLL  . . . . . . . . . . .	Number	 00000091h   
VK_SEPARATER . . . . . . . . . .	Number	 0000006Ch   
VK_SHIFT . . . . . . . . . . . .	Number	 00000010h   
VK_SNAPSHOT  . . . . . . . . . .	Number	 0000002Ch   
VK_SPACE . . . . . . . . . . . .	Number	 00000020h   
VK_SUBTRACT  . . . . . . . . . .	Number	 0000006Dh   
VK_TAB . . . . . . . . . . . . .	Number	 00000009h   
VK_UP  . . . . . . . . . . . . .	Number	 00000026h   
WINDOW_BUFFER_SIZE_EVENT . . . .	Number	 00000004h   
WriteConsoleOutputCharacter  . .	Text   	 WriteConsoleOutputCharacterA
WriteConsole . . . . . . . . . .	Text   	 WriteConsoleA
arr_name . . . . . . . . . . . .	Byte	 00001905 _DATA	
arr_score  . . . . . . . . . . .	Byte	 000018FB _DATA	
blackTxt . . . . . . . . . . . .	Number	 00000000h   
black  . . . . . . . . . . . . .	Number	 00000000h   
blueTxt  . . . . . . . . . . . .	Number	 00000001h   
blue . . . . . . . . . . . . . .	Number	 00000001h   
brown  . . . . . . . . . . . . .	Number	 00000006h   
bytesRead  . . . . . . . . . . .	DWord	 0000101C _DATA	
comma  . . . . . . . . . . . . .	Byte	 00001820 _DATA	
currentLevel . . . . . . . . . .	Byte	 00000F6C _DATA	
cyan . . . . . . . . . . . . . .	Number	 00000003h   
emptyChar  . . . . . . . . . . .	Byte	 00000F8F _DATA	
exit . . . . . . . . . . . . . .	Text   	 INVOKE ExitProcess,0
fileBuffer . . . . . . . . . . .	Byte	 00001020 _DATA	
fileHandle . . . . . . . . . . .	DWord	 00001018 _DATA	
filename . . . . . . . . . . . .	Byte	 0000100D _DATA	
fruit1X  . . . . . . . . . . . .	Byte	 00001981 _DATA	
fruit1Y  . . . . . . . . . . . .	Byte	 00001982 _DATA	
fruit2X  . . . . . . . . . . . .	Byte	 00001983 _DATA	
fruit2Y  . . . . . . . . . . . .	Byte	 00001984 _DATA	
fruitActive  . . . . . . . . . .	Byte	 00001985 _DATA	
fruitChar  . . . . . . . . . . .	Byte	 0000197F _DATA	
fruitTimer . . . . . . . . . . .	DWord	 00001987 _DATA	
gameOverMsg1 . . . . . . . . . .	Byte	 00000D86 _DATA	
gameOverMsg2 . . . . . . . . . .	Byte	 00000DBA _DATA	
gameOverMsg3 . . . . . . . . . .	Byte	 00000DED _DATA	
gameOverMsg4 . . . . . . . . . .	Byte	 00000E21 _DATA	
gameOverMsg5 . . . . . . . . . .	Byte	 00000E55 _DATA	
gamePause1 . . . . . . . . . . .	Byte	 00000D38 _DATA	
gamePause2 . . . . . . . . . . .	Byte	 00000D4A _DATA	
gamePause3 . . . . . . . . . . .	Byte	 00000D5F _DATA	
gamePause4 . . . . . . . . . . .	Byte	 00000D73 _DATA	
gamePaused . . . . . . . . . . .	Byte	 0000100B _DATA	
ghost2Color  . . . . . . . . . .	Number	 00000005h   
ghost2Dir  . . . . . . . . . . .	Byte	 0000197A _DATA	
ghost2X  . . . . . . . . . . . .	Byte	 00001976 _DATA	
ghost2Y  . . . . . . . . . . . .	Byte	 00001977 _DATA	
ghost3Color  . . . . . . . . . .	Number	 0000000Eh   
ghost3X  . . . . . . . . . . . .	Byte	 0000197B _DATA	
ghost3Y  . . . . . . . . . . . .	Byte	 0000197C _DATA	
ghostChar  . . . . . . . . . . .	Byte	 00000F94 _DATA	
ghostDir . . . . . . . . . . . .	Byte	 00000FD1 _DATA	
ghostX . . . . . . . . . . . . .	Byte	 00000FC1 _DATA	
ghostY . . . . . . . . . . . . .	Byte	 00000FC2 _DATA	
gray . . . . . . . . . . . . . .	Number	 00000008h   
greenTxt . . . . . . . . . . . .	Number	 00000002h   
green  . . . . . . . . . . . . .	Number	 00000002h   
hiddenWallChar . . . . . . . . .	Byte	 00001990 _DATA	
hsHeader1  . . . . . . . . . . .	Byte	 0000191F _DATA	
hsHeader2  . . . . . . . . . . .	Byte	 00001942 _DATA	
hsTitle0 . . . . . . . . . . . .	Byte	 00000C02 _DATA	
hsTitle1 . . . . . . . . . . . .	Byte	 00000C40 _DATA	
hsTitle2 . . . . . . . . . . . .	Byte	 00000C7E _DATA	
hsTitle3 . . . . . . . . . . . .	Byte	 00000CBC _DATA	
hsTitle4 . . . . . . . . . . . .	Byte	 00000CFA _DATA	
inputName  . . . . . . . . . . .	Byte	 00000088 _DATA	
instruc1 . . . . . . . . . . . .	Byte	 0000099F _DATA	
instruc2 . . . . . . . . . . . .	Byte	 000009E3 _DATA	
instruc3 . . . . . . . . . . . .	Byte	 00000A2B _DATA	
instruc4 . . . . . . . . . . . .	Byte	 00000A73 _DATA	
instruc5 . . . . . . . . . . . .	Byte	 00000A97 _DATA	
instruc6 . . . . . . . . . . . .	Byte	 00000ABB _DATA	
instruc7 . . . . . . . . . . . .	Byte	 00000AFF _DATA	
instruc8 . . . . . . . . . . . .	Byte	 00000B3E _DATA	
instruc9 . . . . . . . . . . . .	Byte	 00000B87 _DATA	
instrucChoose  . . . . . . . . .	Byte	 00000BD0 _DATA	
level1opt0 . . . . . . . . . . .	Byte	 00000670 _DATA	
level1opt1 . . . . . . . . . . .	Byte	 0000069F _DATA	
level1opt2 . . . . . . . . . . .	Byte	 000006CE _DATA	
level1opt3 . . . . . . . . . . .	Byte	 000006FD _DATA	
level1opt4 . . . . . . . . . . .	Byte	 0000072C _DATA	
level2opt0 . . . . . . . . . . .	Byte	 0000075B _DATA	
level2opt1 . . . . . . . . . . .	Byte	 0000078A _DATA	
level2opt2 . . . . . . . . . . .	Byte	 000007B9 _DATA	
level2opt3 . . . . . . . . . . .	Byte	 000007E8 _DATA	
level2opt4 . . . . . . . . . . .	Byte	 00000817 _DATA	
level3opt0 . . . . . . . . . . .	Byte	 00000846 _DATA	
level3opt1 . . . . . . . . . . .	Byte	 00000875 _DATA	
level3opt2 . . . . . . . . . . .	Byte	 000008A4 _DATA	
level3opt3 . . . . . . . . . . .	Byte	 000008D3 _DATA	
level3opt4 . . . . . . . . . . .	Byte	 00000902 _DATA	
levelCompleteMsg1  . . . . . . .	Byte	 00000EB6 _DATA	
levelCompleteMsg2  . . . . . . .	Byte	 00000ED4 _DATA	
levelCompleteMsg3  . . . . . . .	Byte	 00000EF2 _DATA	
levelCompleteMsg4  . . . . . . .	Byte	 00000F10 _DATA	
levelCompleteMsg5  . . . . . . .	Byte	 00000F2E _DATA	
levelCompleteMsg6  . . . . . . .	Byte	 00000F4C _DATA	
levelMsg . . . . . . . . . . . .	Byte	 00000F86 _DATA	
leveloptchoose1  . . . . . . . .	Byte	 00000931 _DATA	
leveloptchoose2  . . . . . . . .	Byte	 0000096A _DATA	
levels . . . . . . . . . . . . .	Byte	 000018ED _DATA	
level  . . . . . . . . . . . . .	DWord	 00000FCB _DATA	
lightBlue  . . . . . . . . . . .	Number	 00000009h   
lightCyan  . . . . . . . . . . .	Number	 0000000Bh   
lightGray  . . . . . . . . . . .	Number	 00000007h   
lightGreen . . . . . . . . . . .	Number	 0000000Ah   
lightMagenta . . . . . . . . . .	Number	 0000000Dh   
lightRed . . . . . . . . . . . .	Number	 0000000Ch   
livesMsg . . . . . . . . . . . .	Byte	 00000F7E _DATA	
lives  . . . . . . . . . . . . .	DWord	 00000FC7 _DATA	
magenta  . . . . . . . . . . . .	Number	 00000005h   
menuopt0 . . . . . . . . . . . .	Byte	 0000058F _DATA	
menuopt1 . . . . . . . . . . . .	Byte	 000005B1 _DATA	
menuopt2 . . . . . . . . . . . .	Byte	 000005D3 _DATA	
menuopt3 . . . . . . . . . . . .	Byte	 000005F5 _DATA	
menuopt4 . . . . . . . . . . . .	Byte	 00000617 _DATA	
menuopt5 . . . . . . . . . . . .	Byte	 00000639 _DATA	
menuoptchoose  . . . . . . . . .	Byte	 0000065B _DATA	
menutitle0 . . . . . . . . . . .	Byte	 00000477 _DATA	
menutitle1 . . . . . . . . . . .	Byte	 000004A6 _DATA	
menutitle2 . . . . . . . . . . .	Byte	 000004D5 _DATA	
menutitle3 . . . . . . . . . . .	Byte	 00000503 _DATA	
menutitle4 . . . . . . . . . . .	Byte	 00000532 _DATA	
menutitle5 . . . . . . . . . . .	Byte	 00000560 _DATA	
midSound . . . . . . . . . . . .	Byte	 00000000 _DATA	
name_size  . . . . . . . . . . .	Byte	 00001916 _DATA	
names  . . . . . . . . . . . . .	Byte	 0000184D _DATA	
newline  . . . . . . . . . . . .	Byte	 00001822 _DATA	
noScoresMsg  . . . . . . . . . .	Byte	 00001962 _DATA	
oldGhost2X . . . . . . . . . . .	Byte	 00001978 _DATA	
oldGhost2Y . . . . . . . . . . .	Byte	 00001979 _DATA	
oldGhost3X . . . . . . . . . . .	Byte	 0000197D _DATA	
oldGhost3Y . . . . . . . . . . .	Byte	 0000197E _DATA	
oldGhostX  . . . . . . . . . . .	Byte	 00000FD2 _DATA	
oldGhostY  . . . . . . . . . . .	Byte	 00000FD3 _DATA	
oldPacmanX . . . . . . . . . . .	Byte	 00000FCF _DATA	
oldPacmanY . . . . . . . . . . .	Byte	 00000FD0 _DATA	
pacmanChar . . . . . . . . . . .	Byte	 00000F92 _DATA	
pacmanX  . . . . . . . . . . . .	Byte	 00000FBF _DATA	
pacmanY  . . . . . . . . . . . .	Byte	 00000FC0 _DATA	
pauseMsg . . . . . . . . . . . .	Byte	 00000FD4 _DATA	
pausedMsg  . . . . . . . . . . .	Byte	 00000FEA _DATA	
pelletChar . . . . . . . . . . .	Byte	 00000F90 _DATA	
pelletCount  . . . . . . . . . .	Byte	 00000F96 _DATA	
pelletPositions  . . . . . . . .	Byte	 00000F97 _DATA	
playerName . . . . . . . . . . .	Byte	 00000F6D _DATA	
pmtitle10  . . . . . . . . . . .	Byte	 000003D3 _DATA	
pmtitle11  . . . . . . . . . . .	Byte	 00000425 _DATA	
pmtitle1 . . . . . . . . . . . .	Byte	 000000F1 _DATA	
pmtitle2 . . . . . . . . . . . .	Byte	 00000143 _DATA	
pmtitle3 . . . . . . . . . . . .	Byte	 00000195 _DATA	
pmtitle4 . . . . . . . . . . . .	Byte	 000001E7 _DATA	
pmtitle5 . . . . . . . . . . . .	Byte	 00000239 _DATA	
pmtitle6 . . . . . . . . . . . .	Byte	 0000028B _DATA	
pmtitle7 . . . . . . . . . . . .	Byte	 000002DD _DATA	
pmtitle8 . . . . . . . . . . . .	Byte	 0000032F _DATA	
pmtitle9 . . . . . . . . . . . .	Byte	 00000381 _DATA	
portal1X . . . . . . . . . . . .	Byte	 0000198B _DATA	
portal1Y . . . . . . . . . . . .	Byte	 0000198C _DATA	
portal2X . . . . . . . . . . . .	Byte	 0000198D _DATA	
portal2Y . . . . . . . . . . . .	Byte	 0000198E _DATA	
portalChar . . . . . . . . . . .	Byte	 0000198F _DATA	
prevPauseState . . . . . . . . .	Byte	 0000100C _DATA	
purpleTxt  . . . . . . . . . . .	Number	 00000005h   
redTxt . . . . . . . . . . . . .	Number	 00000004h   
red  . . . . . . . . . . . . . .	Number	 00000004h   
returnMsg  . . . . . . . . . . .	Byte	 000000CF _DATA	
returnOption . . . . . . . . . .	Byte	 00000E9C _DATA	
score1 . . . . . . . . . . . . .	DWord	 00001917 _DATA	
scoreCount . . . . . . . . . . .	DWord	 000018F7 _DATA	
scoreDisplay . . . . . . . . . .	Byte	 00000E89 _DATA	
scoreMsg . . . . . . . . . . . .	Byte	 00000F76 _DATA	
score_size . . . . . . . . . . .	Byte	 00001915 _DATA	
scores . . . . . . . . . . . . .	DWord	 00001825 _DATA	
score  . . . . . . . . . . . . .	DWord	 00000FC3 _DATA	
tempBuffer . . . . . . . . . . .	Byte	 00001420 _DATA	
temp . . . . . . . . . . . . . .	Byte	 00000F6B _DATA	
userChoice . . . . . . . . . . .	Byte	 00000F6A _DATA	
userCount  . . . . . . . . . . .	DWord	 0000191B _DATA	
username . . . . . . . . . . . .	Byte	 0000009D _DATA	
wallChar . . . . . . . . . . . .	Byte	 00000F8E _DATA	
whiteTxt . . . . . . . . . . . .	Number	 0000000Fh   
white  . . . . . . . . . . . . .	Number	 0000000Fh   
wsprintf . . . . . . . . . . . .	Text   	 wsprintfA
yellowTxt  . . . . . . . . . . .	Number	 0000000Eh   
yellow . . . . . . . . . . . . .	Number	 0000000Eh   

	   0 Warnings
	   0 Errors
